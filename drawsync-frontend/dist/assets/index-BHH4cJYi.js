(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Oy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ry(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var s=r.default;if(typeof s=="function"){var i=function l(){return this instanceof l?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var c=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(i,l,c.get?c:{enumerable:!0,get:function(){return r[l]}})}),i}var Iu={exports:{}},zi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Cy(){if(Rm)return zi;Rm=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:r,type:l,key:f,ref:c!==void 0?c:null,props:d}}return zi.Fragment=s,zi.jsx=i,zi.jsxs=i,zi}var Cm;function My(){return Cm||(Cm=1,Iu.exports=Cy()),Iu.exports}var o=My(),Wu={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Uy(){if(Mm)return ce;Mm=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,z={};function O(S,Y,J){this.props=S,this.context=Y,this.refs=z,this.updater=J||k}O.prototype.isReactComponent={},O.prototype.setState=function(S,Y){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,Y,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function q(){}q.prototype=O.prototype;function V(S,Y,J){this.props=S,this.context=Y,this.refs=z,this.updater=J||k}var D=V.prototype=new q;D.constructor=V,R(D,O.prototype),D.isPureReactComponent=!0;var Q=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function K(S,Y,J,X,ee,M){return J=M.ref,{$$typeof:r,type:S,key:Y,ref:J!==void 0?J:null,props:M}}function I(S,Y){return K(S.type,Y,void 0,void 0,void 0,S.props)}function ne(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function Te(S){var Y={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(J){return Y[J]})}var De=/\/+/g;function Ze(S,Y){return typeof S=="object"&&S!==null&&S.key!=null?Te(""+S.key):Y.toString(36)}function wt(){}function oa(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(wt,wt):(S.status="pending",S.then(function(Y){S.status==="pending"&&(S.status="fulfilled",S.value=Y)},function(Y){S.status==="pending"&&(S.status="rejected",S.reason=Y)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function $e(S,Y,J,X,ee){var M=typeof S;(M==="undefined"||M==="boolean")&&(S=null);var le=!1;if(S===null)le=!0;else switch(M){case"bigint":case"string":case"number":le=!0;break;case"object":switch(S.$$typeof){case r:case s:le=!0;break;case v:return le=S._init,$e(le(S._payload),Y,J,X,ee)}}if(le)return ee=ee(S),le=X===""?"."+Ze(S,0):X,Q(ee)?(J="",le!=null&&(J=le.replace(De,"$&/")+"/"),$e(ee,Y,J,"",function(It){return It})):ee!=null&&(ne(ee)&&(ee=I(ee,J+(ee.key==null||S&&S.key===ee.key?"":(""+ee.key).replace(De,"$&/")+"/")+le)),Y.push(ee)),1;le=0;var ct=X===""?".":X+":";if(Q(S))for(var Ae=0;Ae<S.length;Ae++)X=S[Ae],M=ct+Ze(X,Ae),le+=$e(X,Y,J,M,ee);else if(Ae=_(S),typeof Ae=="function")for(S=Ae.call(S),Ae=0;!(X=S.next()).done;)X=X.value,M=ct+Ze(X,Ae++),le+=$e(X,Y,J,M,ee);else if(M==="object"){if(typeof S.then=="function")return $e(oa(S),Y,J,X,ee);throw Y=String(S),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return le}function B(S,Y,J){if(S==null)return S;var X=[],ee=0;return $e(S,X,"","",function(M){return Y.call(J,M,ee++)}),X}function Z(S){if(S._status===-1){var Y=S._result;Y=Y(),Y.then(function(J){(S._status===0||S._status===-1)&&(S._status=1,S._result=J)},function(J){(S._status===0||S._status===-1)&&(S._status=2,S._result=J)}),S._status===-1&&(S._status=0,S._result=Y)}if(S._status===1)return S._result.default;throw S._result}var te=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ve(){}return ce.Children={map:B,forEach:function(S,Y,J){B(S,function(){Y.apply(this,arguments)},J)},count:function(S){var Y=0;return B(S,function(){Y++}),Y},toArray:function(S){return B(S,function(Y){return Y})||[]},only:function(S){if(!ne(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ce.Component=O,ce.Fragment=i,ce.Profiler=c,ce.PureComponent=V,ce.StrictMode=l,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ce.__COMPILER_RUNTIME={__proto__:null,c:function(S){return L.H.useMemoCache(S)}},ce.cache=function(S){return function(){return S.apply(null,arguments)}},ce.cloneElement=function(S,Y,J){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var X=R({},S.props),ee=S.key,M=void 0;if(Y!=null)for(le in Y.ref!==void 0&&(M=void 0),Y.key!==void 0&&(ee=""+Y.key),Y)!$.call(Y,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Y.ref===void 0||(X[le]=Y[le]);var le=arguments.length-2;if(le===1)X.children=J;else if(1<le){for(var ct=Array(le),Ae=0;Ae<le;Ae++)ct[Ae]=arguments[Ae+2];X.children=ct}return K(S.type,ee,void 0,void 0,M,X)},ce.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ce.createElement=function(S,Y,J){var X,ee={},M=null;if(Y!=null)for(X in Y.key!==void 0&&(M=""+Y.key),Y)$.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ee[X]=Y[X]);var le=arguments.length-2;if(le===1)ee.children=J;else if(1<le){for(var ct=Array(le),Ae=0;Ae<le;Ae++)ct[Ae]=arguments[Ae+2];ee.children=ct}if(S&&S.defaultProps)for(X in le=S.defaultProps,le)ee[X]===void 0&&(ee[X]=le[X]);return K(S,M,void 0,void 0,null,ee)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(S){return{$$typeof:g,render:S}},ce.isValidElement=ne,ce.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:Z}},ce.memo=function(S,Y){return{$$typeof:p,type:S,compare:Y===void 0?null:Y}},ce.startTransition=function(S){var Y=L.T,J={};L.T=J;try{var X=S(),ee=L.S;ee!==null&&ee(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ve,te)}catch(M){te(M)}finally{L.T=Y}},ce.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ce.use=function(S){return L.H.use(S)},ce.useActionState=function(S,Y,J){return L.H.useActionState(S,Y,J)},ce.useCallback=function(S,Y){return L.H.useCallback(S,Y)},ce.useContext=function(S){return L.H.useContext(S)},ce.useDebugValue=function(){},ce.useDeferredValue=function(S,Y){return L.H.useDeferredValue(S,Y)},ce.useEffect=function(S,Y,J){var X=L.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(S,Y)},ce.useId=function(){return L.H.useId()},ce.useImperativeHandle=function(S,Y,J){return L.H.useImperativeHandle(S,Y,J)},ce.useInsertionEffect=function(S,Y){return L.H.useInsertionEffect(S,Y)},ce.useLayoutEffect=function(S,Y){return L.H.useLayoutEffect(S,Y)},ce.useMemo=function(S,Y){return L.H.useMemo(S,Y)},ce.useOptimistic=function(S,Y){return L.H.useOptimistic(S,Y)},ce.useReducer=function(S,Y,J){return L.H.useReducer(S,Y,J)},ce.useRef=function(S){return L.H.useRef(S)},ce.useState=function(S){return L.H.useState(S)},ce.useSyncExternalStore=function(S,Y,J){return L.H.useSyncExternalStore(S,Y,J)},ce.useTransition=function(){return L.H.useTransition()},ce.version="19.1.1",ce}var Um;function Ac(){return Um||(Um=1,Wu.exports=Uy()),Wu.exports}var j=Ac(),ec={exports:{}},Li={},tc={exports:{}},ac={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Dy(){return Dm||(Dm=1,function(r){function s(B,Z){var te=B.length;B.push(Z);e:for(;0<te;){var ve=te-1>>>1,S=B[ve];if(0<c(S,Z))B[ve]=Z,B[te]=S,te=ve;else break e}}function i(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var Z=B[0],te=B.pop();if(te!==Z){B[0]=te;e:for(var ve=0,S=B.length,Y=S>>>1;ve<Y;){var J=2*(ve+1)-1,X=B[J],ee=J+1,M=B[ee];if(0>c(X,te))ee<S&&0>c(M,X)?(B[ve]=M,B[ee]=te,ve=ee):(B[ve]=X,B[J]=te,ve=J);else if(ee<S&&0>c(M,te))B[ve]=M,B[ee]=te,ve=ee;else break e}}return Z}function c(B,Z){var te=B.sortIndex-Z.sortIndex;return te!==0?te:B.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var m=[],p=[],v=1,b=null,_=3,k=!1,R=!1,z=!1,O=!1,q=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Q(B){for(var Z=i(p);Z!==null;){if(Z.callback===null)l(p);else if(Z.startTime<=B)l(p),Z.sortIndex=Z.expirationTime,s(m,Z);else break;Z=i(p)}}function L(B){if(z=!1,Q(B),!R)if(i(m)!==null)R=!0,$||($=!0,Ze());else{var Z=i(p);Z!==null&&$e(L,Z.startTime-B)}}var $=!1,K=-1,I=5,ne=-1;function Te(){return O?!0:!(r.unstable_now()-ne<I)}function De(){if(O=!1,$){var B=r.unstable_now();ne=B;var Z=!0;try{e:{R=!1,z&&(z=!1,V(K),K=-1),k=!0;var te=_;try{t:{for(Q(B),b=i(m);b!==null&&!(b.expirationTime>B&&Te());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,_=b.priorityLevel;var S=ve(b.expirationTime<=B);if(B=r.unstable_now(),typeof S=="function"){b.callback=S,Q(B),Z=!0;break t}b===i(m)&&l(m),Q(B)}else l(m);b=i(m)}if(b!==null)Z=!0;else{var Y=i(p);Y!==null&&$e(L,Y.startTime-B),Z=!1}}break e}finally{b=null,_=te,k=!1}Z=void 0}}finally{Z?Ze():$=!1}}}var Ze;if(typeof D=="function")Ze=function(){D(De)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,oa=wt.port2;wt.port1.onmessage=De,Ze=function(){oa.postMessage(null)}}else Ze=function(){q(De,0)};function $e(B,Z){K=q(function(){B(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(B){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var te=_;_=Z;try{return B()}finally{_=te}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=_;_=B;try{return Z()}finally{_=te}},r.unstable_scheduleCallback=function(B,Z,te){var ve=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,B){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=te+S,B={id:v++,callback:Z,priorityLevel:B,startTime:te,expirationTime:S,sortIndex:-1},te>ve?(B.sortIndex=te,s(p,B),i(m)===null&&B===i(p)&&(z?(V(K),K=-1):z=!0,$e(L,te-ve))):(B.sortIndex=S,s(m,B),R||k||(R=!0,$||($=!0,Ze()))),B},r.unstable_shouldYield=Te,r.unstable_wrapCallback=function(B){var Z=_;return function(){var te=_;_=Z;try{return B.apply(this,arguments)}finally{_=te}}}}(ac)),ac}var zm;function zy(){return zm||(zm=1,tc.exports=Dy()),tc.exports}var nc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Ly(){if(Lm)return ot;Lm=1;var r=Ac();function s(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return d(m,p,null,v)},ot.flushSync=function(m){var p=f.T,v=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=p,l.p=v,l.d.f()}},ot.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ot.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:k}):v==="script"&&l.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},ot.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin);l.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=g(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},ot.requestFormReset=function(m){l.d.r(m)},ot.unstable_batchedUpdates=function(m,p){return m(p)},ot.useFormState=function(m,p,v){return f.H.useFormState(m,p,v)},ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var Bm;function By(){if(Bm)return nc.exports;Bm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),nc.exports=Ly(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function Hy(){if(Hm)return Li;Hm=1;var r=zy(),s=Ac(),i=By();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(n=u.return,n!==null){a=n;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return g(u),e;if(h===n)return g(u),t;h=h.sibling}throw Error(l(188))}if(a.return!==n.return)a=u,n=h;else{for(var y=!1,x=u.child;x;){if(x===a){y=!0,a=u,n=h;break}if(x===n){y=!0,n=u,a=h;break}x=x.sibling}if(!y){for(x=h.child;x;){if(x===a){y=!0,a=h,n=u;break}if(x===n){y=!0,n=h,a=u;break}x=x.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function Ze(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Symbol.for("react.client.reference");function oa(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===wt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case O:return"Profiler";case z:return"StrictMode";case L:return"Suspense";case $:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case D:return(e.displayName||"Context")+".Provider";case V:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:oa(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return oa(e(t))}catch{}}return null}var $e=Array.isArray,B=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ve=[],S=-1;function Y(e){return{current:e}}function J(e){0>S||(e.current=ve[S],ve[S]=null,S--)}function X(e,t){S++,ve[S]=e.current,e.current=t}var ee=Y(null),M=Y(null),le=Y(null),ct=Y(null);function Ae(e,t){switch(X(le,t),X(M,e),X(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?im(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=im(t),e=lm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ee),X(ee,e)}function It(){J(ee),J(M),J(le)}function zs(e){e.memoizedState!==null&&X(ct,e);var t=ee.current,a=lm(t,e.type);t!==a&&(X(M,e),X(ee,a))}function Cn(e){M.current===e&&(J(ee),J(M)),ct.current===e&&(J(ct),Ri._currentValue=te)}var Ls=Object.prototype.hasOwnProperty,Aa=r.unstable_scheduleCallback,Bs=r.unstable_cancelCallback,Lr=r.unstable_shouldYield,Br=r.unstable_requestPaint,Rt=r.unstable_now,Hr=r.unstable_getCurrentPriorityLevel,al=r.unstable_ImmediatePriority,nl=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,xe=r.unstable_LowPriority,oe=r.unstable_IdlePriority,Le=r.log,ft=r.unstable_setDisableYieldValue,Pe=null,Be=null;function at(e){if(typeof Le=="function"&&ft(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Pe,e)}catch{}}var Ce=Math.clz32?Math.clz32:on,Ct=Math.log,rn=Math.LN2;function on(e){return e>>>=0,e===0?32:31-(Ct(e)/rn|0)|0}var Gt=256,Wt=4194304;function ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function un(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var u=0,h=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var x=n&134217727;return x!==0?(n=x&~h,n!==0?u=ea(n):(y&=x,y!==0?u=ea(y):a||(a=x&~e,a!==0&&(u=ea(a))))):(x=n&~h,x!==0?u=ea(x):y!==0?u=ea(y):a||(a=n&~e,a!==0&&(u=ea(a)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,a=t&-t,h>=a||h===32&&(a&4194048)!==0)?t:u}function Oa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(){var e=Gt;return Gt<<=1,(Gt&4194048)===0&&(Gt=256),e}function sl(){var e=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),e}function qr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $s(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vg(e,t,a,n,u,h){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,w=e.expirationTimes,A=e.hiddenUpdates;for(a=y&~a;0<a;){var H=31-Ce(a),G=1<<H;x[H]=0,w[H]=-1;var C=A[H];if(C!==null)for(A[H]=null,H=0;H<C.length;H++){var U=C[H];U!==null&&(U.lane&=-536870913)}a&=~G}n!==0&&Gc(e,n,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(y&~t))}function Gc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ce(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Yc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ce(a),u=1<<n;u&t|e[n]&t&&(e[n]|=t),a&=~u}}function $r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vc(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Nm(e.type))}function xg(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var Ra=Math.random().toString(36).slice(2),lt="__reactFiber$"+Ra,mt="__reactProps$"+Ra,Mn="__reactContainer$"+Ra,Gr="__reactEvents$"+Ra,bg="__reactListeners$"+Ra,_g="__reactHandles$"+Ra,Kc="__reactResources$"+Ra,Ps="__reactMarker$"+Ra;function Yr(e){delete e[lt],delete e[mt],delete e[Gr],delete e[bg],delete e[_g]}function Un(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Mn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=cm(e);e!==null;){if(a=e[lt])return a;e=cm(e)}return t}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[lt]||e[Mn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Gs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function zn(e){var t=e[Kc];return t||(t=e[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Ps]=!0}var Qc=new Set,Xc={};function cn(e,t){Ln(e,t),Ln(e+"Capture",t)}function Ln(e,t){for(Xc[e]=t,e=0;e<t.length;e++)Qc.add(t[e])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Jc={};function jg(e){return Ls.call(Jc,e)?!0:Ls.call(Zc,e)?!1:wg.test(e)?Jc[e]=!0:(Zc[e]=!0,!1)}function il(e,t,a){if(jg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ll(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ua(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Vr,Fc;function Bn(e){if(Vr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Vr=t&&t[1]||"",Fc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+e+Fc}var Kr=!1;function Qr(e,t){if(!e||Kr)return"";Kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var C=U}Reflect.construct(e,[],G)}else{try{G.call()}catch(U){C=U}e.call(G.prototype)}}else{try{throw Error()}catch(U){C=U}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&C&&typeof U.stack=="string")return[U.stack,C.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=n.DetermineComponentFrameRoot(),y=h[0],x=h[1];if(y&&x){var w=y.split(`
`),A=x.split(`
`);for(u=n=0;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;for(;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;if(n===w.length||u===A.length)for(n=w.length-1,u=A.length-1;1<=n&&0<=u&&w[n]!==A[u];)u--;for(;1<=n&&0<=u;n--,u--)if(w[n]!==A[u]){if(n!==1||u!==1)do if(n--,u--,0>u||w[n]!==A[u]){var H=`
`+w[n].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=n&&0<=u);break}}}finally{Kr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Bn(a):""}function Sg(e){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Qr(e.type,!1);case 11:return Qr(e.type.render,!1);case 1:return Qr(e.type,!0);case 31:return Bn("Activity");default:return""}}function Ic(e){try{var t="";do t+=Sg(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ng(e){var t=Wc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){n=""+y,h.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=Ng(e))}function ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Wc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kg=/[\n"\\]/g;function Ut(e){return e.replace(kg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xr(e,t,a,n,u,h,y,x){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Zr(e,y,Mt(t)):a!=null?Zr(e,y,Mt(a)):n!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Mt(x):e.removeAttribute("name")}function td(e,t,a,n,u,h,y,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||t!=null))return;a=a!=null?""+Mt(a):"",t=t!=null?""+Mt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}n=n??u,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=x?e.checked:!!n,e.defaultChecked=!!n,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Zr(e,t,a){t==="number"&&ol(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Hn(e,t,a,n){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Mt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,n&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ad(e,t,a){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Mt(a):""}function nd(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if($e(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Mt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function qn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sd(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Eg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function id(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var u in t)n=t[u],t.hasOwnProperty(u)&&a[u]!==n&&sd(e,u,n)}else for(var h in t)t.hasOwnProperty(h)&&sd(e,h,t[h])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(e){return Ag.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fr=null;function Ir(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $n=null,Pn=null;function ld(e){var t=Dn(e);if(t&&(e=t.stateNode)){var a=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var u=n[mt]||null;if(!u)throw Error(l(90));Xr(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&ed(n)}break e;case"textarea":ad(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Hn(e,!!a.multiple,t,!1)}}}var Wr=!1;function rd(e,t,a){if(Wr)return e(t,a);Wr=!0;try{var n=e(t);return n}finally{if(Wr=!1,($n!==null||Pn!==null)&&(Xl(),$n&&(t=$n,e=Pn,Pn=$n=null,ld(t),e)))for(t=0;t<e.length;t++)ld(e[t])}}function Ys(e,t){var a=e.stateNode;if(a===null)return null;var n=a[mt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=!1;if(ca)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{eo=!1}var Ca=null,to=null,cl=null;function od(){if(cl)return cl;var e,t=to,a=t.length,n,u="value"in Ca?Ca.value:Ca.textContent,h=u.length;for(e=0;e<a&&t[e]===u[e];e++);var y=a-e;for(n=1;n<=y&&t[a-n]===u[h-n];n++);return cl=u.slice(e,1<n?1-n:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hl(){return!0}function ud(){return!1}function gt(e){function t(a,n,u,h,y){this._reactName=a,this._targetInst=u,this.type=n,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?hl:ud,this.isPropagationStopped=ud,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=gt(dn),Ks=v({},dn,{view:0,detail:0}),Og=gt(Ks),ao,no,Qs,ml=v({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(ao=e.screenX-Qs.screenX,no=e.screenY-Qs.screenY):no=ao=0,Qs=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:no}}),cd=gt(ml),Rg=v({},ml,{dataTransfer:0}),Cg=gt(Rg),Mg=v({},Ks,{relatedTarget:0}),so=gt(Mg),Ug=v({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dg=gt(Ug),zg=v({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lg=gt(zg),Bg=v({},dn,{data:0}),dd=gt(Bg),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$g[e])?!!t[e]:!1}function io(){return Pg}var Gg=v({},Ks,{key:function(e){if(e.key){var t=Hg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yg=gt(Gg),Vg=v({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=gt(Vg),Kg=v({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Qg=gt(Kg),Xg=v({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zg=gt(Xg),Jg=v({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=gt(Jg),Ig=v({},dn,{newState:0,oldState:0}),Wg=gt(Ig),ep=[9,13,27,32],lo=ca&&"CompositionEvent"in window,Xs=null;ca&&"documentMode"in document&&(Xs=document.documentMode);var tp=ca&&"TextEvent"in window&&!Xs,fd=ca&&(!lo||Xs&&8<Xs&&11>=Xs),md=" ",gd=!1;function pd(e,t){switch(e){case"keyup":return ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function ap(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(gd=!0,md);case"textInput":return e=t.data,e===md&&gd?null:e;default:return null}}function np(e,t){if(Gn)return e==="compositionend"||!lo&&pd(e,t)?(e=od(),cl=to=Ca=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sp[e.type]:t==="textarea"}function xd(e,t,a,n){$n?Pn?Pn.push(n):Pn=[n]:$n=n,t=er(t,"onChange"),0<t.length&&(a=new fl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Zs=null,Js=null;function ip(e){em(e,0)}function gl(e){var t=Gs(e);if(ed(t))return e}function bd(e,t){if(e==="change")return t}var _d=!1;if(ca){var ro;if(ca){var oo="oninput"in document;if(!oo){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),oo=typeof wd.oninput=="function"}ro=oo}else ro=!1;_d=ro&&(!document.documentMode||9<document.documentMode)}function jd(){Zs&&(Zs.detachEvent("onpropertychange",Sd),Js=Zs=null)}function Sd(e){if(e.propertyName==="value"&&gl(Js)){var t=[];xd(t,Js,e,Ir(e)),rd(ip,t)}}function lp(e,t,a){e==="focusin"?(jd(),Zs=t,Js=a,Zs.attachEvent("onpropertychange",Sd)):e==="focusout"&&jd()}function rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Js)}function op(e,t){if(e==="click")return gl(t)}function up(e,t){if(e==="input"||e==="change")return gl(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:cp;function Fs(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var u=a[n];if(!Ls.call(t,u)||!jt(e[u],t[u]))return!1}return!0}function Nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,t){var a=Nd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Nd(a)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ol(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ol(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dp=ca&&"documentMode"in document&&11>=document.documentMode,Yn=null,co=null,Is=null,ho=!1;function Ad(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ho||Yn==null||Yn!==ol(n)||(n=Yn,"selectionStart"in n&&uo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Is&&Fs(Is,n)||(Is=n,n=er(co,"onSelect"),0<n.length&&(t=new fl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Yn)))}function hn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Vn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},fo={},Od={};ca&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function fn(e){if(fo[e])return fo[e];if(!Vn[e])return e;var t=Vn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Od)return fo[e]=t[a];return e}var Rd=fn("animationend"),Cd=fn("animationiteration"),Md=fn("animationstart"),hp=fn("transitionrun"),fp=fn("transitionstart"),mp=fn("transitioncancel"),Ud=fn("transitionend"),Dd=new Map,mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mo.push("scrollEnd");function Yt(e,t){Dd.set(e,t),cn(t,[e])}var zd=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var a=zd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ic(t)},zd.set(e,t),t)}return{value:e,source:t,stack:Ic(t)}}var zt=[],Kn=0,go=0;function pl(){for(var e=Kn,t=go=Kn=0;t<e;){var a=zt[t];zt[t++]=null;var n=zt[t];zt[t++]=null;var u=zt[t];zt[t++]=null;var h=zt[t];if(zt[t++]=null,n!==null&&u!==null){var y=n.pending;y===null?u.next=u:(u.next=y.next,y.next=u),n.pending=u}h!==0&&Ld(a,u,h)}}function yl(e,t,a,n){zt[Kn++]=e,zt[Kn++]=t,zt[Kn++]=a,zt[Kn++]=n,go|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function po(e,t,a,n){return yl(e,t,a,n),vl(e)}function Qn(e,t){return yl(e,null,null,t),vl(e)}function Ld(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,n=h.alternate,n!==null&&(n.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-Ce(a),e=h.hiddenUpdates,n=e[u],n===null?e[u]=[t]:n.push(t),t.lane=a|536870912),h):null}function vl(e){if(50<ji)throw ji=0,wu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xn={};function gp(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,a,n){return new gp(e,t,a,n)}function yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var a=e.alternate;return a===null?(a=St(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xl(e,t,a,n,u,h){var y=0;if(n=e,typeof e=="function")yo(e)&&(y=1);else if(typeof e=="string")y=yy(e,a,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=St(31,a,t,u),e.elementType=ne,e.lanes=h,e;case R:return mn(a.children,u,h,t);case z:y=8,u|=24;break;case O:return e=St(12,a,t,u|2),e.elementType=O,e.lanes=h,e;case L:return e=St(13,a,t,u),e.elementType=L,e.lanes=h,e;case $:return e=St(19,a,t,u),e.elementType=$,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:case D:y=10;break e;case V:y=9;break e;case Q:y=11;break e;case K:y=14;break e;case I:y=16,n=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=St(y,a,t,u),t.elementType=e,t.type=n,t.lanes=h,t}function mn(e,t,a,n){return e=St(7,e,n,t),e.lanes=a,e}function vo(e,t,a){return e=St(6,e,null,t),e.lanes=a,e}function xo(e,t,a){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zn=[],Jn=0,bl=null,_l=0,Lt=[],Bt=0,gn=null,ha=1,fa="";function pn(e,t){Zn[Jn++]=_l,Zn[Jn++]=bl,bl=e,_l=t}function Hd(e,t,a){Lt[Bt++]=ha,Lt[Bt++]=fa,Lt[Bt++]=gn,gn=e;var n=ha;e=fa;var u=32-Ce(n)-1;n&=~(1<<u),a+=1;var h=32-Ce(t)+u;if(30<h){var y=u-u%5;h=(n&(1<<y)-1).toString(32),n>>=y,u-=y,ha=1<<32-Ce(t)+u|a<<u|n,fa=h+e}else ha=1<<h|a<<u|n,fa=e}function bo(e){e.return!==null&&(pn(e,1),Hd(e,1,0))}function _o(e){for(;e===bl;)bl=Zn[--Jn],Zn[Jn]=null,_l=Zn[--Jn],Zn[Jn]=null;for(;e===gn;)gn=Lt[--Bt],Lt[Bt]=null,fa=Lt[--Bt],Lt[Bt]=null,ha=Lt[--Bt],Lt[Bt]=null}var dt=null,He=null,_e=!1,yn=null,ta=!1,wo=Error(l(519));function vn(e){var t=Error(l(418,""));throw ti(Dt(t,e)),wo}function qd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[lt]=e,t[mt]=n,a){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(a=0;a<Ni.length;a++)ge(Ni[a],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),td(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),rl(t);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),nd(t,n.value,n.defaultValue,n.children),rl(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||sm(t.textContent,a)?(n.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),n.onScroll!=null&&ge("scroll",t),n.onScrollEnd!=null&&ge("scrollend",t),n.onClick!=null&&(t.onclick=tr),t=!0):t=!1,t||vn(e)}function $d(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:dt=dt.return}}function Ws(e){if(e!==dt)return!1;if(!_e)return $d(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bu(e.type,e.memoizedProps)),a=!a),a&&He&&vn(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){He=Kt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,Xa(e.type)?(e=Pu,Pu=null,He=e):He=t):He=dt?Kt(e.stateNode.nextSibling):null;return!0}function ei(){He=dt=null,_e=!1}function Pd(){var e=yn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),yn=null),e}function ti(e){yn===null?yn=[e]:yn.push(e)}var jo=Y(null),xn=null,ma=null;function Ma(e,t,a){X(jo,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=jo.current,J(jo)}function So(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function No(e,t,a,n){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var y=u.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=u;for(var w=0;w<t.length;w++)if(x.context===t[w]){h.lanes|=a,x=h.alternate,x!==null&&(x.lanes|=a),So(h.return,a,e),n||(y=null);break e}h=x.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=a,h=y.alternate,h!==null&&(h.lanes|=a),So(y,a,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function ai(e,t,a,n){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var x=u.type;jt(u.pendingProps.value,y.value)||(e!==null?e.push(x):e=[x])}}else if(u===ct.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ri):e=[Ri])}u=u.return}e!==null&&No(t,e,a,n),t.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bn(e){xn=e,ma=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Gd(xn,e)}function jl(e,t){return xn===null&&bn(e),Gd(e,t)}function Gd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ma===null){if(e===null)throw Error(l(308));ma=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ma=ma.next=t;return a}var pp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},yp=r.unstable_scheduleCallback,vp=r.unstable_NormalPriority,Qe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ko(){return{controller:new pp,data:new Map,refCount:0}}function ni(e){e.refCount--,e.refCount===0&&yp(vp,function(){e.controller.abort()})}var si=null,Eo=0,Fn=0,In=null;function xp(e,t){if(si===null){var a=si=[];Eo=0,Fn=Au(),In={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Eo++,t.then(Yd,Yd),t}function Yd(){if(--Eo===0&&si!==null){In!==null&&(In.status="fulfilled");var e=si;si=null,Fn=0,In=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(n.status="rejected",n.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),n}var Vd=B.S;B.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&xp(e,t),Vd!==null&&Vd(e,t)};var _n=Y(null);function To(){var e=_n.current;return e!==null?e:Oe.pooledCache}function Sl(e,t){t===null?X(_n,_n.current):X(_n,t.pool)}function Kd(){var e=To();return e===null?null:{parent:Qe._currentValue,pool:e}}var ii=Error(l(460)),Qd=Error(l(474)),Nl=Error(l(542)),Ao={then:function(){}};function Xd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kl(){}function Zd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(kl,kl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fd(e),e;default:if(typeof t.status=="string")t.then(kl,kl);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=n}},function(n){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fd(e),e}throw li=t,ii}}var li=null;function Jd(){if(li===null)throw Error(l(459));var e=li;return li=null,e}function Fd(e){if(e===ii||e===Nl)throw Error(l(483))}var Ua=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(we&2)!==0){var u=n.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),n.pending=t,t=vl(e),Ld(e,null,a),t}return yl(e,n,t,a),vl(e)}function ri(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Yc(e,a)}}function Co(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=y:h=h.next=y,a=a.next}while(a!==null);h===null?u=h=t:h=h.next=t}else u=h=t;a={baseState:n.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Mo=!1;function oi(){if(Mo){var e=In;if(e!==null)throw e}}function ui(e,t,a,n){Mo=!1;var u=e.updateQueue;Ua=!1;var h=u.firstBaseUpdate,y=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var w=x,A=w.next;w.next=null,y===null?h=A:y.next=A,y=w;var H=e.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==y&&(x===null?H.firstBaseUpdate=A:x.next=A,H.lastBaseUpdate=w))}if(h!==null){var G=u.baseState;y=0,H=A=w=null,x=h;do{var C=x.lane&-536870913,U=C!==x.lane;if(U?(ye&C)===C:(n&C)===C){C!==0&&C===Fn&&(Mo=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var re=e,ae=x;C=t;var ke=a;switch(ae.tag){case 1:if(re=ae.payload,typeof re=="function"){G=re.call(ke,G,C);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ae.payload,C=typeof re=="function"?re.call(ke,G,C):re,C==null)break e;G=v({},G,C);break e;case 2:Ua=!0}}C=x.callback,C!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[C]:U.push(C))}else U={lane:C,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(A=H=U,w=G):H=H.next=U,y|=C;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;U=x,x=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);H===null&&(w=G),u.baseState=w,u.firstBaseUpdate=A,u.lastBaseUpdate=H,h===null&&(u.shared.lanes=0),Ya|=y,e.lanes=y,e.memoizedState=G}}function Id(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Wd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Id(a[e],t)}var Wn=Y(null),El=Y(0);function eh(e,t){e=wa,X(El,e),X(Wn,t),wa=e|t.baseLanes}function Uo(){X(El,wa),X(Wn,Wn.current)}function Do(){wa=El.current,J(Wn),J(El)}var La=0,de=null,Se=null,Ve=null,Tl=!1,es=!1,wn=!1,Al=0,ci=0,ts=null,_p=0;function Ge(){throw Error(l(321))}function zo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function Lo(e,t,a,n,u,h){return La=h,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Lh:Bh,wn=!1,h=a(n,u),wn=!1,es&&(h=ah(t,a,n,u)),th(e),h}function th(e){B.H=Dl;var t=Se!==null&&Se.next!==null;if(La=0,Ve=Se=de=null,Tl=!1,ci=0,ts=null,t)throw Error(l(300));e===null||Fe||(e=e.dependencies,e!==null&&wl(e)&&(Fe=!0))}function ah(e,t,a,n){de=e;var u=0;do{if(es&&(ts=null),ci=0,es=!1,25<=u)throw Error(l(301));if(u+=1,Ve=Se=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=Tp,h=t(a,n)}while(es);return h}function wp(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?di(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(de.flags|=1024),t}function Bo(){var e=Al!==0;return Al=0,e}function Ho(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function qo(e){if(Tl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tl=!1}La=0,Ve=Se=de=null,es=!1,ci=Al=0,ts=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?de.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ke(){if(Se===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ve===null?de.memoizedState:Ve.next;if(t!==null)Ve=t,Se=e;else{if(e===null)throw de.alternate===null?Error(l(467)):Error(l(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ve===null?de.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function di(e){var t=ci;return ci+=1,ts===null&&(ts=[]),e=Zd(ts,e,t),t=de,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Lh:Bh),e}function Ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return di(e);if(e.$$typeof===D)return rt(e)}throw Error(l(438,String(e)))}function Po(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=de.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=$o(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Te;return t.index++,a}function pa(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=Ke();return Go(t,Se,e)}function Go(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var u=e.baseQueue,h=n.pending;if(h!==null){if(u!==null){var y=u.next;u.next=h.next,h.next=y}t.baseQueue=u=h,n.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var x=y=null,w=null,A=t,H=!1;do{var G=A.lane&-536870913;if(G!==A.lane?(ye&G)===G:(La&G)===G){var C=A.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),G===Fn&&(H=!0);else if((La&C)===C){A=A.next,C===Fn&&(H=!0);continue}else G={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(x=w=G,y=h):w=w.next=G,de.lanes|=C,Ya|=C;G=A.action,wn&&a(h,G),h=A.hasEagerState?A.eagerState:a(h,G)}else C={lane:G,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(x=w=C,y=h):w=w.next=C,de.lanes|=G,Ya|=G;A=A.next}while(A!==null&&A!==t);if(w===null?y=h:w.next=x,!jt(h,e.memoizedState)&&(Fe=!0,H&&(a=In,a!==null)))throw a;e.memoizedState=h,e.baseState=y,e.baseQueue=w,n.lastRenderedState=h}return u===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Yo(e){var t=Ke(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,u=a.pending,h=t.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do h=e(h,y.action),y=y.next;while(y!==u);jt(h,t.memoizedState)||(Fe=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,n]}function nh(e,t,a){var n=de,u=Ke(),h=_e;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=t();var y=!jt((Se||u).memoizedState,a);y&&(u.memoizedState=a,Fe=!0),u=u.queue;var x=lh.bind(null,n,u,e);if(hi(2048,8,x,[e]),u.getSnapshot!==t||y||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,as(9,Cl(),ih.bind(null,n,u,a,t),null),Oe===null)throw Error(l(349));h||(La&124)!==0||sh(n,t,a)}return a}function sh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=$o(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ih(e,t,a,n){t.value=a,t.getSnapshot=n,rh(t)&&oh(e)}function lh(e,t,a){return a(function(){rh(t)&&oh(e)})}function rh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function oh(e){var t=Qn(e,2);t!==null&&At(t,e,2)}function Vo(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),wn){at(!0);try{a()}finally{at(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function uh(e,t,a,n){return e.baseState=a,Go(e,Se,typeof n=="function"?n:pa)}function jp(e,t,a,n,u){if(Ul(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};B.T!==null?a(!0):h.isTransition=!1,n(h),a=t.pending,a===null?(h.next=t.pending=h,ch(t,h)):(h.next=a.next,t.pending=a.next=h)}}function ch(e,t){var a=t.action,n=t.payload,u=e.state;if(t.isTransition){var h=B.T,y={};B.T=y;try{var x=a(u,n),w=B.S;w!==null&&w(y,x),dh(e,t,x)}catch(A){Ko(e,t,A)}finally{B.T=h}}else try{h=a(u,n),dh(e,t,h)}catch(A){Ko(e,t,A)}}function dh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){hh(e,t,n)},function(n){return Ko(e,t,n)}):hh(e,t,a)}function hh(e,t,a){t.status="fulfilled",t.value=a,fh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ch(e,a)))}function Ko(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,fh(t),t=t.next;while(t!==n)}e.action=null}function fh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mh(e,t){return t}function gh(e,t){if(_e){var a=Oe.formState;if(a!==null){e:{var n=de;if(_e){if(He){t:{for(var u=He,h=ta;u.nodeType!==8;){if(!h){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){He=Kt(u.nextSibling),n=u.data==="F!";break e}}vn(n)}n=!1}n&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},a.queue=n,a=Uh.bind(null,de,n),n.dispatch=a,n=Vo(!1),h=Fo.bind(null,de,!1,n.queue),n=pt(),u={state:t,dispatch:null,action:e,pending:null},n.queue=u,a=jp.bind(null,de,u,h,a),u.dispatch=a,n.memoizedState=e,[t,a,!1]}function ph(e){var t=Ke();return yh(t,Se,e)}function yh(e,t,a){if(t=Go(e,t,mh)[0],e=Rl(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=di(t)}catch(y){throw y===ii?Nl:y}else n=t;t=Ke();var u=t.queue,h=u.dispatch;return a!==t.memoizedState&&(de.flags|=2048,as(9,Cl(),Sp.bind(null,u,a),null)),[n,h,e]}function Sp(e,t){e.action=t}function vh(e){var t=Ke(),a=Se;if(a!==null)return yh(t,a,e);Ke(),t=t.memoizedState,a=Ke();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function as(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=de.updateQueue,t===null&&(t=$o(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Cl(){return{destroy:void 0,resource:void 0}}function xh(){return Ke().memoizedState}function Ml(e,t,a,n){var u=pt();n=n===void 0?null:n,de.flags|=e,u.memoizedState=as(1|t,Cl(),a,n)}function hi(e,t,a,n){var u=Ke();n=n===void 0?null:n;var h=u.memoizedState.inst;Se!==null&&n!==null&&zo(n,Se.memoizedState.deps)?u.memoizedState=as(t,h,a,n):(de.flags|=e,u.memoizedState=as(1|t,h,a,n))}function bh(e,t){Ml(8390656,8,e,t)}function _h(e,t){hi(2048,8,e,t)}function wh(e,t){return hi(4,2,e,t)}function jh(e,t){return hi(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,a){a=a!=null?a.concat([e]):null,hi(4,4,Sh.bind(null,t,e),a)}function Qo(){}function kh(e,t){var a=Ke();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&zo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Eh(e,t){var a=Ke();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&zo(t,n[1]))return n[0];if(n=e(),wn){at(!0);try{e()}finally{at(!1)}}return a.memoizedState=[n,t],n}function Xo(e,t,a){return a===void 0||(La&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Rf(),de.lanes|=e,Ya|=e,a)}function Th(e,t,a,n){return jt(a,t)?a:Wn.current!==null?(e=Xo(e,a,n),jt(e,t)||(Fe=!0),e):(La&42)===0?(Fe=!0,e.memoizedState=a):(e=Rf(),de.lanes|=e,Ya|=e,t)}function Ah(e,t,a,n,u){var h=Z.p;Z.p=h!==0&&8>h?h:8;var y=B.T,x={};B.T=x,Fo(e,!1,t,a);try{var w=u(),A=B.S;if(A!==null&&A(x,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=bp(w,n);fi(e,t,H,Tt(e))}else fi(e,t,n,Tt(e))}catch(G){fi(e,t,{then:function(){},status:"rejected",reason:G},Tt())}finally{Z.p=h,B.T=y}}function Np(){}function Zo(e,t,a,n){if(e.tag!==5)throw Error(l(476));var u=Oh(e).queue;Ah(e,u,t,te,a===null?Np:function(){return Rh(e),a(n)})}function Oh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rh(e){var t=Oh(e).next.queue;fi(e,t,{},Tt())}function Jo(){return rt(Ri)}function Ch(){return Ke().memoizedState}function Mh(){return Ke().memoizedState}function kp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Tt();e=Da(a);var n=za(t,e,a);n!==null&&(At(n,t,a),ri(n,t,a)),t={cache:ko()},e.payload=t;return}t=t.return}}function Ep(e,t,a){var n=Tt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Dh(t,a):(a=po(e,t,a,n),a!==null&&(At(a,e,n),zh(a,t,n)))}function Uh(e,t,a){var n=Tt();fi(e,t,a,n)}function fi(e,t,a,n){var u={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Dh(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var y=t.lastRenderedState,x=h(y,a);if(u.hasEagerState=!0,u.eagerState=x,jt(x,y))return yl(e,t,u,0),Oe===null&&pl(),!1}catch{}finally{}if(a=po(e,t,u,n),a!==null)return At(a,e,n),zh(a,t,n),!0}return!1}function Fo(e,t,a,n){if(n={lane:2,revertLane:Au(),action:n,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(l(479))}else t=po(e,a,n,2),t!==null&&At(t,e,2)}function Ul(e){var t=e.alternate;return e===de||t!==null&&t===de}function Dh(e,t){es=Tl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function zh(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Yc(e,a)}}var Dl={readContext:rt,use:Ol,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Lh={readContext:rt,use:Ol,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:bh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ml(4194308,4,Sh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){Ml(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var n=e();if(wn){at(!0);try{e()}finally{at(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=pt();if(a!==void 0){var u=a(t);if(wn){at(!0);try{a(t)}finally{at(!1)}}}else u=t;return n.memoizedState=n.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},n.queue=e,e=e.dispatch=Ep.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vo(e);var t=e.queue,a=Uh.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Qo,useDeferredValue:function(e,t){var a=pt();return Xo(a,e,t)},useTransition:function(){var e=Vo(!1);return e=Ah.bind(null,de,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=de,u=pt();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Oe===null)throw Error(l(349));(ye&124)!==0||sh(n,t,a)}u.memoizedState=a;var h={value:a,getSnapshot:t};return u.queue=h,bh(lh.bind(null,n,h,e),[e]),n.flags|=2048,as(9,Cl(),ih.bind(null,n,h,a,t),null),a},useId:function(){var e=pt(),t=Oe.identifierPrefix;if(_e){var a=fa,n=ha;a=(n&~(1<<32-Ce(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=Al++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=_p++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Jo,useFormState:gh,useActionState:gh,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fo.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return pt().memoizedState=kp.bind(null,de)}},Bh={readContext:rt,use:Ol,useCallback:kh,useContext:rt,useEffect:_h,useImperativeHandle:Nh,useInsertionEffect:wh,useLayoutEffect:jh,useMemo:Eh,useReducer:Rl,useRef:xh,useState:function(){return Rl(pa)},useDebugValue:Qo,useDeferredValue:function(e,t){var a=Ke();return Th(a,Se.memoizedState,e,t)},useTransition:function(){var e=Rl(pa)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:di(e),t]},useSyncExternalStore:nh,useId:Ch,useHostTransitionStatus:Jo,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var a=Ke();return uh(a,Se,e,t)},useMemoCache:Po,useCacheRefresh:Mh},Tp={readContext:rt,use:Ol,useCallback:kh,useContext:rt,useEffect:_h,useImperativeHandle:Nh,useInsertionEffect:wh,useLayoutEffect:jh,useMemo:Eh,useReducer:Yo,useRef:xh,useState:function(){return Yo(pa)},useDebugValue:Qo,useDeferredValue:function(e,t){var a=Ke();return Se===null?Xo(a,e,t):Th(a,Se.memoizedState,e,t)},useTransition:function(){var e=Yo(pa)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:di(e),t]},useSyncExternalStore:nh,useId:Ch,useHostTransitionStatus:Jo,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var a=Ke();return Se!==null?uh(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Po,useCacheRefresh:Mh},ns=null,mi=0;function zl(e){var t=mi;return mi+=1,ns===null&&(ns=[]),Zd(ns,e,t)}function gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ll(e,t){throw t.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hh(e){var t=e._init;return t(e._payload)}function qh(e){function t(E,N){if(e){var T=E.deletions;T===null?(E.deletions=[N],E.flags|=16):T.push(N)}}function a(E,N){if(!e)return null;for(;N!==null;)t(E,N),N=N.sibling;return null}function n(E){for(var N=new Map;E!==null;)E.key!==null?N.set(E.key,E):N.set(E.index,E),E=E.sibling;return N}function u(E,N){return E=da(E,N),E.index=0,E.sibling=null,E}function h(E,N,T){return E.index=T,e?(T=E.alternate,T!==null?(T=T.index,T<N?(E.flags|=67108866,N):T):(E.flags|=67108866,N)):(E.flags|=1048576,N)}function y(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function x(E,N,T,P){return N===null||N.tag!==6?(N=vo(T,E.mode,P),N.return=E,N):(N=u(N,T),N.return=E,N)}function w(E,N,T,P){var F=T.type;return F===R?H(E,N,T.props.children,P,T.key):N!==null&&(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===I&&Hh(F)===N.type)?(N=u(N,T.props),gi(N,T),N.return=E,N):(N=xl(T.type,T.key,T.props,null,E.mode,P),gi(N,T),N.return=E,N)}function A(E,N,T,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==T.containerInfo||N.stateNode.implementation!==T.implementation?(N=xo(T,E.mode,P),N.return=E,N):(N=u(N,T.children||[]),N.return=E,N)}function H(E,N,T,P,F){return N===null||N.tag!==7?(N=mn(T,E.mode,P,F),N.return=E,N):(N=u(N,T),N.return=E,N)}function G(E,N,T){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vo(""+N,E.mode,T),N.return=E,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return T=xl(N.type,N.key,N.props,null,E.mode,T),gi(T,N),T.return=E,T;case k:return N=xo(N,E.mode,T),N.return=E,N;case I:var P=N._init;return N=P(N._payload),G(E,N,T)}if($e(N)||Ze(N))return N=mn(N,E.mode,T,null),N.return=E,N;if(typeof N.then=="function")return G(E,zl(N),T);if(N.$$typeof===D)return G(E,jl(E,N),T);Ll(E,N)}return null}function C(E,N,T,P){var F=N!==null?N.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return F!==null?null:x(E,N,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _:return T.key===F?w(E,N,T,P):null;case k:return T.key===F?A(E,N,T,P):null;case I:return F=T._init,T=F(T._payload),C(E,N,T,P)}if($e(T)||Ze(T))return F!==null?null:H(E,N,T,P,null);if(typeof T.then=="function")return C(E,N,zl(T),P);if(T.$$typeof===D)return C(E,N,jl(E,T),P);Ll(E,T)}return null}function U(E,N,T,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return E=E.get(T)||null,x(N,E,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return E=E.get(P.key===null?T:P.key)||null,w(N,E,P,F);case k:return E=E.get(P.key===null?T:P.key)||null,A(N,E,P,F);case I:var fe=P._init;return P=fe(P._payload),U(E,N,T,P,F)}if($e(P)||Ze(P))return E=E.get(T)||null,H(N,E,P,F,null);if(typeof P.then=="function")return U(E,N,T,zl(P),F);if(P.$$typeof===D)return U(E,N,T,jl(N,P),F);Ll(N,P)}return null}function re(E,N,T,P){for(var F=null,fe=null,W=N,se=N=0,We=null;W!==null&&se<T.length;se++){W.index>se?(We=W,W=null):We=W.sibling;var be=C(E,W,T[se],P);if(be===null){W===null&&(W=We);break}e&&W&&be.alternate===null&&t(E,W),N=h(be,N,se),fe===null?F=be:fe.sibling=be,fe=be,W=We}if(se===T.length)return a(E,W),_e&&pn(E,se),F;if(W===null){for(;se<T.length;se++)W=G(E,T[se],P),W!==null&&(N=h(W,N,se),fe===null?F=W:fe.sibling=W,fe=W);return _e&&pn(E,se),F}for(W=n(W);se<T.length;se++)We=U(W,E,se,T[se],P),We!==null&&(e&&We.alternate!==null&&W.delete(We.key===null?se:We.key),N=h(We,N,se),fe===null?F=We:fe.sibling=We,fe=We);return e&&W.forEach(function(Wa){return t(E,Wa)}),_e&&pn(E,se),F}function ae(E,N,T,P){if(T==null)throw Error(l(151));for(var F=null,fe=null,W=N,se=N=0,We=null,be=T.next();W!==null&&!be.done;se++,be=T.next()){W.index>se?(We=W,W=null):We=W.sibling;var Wa=C(E,W,be.value,P);if(Wa===null){W===null&&(W=We);break}e&&W&&Wa.alternate===null&&t(E,W),N=h(Wa,N,se),fe===null?F=Wa:fe.sibling=Wa,fe=Wa,W=We}if(be.done)return a(E,W),_e&&pn(E,se),F;if(W===null){for(;!be.done;se++,be=T.next())be=G(E,be.value,P),be!==null&&(N=h(be,N,se),fe===null?F=be:fe.sibling=be,fe=be);return _e&&pn(E,se),F}for(W=n(W);!be.done;se++,be=T.next())be=U(W,E,se,be.value,P),be!==null&&(e&&be.alternate!==null&&W.delete(be.key===null?se:be.key),N=h(be,N,se),fe===null?F=be:fe.sibling=be,fe=be);return e&&W.forEach(function(Ay){return t(E,Ay)}),_e&&pn(E,se),F}function ke(E,N,T,P){if(typeof T=="object"&&T!==null&&T.type===R&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case _:e:{for(var F=T.key;N!==null;){if(N.key===F){if(F=T.type,F===R){if(N.tag===7){a(E,N.sibling),P=u(N,T.props.children),P.return=E,E=P;break e}}else if(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===I&&Hh(F)===N.type){a(E,N.sibling),P=u(N,T.props),gi(P,T),P.return=E,E=P;break e}a(E,N);break}else t(E,N);N=N.sibling}T.type===R?(P=mn(T.props.children,E.mode,P,T.key),P.return=E,E=P):(P=xl(T.type,T.key,T.props,null,E.mode,P),gi(P,T),P.return=E,E=P)}return y(E);case k:e:{for(F=T.key;N!==null;){if(N.key===F)if(N.tag===4&&N.stateNode.containerInfo===T.containerInfo&&N.stateNode.implementation===T.implementation){a(E,N.sibling),P=u(N,T.children||[]),P.return=E,E=P;break e}else{a(E,N);break}else t(E,N);N=N.sibling}P=xo(T,E.mode,P),P.return=E,E=P}return y(E);case I:return F=T._init,T=F(T._payload),ke(E,N,T,P)}if($e(T))return re(E,N,T,P);if(Ze(T)){if(F=Ze(T),typeof F!="function")throw Error(l(150));return T=F.call(T),ae(E,N,T,P)}if(typeof T.then=="function")return ke(E,N,zl(T),P);if(T.$$typeof===D)return ke(E,N,jl(E,T),P);Ll(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,N!==null&&N.tag===6?(a(E,N.sibling),P=u(N,T),P.return=E,E=P):(a(E,N),P=vo(T,E.mode,P),P.return=E,E=P),y(E)):a(E,N)}return function(E,N,T,P){try{mi=0;var F=ke(E,N,T,P);return ns=null,F}catch(W){if(W===ii||W===Nl)throw W;var fe=St(29,W,null,E.mode);return fe.lanes=P,fe.return=E,fe}finally{}}}var ss=qh(!0),$h=qh(!1),Ht=Y(null),aa=null;function Ba(e){var t=e.alternate;X(Xe,Xe.current&1),X(Ht,e),aa===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&(aa=e)}function Ph(e){if(e.tag===22){if(X(Xe,Xe.current),X(Ht,e),aa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(aa=e)}}else Ha()}function Ha(){X(Xe,Xe.current),X(Ht,Ht.current)}function ya(e){J(Ht),aa===e&&(aa=null),J(Xe)}var Xe=Y(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$u(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Io(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Tt(),u=Da(n);u.payload=t,a!=null&&(u.callback=a),t=za(e,u,n),t!==null&&(At(t,e,n),ri(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Tt(),u=Da(n);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=za(e,u,n),t!==null&&(At(t,e,n),ri(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Tt(),n=Da(a);n.tag=2,t!=null&&(n.callback=t),t=za(e,n,a),t!==null&&(At(t,e,a),ri(t,e,a))}};function Gh(e,t,a,n,u,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,h,y):t.prototype&&t.prototype.isPureReactComponent?!Fs(a,n)||!Fs(u,h):!0}function Yh(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function jn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var Hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vh(e){Hl(e)}function Kh(e){console.error(e)}function Qh(e){Hl(e)}function ql(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Xh(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function eu(e,t,a){return a=Da(a),a.tag=3,a.payload={element:null},a.callback=function(){ql(e,t)},a}function Zh(e){return e=Da(e),e.tag=3,e}function Jh(e,t,a,n){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;e.payload=function(){return u(h)},e.callback=function(){Xh(t,a,n)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Xh(t,a,n),typeof u!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})})}function Ap(e,t,a,n,u){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ai(t,a,u,!0),a=Ht.current,a!==null){switch(a.tag){case 13:return aa===null?Su():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=u,n===Ao?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ku(e,n,u)),!1;case 22:return a.flags|=65536,n===Ao?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ku(e,n,u)),!1}throw Error(l(435,a.tag))}return ku(e,n,u),Su(),!1}if(_e)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,n!==wo&&(e=Error(l(422),{cause:n}),ti(Dt(e,a)))):(n!==wo&&(t=Error(l(423),{cause:n}),ti(Dt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,n=Dt(n,a),u=eu(e.stateNode,n,u),Co(e,u),qe!==4&&(qe=2)),!1;var h=Error(l(520),{cause:n});if(h=Dt(h,a),wi===null?wi=[h]:wi.push(h),qe!==4&&(qe=2),t===null)return!0;n=Dt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=eu(a.stateNode,n,e),Co(a,e),!1;case 1:if(t=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Va===null||!Va.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Zh(u),Jh(u,e,a,n),Co(a,u),!1}a=a.return}while(a!==null);return!1}var Fh=Error(l(461)),Fe=!1;function nt(e,t,a,n){t.child=e===null?$h(t,null,a,n):ss(t,e.child,a,n)}function Ih(e,t,a,n,u){a=a.render;var h=t.ref;if("ref"in n){var y={};for(var x in n)x!=="ref"&&(y[x]=n[x])}else y=n;return bn(t),n=Lo(e,t,a,y,h,u),x=Bo(),e!==null&&!Fe?(Ho(e,t,u),va(e,t,u)):(_e&&x&&bo(t),t.flags|=1,nt(e,t,n,u),t.child)}function Wh(e,t,a,n,u){if(e===null){var h=a.type;return typeof h=="function"&&!yo(h)&&h.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=h,ef(e,t,h,n,u)):(e=xl(a.type,null,n,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!ou(e,u)){var y=h.memoizedProps;if(a=a.compare,a=a!==null?a:Fs,a(y,n)&&e.ref===t.ref)return va(e,t,u)}return t.flags|=1,e=da(h,n),e.ref=t.ref,e.return=t,t.child=e}function ef(e,t,a,n,u){if(e!==null){var h=e.memoizedProps;if(Fs(h,n)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=n=h,ou(e,u))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,va(e,t,u)}return tu(e,t,a,n,u)}function tf(e,t,a){var n=t.pendingProps,u=n.children,h=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=h!==null?h.baseLanes|a:a,e!==null){for(u=t.child=e.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;t.childLanes=h&~n}else t.childLanes=0,t.child=null;return af(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sl(t,h!==null?h.cachePool:null),h!==null?eh(t,h):Uo(),Ph(t);else return t.lanes=t.childLanes=536870912,af(e,t,h!==null?h.baseLanes|a:a,a)}else h!==null?(Sl(t,h.cachePool),eh(t,h),Ha(),t.memoizedState=null):(e!==null&&Sl(t,null),Uo(),Ha());return nt(e,t,u,a),t.child}function af(e,t,a,n){var u=To();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Sl(t,null),Uo(),Ph(t),e!==null&&ai(e,t,n,!0),null}function $l(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function tu(e,t,a,n,u){return bn(t),a=Lo(e,t,a,n,void 0,u),n=Bo(),e!==null&&!Fe?(Ho(e,t,u),va(e,t,u)):(_e&&n&&bo(t),t.flags|=1,nt(e,t,a,u),t.child)}function nf(e,t,a,n,u,h){return bn(t),t.updateQueue=null,a=ah(t,n,a,u),th(e),n=Bo(),e!==null&&!Fe?(Ho(e,t,h),va(e,t,h)):(_e&&n&&bo(t),t.flags|=1,nt(e,t,a,h),t.child)}function sf(e,t,a,n,u){if(bn(t),t.stateNode===null){var h=Xn,y=a.contextType;typeof y=="object"&&y!==null&&(h=rt(y)),h=new a(n,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wo,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=n,h.state=t.memoizedState,h.refs={},Oo(t),y=a.contextType,h.context=typeof y=="object"&&y!==null?rt(y):Xn,h.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Io(t,a,y,n),h.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Wo.enqueueReplaceState(h,h.state,null),ui(t,n,h,u),oi(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,w=jn(a,x);h.props=w;var A=h.context,H=a.contextType;y=Xn,typeof H=="object"&&H!==null&&(y=rt(H));var G=a.getDerivedStateFromProps;H=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||A!==y)&&Yh(t,h,n,y),Ua=!1;var C=t.memoizedState;h.state=C,ui(t,n,h,u),oi(),A=t.memoizedState,x||C!==A||Ua?(typeof G=="function"&&(Io(t,a,G,n),A=t.memoizedState),(w=Ua||Gh(t,a,w,n,C,A,y))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),h.props=n,h.state=A,h.context=y,n=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{h=t.stateNode,Ro(e,t),y=t.memoizedProps,H=jn(a,y),h.props=H,G=t.pendingProps,C=h.context,A=a.contextType,w=Xn,typeof A=="object"&&A!==null&&(w=rt(A)),x=a.getDerivedStateFromProps,(A=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==G||C!==w)&&Yh(t,h,n,w),Ua=!1,C=t.memoizedState,h.state=C,ui(t,n,h,u),oi();var U=t.memoizedState;y!==G||C!==U||Ua||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof x=="function"&&(Io(t,a,x,n),U=t.memoizedState),(H=Ua||Gh(t,a,H,n,C,U,w)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(A||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(n,U,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(n,U,w)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),h.props=n,h.state=U,h.context=w,n=H):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return h=n,$l(e,t),n=(t.flags&128)!==0,h||n?(h=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&n?(t.child=ss(t,e.child,null,u),t.child=ss(t,null,a,u)):nt(e,t,a,u),t.memoizedState=h.state,e=t.child):e=va(e,t,u),e}function lf(e,t,a,n){return ei(),t.flags|=256,nt(e,t,a,n),t.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(e){return{baseLanes:e,cachePool:Kd()}}function su(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function rf(e,t,a){var n=t.pendingProps,u=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(u?Ba(t):Ha(),_e){var x=He,w;if(w=x){e:{for(w=x,x=ta;w.nodeType!==8;){if(!x){x=null;break e}if(w=Kt(w.nextSibling),w===null){x=null;break e}}x=w}x!==null?(t.memoizedState={dehydrated:x,treeContext:gn!==null?{id:ha,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},w=St(18,null,null,0),w.stateNode=x,w.return=t,t.child=w,dt=t,He=null,w=!0):w=!1}w||vn(t)}if(x=t.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return $u(x)?t.lanes=32:t.lanes=536870912,null;ya(t)}return x=n.children,n=n.fallback,u?(Ha(),u=t.mode,x=Pl({mode:"hidden",children:x},u),n=mn(n,u,a,null),x.return=t,n.return=t,x.sibling=n,t.child=x,u=t.child,u.memoizedState=nu(a),u.childLanes=su(e,y,a),t.memoizedState=au,n):(Ba(t),iu(t,x))}if(w=e.memoizedState,w!==null&&(x=w.dehydrated,x!==null)){if(h)t.flags&256?(Ba(t),t.flags&=-257,t=lu(e,t,a)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),u=n.fallback,x=t.mode,n=Pl({mode:"visible",children:n.children},x),u=mn(u,x,a,null),u.flags|=2,n.return=t,u.return=t,n.sibling=u,t.child=n,ss(t,e.child,null,a),n=t.child,n.memoizedState=nu(a),n.childLanes=su(e,y,a),t.memoizedState=au,t=u);else if(Ba(t),$u(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var A=y.dgst;y=A,n=Error(l(419)),n.stack="",n.digest=y,ti({value:n,source:null,stack:null}),t=lu(e,t,a)}else if(Fe||ai(e,t,a,!1),y=(a&e.childLanes)!==0,Fe||y){if(y=Oe,y!==null&&(n=a&-a,n=(n&42)!==0?1:$r(n),n=(n&(y.suspendedLanes|a))!==0?0:n,n!==0&&n!==w.retryLane))throw w.retryLane=n,Qn(e,n),At(y,e,n),Fh;x.data==="$?"||Su(),t=lu(e,t,a)}else x.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,He=Kt(x.nextSibling),dt=t,_e=!0,yn=null,ta=!1,e!==null&&(Lt[Bt++]=ha,Lt[Bt++]=fa,Lt[Bt++]=gn,ha=e.id,fa=e.overflow,gn=t),t=iu(t,n.children),t.flags|=4096);return t}return u?(Ha(),u=n.fallback,x=t.mode,w=e.child,A=w.sibling,n=da(w,{mode:"hidden",children:n.children}),n.subtreeFlags=w.subtreeFlags&65011712,A!==null?u=da(A,u):(u=mn(u,x,a,null),u.flags|=2),u.return=t,n.return=t,n.sibling=u,t.child=n,n=u,u=t.child,x=e.child.memoizedState,x===null?x=nu(a):(w=x.cachePool,w!==null?(A=Qe._currentValue,w=w.parent!==A?{parent:A,pool:A}:w):w=Kd(),x={baseLanes:x.baseLanes|a,cachePool:w}),u.memoizedState=x,u.childLanes=su(e,y,a),t.memoizedState=au,n):(Ba(t),a=e.child,e=a.sibling,a=da(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function iu(e,t){return t=Pl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pl(e,t){return e=St(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lu(e,t,a){return ss(t,e.child,null,a),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function of(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),So(e.return,t,a)}function ru(e,t,a,n,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=n,h.tail=a,h.tailMode=u)}function uf(e,t,a){var n=t.pendingProps,u=n.revealOrder,h=n.tail;if(nt(e,t,n.children,a),n=Xe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,a,t);else if(e.tag===19)of(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(X(Xe,n),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Bl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),ru(t,!1,u,a,h);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Bl(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}ru(t,!0,a,null,h);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function va(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ai(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=da(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=da(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function Op(e,t,a){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),Ma(t,Qe,e.memoizedState.cache),ei();break;case 27:case 5:zs(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ba(t),t.flags|=128,null):(a&t.child.childLanes)!==0?rf(e,t,a):(Ba(t),e=va(e,t,a),e!==null?e.sibling:null);Ba(t);break;case 19:var u=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ai(e,t,a,!1),n=(a&t.childLanes)!==0),u){if(n)return uf(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,tf(e,t,a);case 24:Ma(t,Qe,e.memoizedState.cache)}return va(e,t,a)}function cf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!ou(e,a)&&(t.flags&128)===0)return Fe=!1,Op(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,_e&&(t.flags&1048576)!==0&&Hd(t,_l,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,u=n._init;if(n=u(n._payload),t.type=n,typeof n=="function")yo(n)?(e=jn(n,e),t.tag=1,t=sf(null,t,n,e,a)):(t.tag=0,t=tu(null,t,n,e,a));else{if(n!=null){if(u=n.$$typeof,u===Q){t.tag=11,t=Ih(null,t,n,e,a);break e}else if(u===K){t.tag=14,t=Wh(null,t,n,e,a);break e}}throw t=oa(n)||n,Error(l(306,t,""))}}return t;case 0:return tu(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,u=jn(n,t.pendingProps),sf(e,t,n,u,a);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var h=t.memoizedState;u=h.element,Ro(e,t),ui(t,n,null,a);var y=t.memoizedState;if(n=y.cache,Ma(t,Qe,n),n!==h.cache&&No(t,[Qe],a,!0),oi(),n=y.element,h.isDehydrated)if(h={element:n,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=lf(e,t,n,a);break e}else if(n!==u){u=Dt(Error(l(424)),t),ti(u),t=lf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Kt(e.firstChild),dt=t,_e=!0,yn=null,ta=!0,a=$h(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ei(),n===u){t=va(e,t,a);break e}nt(e,t,n,a)}t=t.child}return t;case 26:return $l(e,t),e===null?(a=mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,n=ar(le.current).createElement(a),n[lt]=t,n[mt]=e,it(n,a,e),Je(n),t.stateNode=n):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return zs(t),e===null&&_e&&(n=t.stateNode=dm(t.type,t.pendingProps,le.current),dt=t,ta=!0,u=He,Xa(t.type)?(Pu=u,He=Kt(n.firstChild)):He=u),nt(e,t,t.pendingProps.children,a),$l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((u=n=He)&&(n=sy(n,t.type,t.pendingProps,ta),n!==null?(t.stateNode=n,dt=t,He=Kt(n.firstChild),ta=!1,u=!0):u=!1),u||vn(t)),zs(t),u=t.type,h=t.pendingProps,y=e!==null?e.memoizedProps:null,n=h.children,Bu(u,h)?n=null:y!==null&&Bu(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Lo(e,t,wp,null,null,a),Ri._currentValue=u),$l(e,t),nt(e,t,n,a),t.child;case 6:return e===null&&_e&&((e=a=He)&&(a=iy(a,t.pendingProps,ta),a!==null?(t.stateNode=a,dt=t,He=null,e=!0):e=!1),e||vn(t)),null;case 13:return rf(e,t,a);case 4:return Ae(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,a):nt(e,t,n,a),t.child;case 11:return Ih(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ma(t,t.type,n.value),nt(e,t,n.children,a),t.child;case 9:return u=t.type._context,n=t.pendingProps.children,bn(t),u=rt(u),n=n(u),t.flags|=1,nt(e,t,n,a),t.child;case 14:return Wh(e,t,t.type,t.pendingProps,a);case 15:return ef(e,t,t.type,t.pendingProps,a);case 19:return uf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Pl(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=da(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return tf(e,t,a);case 24:return bn(t),n=rt(Qe),e===null?(u=To(),u===null&&(u=Oe,h=ko(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),t.memoizedState={parent:n,cache:u},Oo(t),Ma(t,Qe,u)):((e.lanes&a)!==0&&(Ro(e,t),ui(t,null,null,a),oi()),u=e.memoizedState,h=t.memoizedState,u.parent!==n?(u={parent:n,cache:n},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ma(t,Qe,n)):(n=h.cache,Ma(t,Qe,n),n!==u.cache&&No(t,[Qe],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function xa(e){e.flags|=4}function df(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xm(t)){if(t=Ht.current,t!==null&&((ye&4194048)===ye?aa!==null:(ye&62914560)!==ye&&(ye&536870912)===0||t!==aa))throw li=Ao,Qd;e.flags|=8192}}function Gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sl():536870912,e.lanes|=t,os|=t)}function pi(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags&65011712,n|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags,n|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Rp(e,t,a){var n=t.pendingProps;switch(_o(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ga(Qe),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Pd())),ze(t),null;case 26:return a=t.memoizedState,e===null?(xa(t),a!==null?(ze(t),df(t,a)):(ze(t),t.flags&=-16777217)):a?a!==e.memoizedState?(xa(t),ze(t),df(t,a)):(ze(t),t.flags&=-16777217):(e.memoizedProps!==n&&xa(t),ze(t),t.flags&=-16777217),null;case 27:Cn(t),a=le.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&xa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=ee.current,Ws(t)?qd(t):(e=dm(u,n,a),t.stateNode=e,xa(t))}return ze(t),null;case 5:if(Cn(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&xa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(e=ee.current,Ws(t))qd(t);else{switch(u=ar(le.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?u.createElement("select",{is:n.is}):u.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?u.createElement(a,{is:n.is}):u.createElement(a)}}e[lt]=t,e[mt]=n;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(it(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xa(t)}}return ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&xa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=le.current,Ws(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,u=dt,u!==null)switch(u.tag){case 27:case 5:n=u.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||sm(e.nodeValue,a)),e||vn(t)}else e=ar(e).createTextNode(n),e[lt]=t,t.stateNode=e}return ze(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ws(t),n!==null&&n.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[lt]=t}else ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),u=!1}else u=Pd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ya(t),t):(ya(t),null)}if(ya(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,u=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(u=n.alternate.memoizedState.cachePool.pool);var h=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(h=n.memoizedState.cachePool.pool),h!==u&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Gl(t,t.updateQueue),ze(t),null;case 4:return It(),e===null&&Mu(t.stateNode.containerInfo),ze(t),null;case 10:return ga(t.type),ze(t),null;case 19:if(J(Xe),u=t.memoizedState,u===null)return ze(t),null;if(n=(t.flags&128)!==0,h=u.rendering,h===null)if(n)pi(u,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Bl(e),h!==null){for(t.flags|=128,pi(u,!1),e=h.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Bd(a,e),a=a.sibling;return X(Xe,Xe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Rt()>Kl&&(t.flags|=128,n=!0,pi(u,!1),t.lanes=4194304)}else{if(!n)if(e=Bl(h),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),pi(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!_e)return ze(t),null}else 2*Rt()-u.renderingStartTime>Kl&&a!==536870912&&(t.flags|=128,n=!0,pi(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(e=u.last,e!==null?e.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Rt(),t.sibling=null,e=Xe.current,X(Xe,n?e&1|2:e&1),t):(ze(t),null);case 22:case 23:return ya(t),Do(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),a=t.updateQueue,a!==null&&Gl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&J(_n),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(Qe),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Cp(e,t){switch(_o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(Qe),It(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cn(t),null;case 13:if(ya(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(Xe),null;case 4:return It(),null;case 10:return ga(t.type),null;case 22:case 23:return ya(t),Do(),e!==null&&J(_n),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(Qe),null;case 25:return null;default:return null}}function hf(e,t){switch(_o(t),t.tag){case 3:ga(Qe),It();break;case 26:case 27:case 5:Cn(t);break;case 4:It();break;case 13:ya(t);break;case 19:J(Xe);break;case 10:ga(t.type);break;case 22:case 23:ya(t),Do(),e!==null&&J(_n);break;case 24:ga(Qe)}}function yi(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var u=n.next;a=u;do{if((a.tag&e)===e){n=void 0;var h=a.create,y=a.inst;n=h(),y.destroy=n}a=a.next}while(a!==u)}}catch(x){Ee(t,t.return,x)}}function qa(e,t,a){try{var n=t.updateQueue,u=n!==null?n.lastEffect:null;if(u!==null){var h=u.next;n=h;do{if((n.tag&e)===e){var y=n.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,u=t;var w=a,A=x;try{A()}catch(H){Ee(u,w,H)}}}n=n.next}while(n!==h)}}catch(H){Ee(t,t.return,H)}}function ff(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Wd(t,a)}catch(n){Ee(e,e.return,n)}}}function mf(e,t,a){a.props=jn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ee(e,t,n)}}function vi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(u){Ee(e,t,u)}}function na(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(u){Ee(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ee(e,t,u)}else a.current=null}function gf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(u){Ee(e,e.return,u)}}function uu(e,t,a){try{var n=e.stateNode;Wp(n,e.type,a,t),n[mt]=t}catch(u){Ee(e,e.return,u)}}function pf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xa(e.type)||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=tr));else if(n!==4&&(n===27&&Xa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(du(e,t,a),e=e.sibling;e!==null;)du(e,t,a),e=e.sibling}function Yl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Xa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yl(e,t,a),e=e.sibling;e!==null;)Yl(e,t,a),e=e.sibling}function yf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);it(t,n,a),t[lt]=e,t[mt]=a}catch(h){Ee(e,e.return,h)}}var ba=!1,Ye=!1,hu=!1,vf=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Mp(e,t){if(e=e.containerInfo,zu=or,e=Td(e),uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var u=n.anchorOffset,h=n.focusNode;n=n.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var y=0,x=-1,w=-1,A=0,H=0,G=e,C=null;t:for(;;){for(var U;G!==a||u!==0&&G.nodeType!==3||(x=y+u),G!==h||n!==0&&G.nodeType!==3||(w=y+n),G.nodeType===3&&(y+=G.nodeValue.length),(U=G.firstChild)!==null;)C=G,G=U;for(;;){if(G===e)break t;if(C===a&&++A===u&&(x=y),C===h&&++H===n&&(w=y),(U=G.nextSibling)!==null)break;G=C,C=G.parentNode}G=U}a=x===-1||w===-1?null:{start:x,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lu={focusedElem:e,selectionRange:a},or=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){switch(t=Ie,h=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=t,u=h.memoizedProps,h=h.memoizedState,n=a.stateNode;try{var re=jn(a.type,u,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(re,h),n.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ee(a,a.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)qu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}}function xf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:$a(e,a),n&4&&yi(5,a);break;case 1:if($a(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){Ee(a,a.return,y)}else{var u=jn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ee(a,a.return,y)}}n&64&&ff(a),n&512&&vi(a,a.return);break;case 3:if($a(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Wd(e,t)}catch(y){Ee(a,a.return,y)}}break;case 27:t===null&&n&4&&yf(a);case 26:case 5:$a(e,a),t===null&&n&4&&gf(a),n&512&&vi(a,a.return);break;case 12:$a(e,a);break;case 13:$a(e,a),n&4&&wf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Pp.bind(null,a),ly(e,a))));break;case 22:if(n=a.memoizedState!==null||ba,!n){t=t!==null&&t.memoizedState!==null||Ye,u=ba;var h=Ye;ba=n,(Ye=t)&&!h?Pa(e,a,(a.subtreeFlags&8772)!==0):$a(e,a),ba=u,Ye=h}break;case 30:break;default:$a(e,a)}}function bf(e){var t=e.alternate;t!==null&&(e.alternate=null,bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,yt=!1;function _a(e,t,a){for(a=a.child;a!==null;)_f(e,t,a),a=a.sibling}function _f(e,t,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Pe,a)}catch{}switch(a.tag){case 26:Ye||na(a,t),_a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||na(a,t);var n=Me,u=yt;Xa(a.type)&&(Me=a.stateNode,yt=!1),_a(e,t,a),Ei(a.stateNode),Me=n,yt=u;break;case 5:Ye||na(a,t);case 6:if(n=Me,u=yt,Me=null,_a(e,t,a),Me=n,yt=u,Me!==null)if(yt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(a.stateNode)}catch(h){Ee(a,t,h)}else try{Me.removeChild(a.stateNode)}catch(h){Ee(a,t,h)}break;case 18:Me!==null&&(yt?(e=Me,um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Di(e)):um(Me,a.stateNode));break;case 4:n=Me,u=yt,Me=a.stateNode.containerInfo,yt=!0,_a(e,t,a),Me=n,yt=u;break;case 0:case 11:case 14:case 15:Ye||qa(2,a,t),Ye||qa(4,a,t),_a(e,t,a);break;case 1:Ye||(na(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&mf(a,t,n)),_a(e,t,a);break;case 21:_a(e,t,a);break;case 22:Ye=(n=Ye)||a.memoizedState!==null,_a(e,t,a),Ye=n;break;default:_a(e,t,a)}}function wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Di(e)}catch(a){Ee(t,t.return,a)}}function Up(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vf),t;default:throw Error(l(435,e.tag))}}function fu(e,t){var a=Up(e);t.forEach(function(n){var u=Gp.bind(null,e,n);a.has(n)||(a.add(n),n.then(u,u))})}function Nt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var u=a[n],h=e,y=t,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(Xa(x.type)){Me=x.stateNode,yt=!1;break e}break;case 5:Me=x.stateNode,yt=!1;break e;case 3:case 4:Me=x.stateNode.containerInfo,yt=!0;break e}x=x.return}if(Me===null)throw Error(l(160));_f(h,y,u),Me=null,yt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)jf(t,e),t=t.sibling}var Vt=null;function jf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),kt(e),n&4&&(qa(3,e,e.return),yi(3,e),qa(5,e,e.return));break;case 1:Nt(t,e),kt(e),n&512&&(Ye||a===null||na(a,a.return)),n&64&&ba&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var u=Vt;if(Nt(t,e),kt(e),n&512&&(Ye||a===null||na(a,a.return)),n&4){var h=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(n){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Ps]||h[lt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(n),u.head.insertBefore(h,u.querySelector("head > title"))),it(h,n,a),h[lt]=e,Je(h),n=h;break e;case"link":var y=ym("link","href",u).get(n+(a.href||""));if(y){for(var x=0;x<y.length;x++)if(h=y[x],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(x,1);break t}}h=u.createElement(n),it(h,n,a),u.head.appendChild(h);break;case"meta":if(y=ym("meta","content",u).get(n+(a.content||""))){for(x=0;x<y.length;x++)if(h=y[x],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(x,1);break t}}h=u.createElement(n),it(h,n,a),u.head.appendChild(h);break;default:throw Error(l(468,n))}h[lt]=e,Je(h),n=h}e.stateNode=n}else vm(u,e.type,e.stateNode);else e.stateNode=pm(u,n,e.memoizedProps);else h!==n?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,n===null?vm(u,e.type,e.stateNode):pm(u,n,e.memoizedProps)):n===null&&e.stateNode!==null&&uu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(t,e),kt(e),n&512&&(Ye||a===null||na(a,a.return)),a!==null&&n&4&&uu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(t,e),kt(e),n&512&&(Ye||a===null||na(a,a.return)),e.flags&32){u=e.stateNode;try{qn(u,"")}catch(U){Ee(e,e.return,U)}}n&4&&e.stateNode!=null&&(u=e.memoizedProps,uu(e,u,a!==null?a.memoizedProps:u)),n&1024&&(hu=!0);break;case 6:if(Nt(t,e),kt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(U){Ee(e,e.return,U)}}break;case 3:if(ir=null,u=Vt,Vt=nr(t.containerInfo),Nt(t,e),Vt=u,kt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(U){Ee(e,e.return,U)}hu&&(hu=!1,Sf(e));break;case 4:n=Vt,Vt=nr(e.stateNode.containerInfo),Nt(t,e),kt(e),Vt=n;break;case 12:Nt(t,e),kt(e);break;case 13:Nt(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xu=Rt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fu(e,n)));break;case 22:u=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,A=ba,H=Ye;if(ba=A||u,Ye=H||w,Nt(t,e),Ye=H,ba=A,kt(e),n&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||w||ba||Ye||Sn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(h=w.stateNode,u)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=w.stateNode;var G=w.memoizedProps.style,C=G!=null&&G.hasOwnProperty("display")?G.display:null;x.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(U){Ee(w,w.return,U)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(U){Ee(w,w.return,U)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,fu(e,a))));break;case 19:Nt(t,e),kt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fu(e,n)));break;case 30:break;case 21:break;default:Nt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(pf(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,h=cu(e);Yl(e,h,u);break;case 5:var y=a.stateNode;a.flags&32&&(qn(y,""),a.flags&=-33);var x=cu(e);Yl(e,x,y);break;case 3:case 4:var w=a.stateNode.containerInfo,A=cu(e);du(e,A,w);break;default:throw Error(l(161))}}catch(H){Ee(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function Sn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),Sn(t);break;case 1:na(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&mf(t,t.return,a),Sn(t);break;case 27:Ei(t.stateNode);case 26:case 5:na(t,t.return),Sn(t);break;case 22:t.memoizedState===null&&Sn(t);break;case 30:Sn(t);break;default:Sn(t)}e=e.sibling}}function Pa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,u=e,h=t,y=h.flags;switch(h.tag){case 0:case 11:case 15:Pa(u,h,a),yi(4,h);break;case 1:if(Pa(u,h,a),n=h,u=n.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(A){Ee(n,n.return,A)}if(n=h,u=n.updateQueue,u!==null){var x=n.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)Id(w[u],x)}catch(A){Ee(n,n.return,A)}}a&&y&64&&ff(h),vi(h,h.return);break;case 27:yf(h);case 26:case 5:Pa(u,h,a),a&&n===null&&y&4&&gf(h),vi(h,h.return);break;case 12:Pa(u,h,a);break;case 13:Pa(u,h,a),a&&y&4&&wf(u,h);break;case 22:h.memoizedState===null&&Pa(u,h,a),vi(h,h.return);break;case 30:break;default:Pa(u,h,a)}t=t.sibling}}function mu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ni(a))}function gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ni(e))}function sa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nf(e,t,a,n),t=t.sibling}function Nf(e,t,a,n){var u=t.flags;switch(t.tag){case 0:case 11:case 15:sa(e,t,a,n),u&2048&&yi(9,t);break;case 1:sa(e,t,a,n);break;case 3:sa(e,t,a,n),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ni(e)));break;case 12:if(u&2048){sa(e,t,a,n),e=t.stateNode;try{var h=t.memoizedProps,y=h.id,x=h.onPostCommit;typeof x=="function"&&x(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ee(t,t.return,w)}}else sa(e,t,a,n);break;case 13:sa(e,t,a,n);break;case 23:break;case 22:h=t.stateNode,y=t.alternate,t.memoizedState!==null?h._visibility&2?sa(e,t,a,n):xi(e,t):h._visibility&2?sa(e,t,a,n):(h._visibility|=2,is(e,t,a,n,(t.subtreeFlags&10256)!==0)),u&2048&&mu(y,t);break;case 24:sa(e,t,a,n),u&2048&&gu(t.alternate,t);break;default:sa(e,t,a,n)}}function is(e,t,a,n,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var h=e,y=t,x=a,w=n,A=y.flags;switch(y.tag){case 0:case 11:case 15:is(h,y,x,w,u),yi(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?is(h,y,x,w,u):xi(h,y):(H._visibility|=2,is(h,y,x,w,u)),u&&A&2048&&mu(y.alternate,y);break;case 24:is(h,y,x,w,u),u&&A&2048&&gu(y.alternate,y);break;default:is(h,y,x,w,u)}t=t.sibling}}function xi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,u=n.flags;switch(n.tag){case 22:xi(a,n),u&2048&&mu(n.alternate,n);break;case 24:xi(a,n),u&2048&&gu(n.alternate,n);break;default:xi(a,n)}t=t.sibling}}var bi=8192;function ls(e){if(e.subtreeFlags&bi)for(e=e.child;e!==null;)kf(e),e=e.sibling}function kf(e){switch(e.tag){case 26:ls(e),e.flags&bi&&e.memoizedState!==null&&xy(Vt,e.memoizedState,e.memoizedProps);break;case 5:ls(e);break;case 3:case 4:var t=Vt;Vt=nr(e.stateNode.containerInfo),ls(e),Vt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=bi,bi=16777216,ls(e),bi=t):ls(e));break;default:ls(e)}}function Ef(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ie=n,Af(n,e)}Ef(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tf(e),e=e.sibling}function Tf(e){switch(e.tag){case 0:case 11:case 15:_i(e),e.flags&2048&&qa(9,e,e.return);break;case 3:_i(e);break;case 12:_i(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vl(e)):_i(e);break;default:_i(e)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ie=n,Af(n,e)}Ef(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qa(8,t,t.return),Vl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vl(t));break;default:Vl(t)}e=e.sibling}}function Af(e,t){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ni(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ie=n;else e:for(a=e;Ie!==null;){n=Ie;var u=n.sibling,h=n.return;if(bf(n),n===a){Ie=null;break e}if(u!==null){u.return=h,Ie=u;break e}Ie=h}}}var Dp={getCacheForType:function(e){var t=rt(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},zp=typeof WeakMap=="function"?WeakMap:Map,we=0,Oe=null,me=null,ye=0,je=0,Et=null,Ga=!1,rs=!1,pu=!1,wa=0,qe=0,Ya=0,Nn=0,yu=0,qt=0,os=0,wi=null,vt=null,vu=!1,xu=0,Kl=1/0,Ql=null,Va=null,st=0,Ka=null,us=null,cs=0,bu=0,_u=null,Of=null,ji=0,wu=null;function Tt(){if((we&2)!==0&&ye!==0)return ye&-ye;if(B.T!==null){var e=Fn;return e!==0?e:Au()}return Vc()}function Rf(){qt===0&&(qt=(ye&536870912)===0||_e?qs():536870912);var e=Ht.current;return e!==null&&(e.flags|=32),qt}function At(e,t,a){(e===Oe&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(ds(e,0),Qa(e,ye,qt,!1)),$s(e,a),((we&2)===0||e!==Oe)&&(e===Oe&&((we&2)===0&&(Nn|=a),qe===4&&Qa(e,ye,qt,!1)),ia(e))}function Cf(e,t,a){if((we&6)!==0)throw Error(l(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Oa(e,t),u=n?Hp(e,t):Nu(e,t,!0),h=n;do{if(u===0){rs&&!n&&Qa(e,t,0,!1);break}else{if(a=e.current.alternate,h&&!Lp(a)){u=Nu(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var x=e;u=wi;var w=x.current.memoizedState.isDehydrated;if(w&&(ds(x,y).flags|=256),y=Nu(x,y,!1),y!==2){if(pu&&!w){x.errorRecoveryDisabledLanes|=h,Nn|=h,u=4;break e}h=vt,vt=u,h!==null&&(vt===null?vt=h:vt.push.apply(vt,h))}u=y}if(h=!1,u!==2)continue}}if(u===1){ds(e,0),Qa(e,t,0,!0);break}e:{switch(n=e,h=u,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Qa(n,t,qt,!Ga);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=xu+300-Rt(),10<u)){if(Qa(n,t,qt,!Ga),un(n,0,!0)!==0)break e;n.timeoutHandle=rm(Mf.bind(null,n,a,vt,Ql,vu,t,qt,Nn,os,Ga,h,2,-0,0),u);break e}Mf(n,a,vt,Ql,vu,t,qt,Nn,os,Ga,h,0,-0,0)}}break}while(!0);ia(e)}function Mf(e,t,a,n,u,h,y,x,w,A,H,G,C,U){if(e.timeoutHandle=-1,G=t.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Oi={stylesheets:null,count:0,unsuspend:vy},kf(t),G=by(),G!==null)){e.cancelPendingCommit=G(qf.bind(null,e,t,h,a,n,u,y,x,w,H,1,C,U)),Qa(e,h,y,!A);return}qf(e,t,h,a,n,u,y,x,w)}function Lp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var u=a[n],h=u.getSnapshot;u=u.value;try{if(!jt(h(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qa(e,t,a,n){t&=~yu,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var u=t;0<u;){var h=31-Ce(u),y=1<<h;n[h]=-1,u&=~y}a!==0&&Gc(e,a,t)}function Xl(){return(we&6)===0?(Si(0),!1):!0}function ju(){if(me!==null){if(je===0)var e=me.return;else e=me,ma=xn=null,qo(e),ns=null,mi=0,e=me;for(;e!==null;)hf(e.alternate,e),e=e.return;me=null}}function ds(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ty(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ju(),Oe=e,me=a=da(e.current,null),ye=t,je=0,Et=null,Ga=!1,rs=Oa(e,t),pu=!1,os=qt=yu=Nn=Ya=qe=0,vt=wi=null,vu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var u=31-Ce(n),h=1<<u;t|=e[u],n&=~h}return wa=t,pl(),a}function Uf(e,t){de=null,B.H=Dl,t===ii||t===Nl?(t=Jd(),je=3):t===Qd?(t=Jd(),je=4):je=t===Fh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,me===null&&(qe=1,ql(e,Dt(t,e.current)))}function Df(){var e=B.H;return B.H=Dl,e===null?Dl:e}function zf(){var e=B.A;return B.A=Dp,e}function Su(){qe=4,Ga||(ye&4194048)!==ye&&Ht.current!==null||(rs=!0),(Ya&134217727)===0&&(Nn&134217727)===0||Oe===null||Qa(Oe,ye,qt,!1)}function Nu(e,t,a){var n=we;we|=2;var u=Df(),h=zf();(Oe!==e||ye!==t)&&(Ql=null,ds(e,t)),t=!1;var y=qe;e:do try{if(je!==0&&me!==null){var x=me,w=Et;switch(je){case 8:ju(),y=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var A=je;if(je=0,Et=null,hs(e,x,w,A),a&&rs){y=0;break e}break;default:A=je,je=0,Et=null,hs(e,x,w,A)}}Bp(),y=qe;break}catch(H){Uf(e,H)}while(!0);return t&&e.shellSuspendCounter++,ma=xn=null,we=n,B.H=u,B.A=h,me===null&&(Oe=null,ye=0,pl()),y}function Bp(){for(;me!==null;)Lf(me)}function Hp(e,t){var a=we;we|=2;var n=Df(),u=zf();Oe!==e||ye!==t?(Ql=null,Kl=Rt()+500,ds(e,t)):rs=Oa(e,t);e:do try{if(je!==0&&me!==null){t=me;var h=Et;t:switch(je){case 1:je=0,Et=null,hs(e,t,h,1);break;case 2:case 9:if(Xd(h)){je=0,Et=null,Bf(t);break}t=function(){je!==2&&je!==9||Oe!==e||(je=7),ia(e)},h.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Xd(h)?(je=0,Et=null,Bf(t)):(je=0,Et=null,hs(e,t,h,7));break;case 5:var y=null;switch(me.tag){case 26:y=me.memoizedState;case 5:case 27:var x=me;if(!y||xm(y)){je=0,Et=null;var w=x.sibling;if(w!==null)me=w;else{var A=x.return;A!==null?(me=A,Zl(A)):me=null}break t}}je=0,Et=null,hs(e,t,h,5);break;case 6:je=0,Et=null,hs(e,t,h,6);break;case 8:ju(),qe=6;break e;default:throw Error(l(462))}}qp();break}catch(H){Uf(e,H)}while(!0);return ma=xn=null,B.H=n,B.A=u,we=a,me!==null?0:(Oe=null,ye=0,pl(),qe)}function qp(){for(;me!==null&&!Lr();)Lf(me)}function Lf(e){var t=cf(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?Zl(e):me=t}function Bf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=nf(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=nf(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:qo(t);default:hf(a,t),t=me=Bd(t,wa),t=cf(a,t,wa)}e.memoizedProps=e.pendingProps,t===null?Zl(e):me=t}function hs(e,t,a,n){ma=xn=null,qo(t),ns=null,mi=0;var u=t.return;try{if(Ap(e,u,t,a,ye)){qe=1,ql(e,Dt(a,e.current)),me=null;return}}catch(h){if(u!==null)throw me=u,h;qe=1,ql(e,Dt(a,e.current)),me=null;return}t.flags&32768?(_e||n===1?e=!0:rs||(ye&536870912)!==0?e=!1:(Ga=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ht.current,n!==null&&n.tag===13&&(n.flags|=16384))),Hf(t,e)):Zl(t)}function Zl(e){var t=e;do{if((t.flags&32768)!==0){Hf(t,Ga);return}e=t.return;var a=Rp(t.alternate,t,wa);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);qe===0&&(qe=5)}function Hf(e,t){do{var a=Cp(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);qe=6,me=null}function qf(e,t,a,n,u,h,y,x,w){e.cancelPendingCommit=null;do Jl();while(st!==0);if((we&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=go,vg(e,a,h,y,x,w),e===Oe&&(me=Oe=null,ye=0),us=t,Ka=e,cs=a,bu=h,_u=u,Of=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yp(ie,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null,u=Z.p,Z.p=2,y=we,we|=4;try{Mp(e,t,a)}finally{we=y,Z.p=u,B.T=n}}st=1,$f(),Pf(),Gf()}}function $f(){if(st===1){st=0;var e=Ka,t=us,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var n=Z.p;Z.p=2;var u=we;we|=4;try{jf(t,e);var h=Lu,y=Td(e.containerInfo),x=h.focusedElem,w=h.selectionRange;if(y!==x&&x&&x.ownerDocument&&Ed(x.ownerDocument.documentElement,x)){if(w!==null&&uo(x)){var A=w.start,H=w.end;if(H===void 0&&(H=A),"selectionStart"in x)x.selectionStart=A,x.selectionEnd=Math.min(H,x.value.length);else{var G=x.ownerDocument||document,C=G&&G.defaultView||window;if(C.getSelection){var U=C.getSelection(),re=x.textContent.length,ae=Math.min(w.start,re),ke=w.end===void 0?ae:Math.min(w.end,re);!U.extend&&ae>ke&&(y=ke,ke=ae,ae=y);var E=kd(x,ae),N=kd(x,ke);if(E&&N&&(U.rangeCount!==1||U.anchorNode!==E.node||U.anchorOffset!==E.offset||U.focusNode!==N.node||U.focusOffset!==N.offset)){var T=G.createRange();T.setStart(E.node,E.offset),U.removeAllRanges(),ae>ke?(U.addRange(T),U.extend(N.node,N.offset)):(T.setEnd(N.node,N.offset),U.addRange(T))}}}}for(G=[],U=x;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<G.length;x++){var P=G[x];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}or=!!zu,Lu=zu=null}finally{we=u,Z.p=n,B.T=a}}e.current=t,st=2}}function Pf(){if(st===2){st=0;var e=Ka,t=us,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var n=Z.p;Z.p=2;var u=we;we|=4;try{xf(e,t.alternate,t)}finally{we=u,Z.p=n,B.T=a}}st=3}}function Gf(){if(st===4||st===3){st=0,Br();var e=Ka,t=us,a=cs,n=Of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,us=Ka=null,Yf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Va=null),Pr(a),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Pe,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=B.T,u=Z.p,Z.p=2,B.T=null;try{for(var h=e.onRecoverableError,y=0;y<n.length;y++){var x=n[y];h(x.value,{componentStack:x.stack})}}finally{B.T=t,Z.p=u}}(cs&3)!==0&&Jl(),ia(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===wu?ji++:(ji=0,wu=e):ji=0,Si(0)}}function Yf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ni(t)))}function Jl(e){return $f(),Pf(),Gf(),Vf()}function Vf(){if(st!==5)return!1;var e=Ka,t=bu;bu=0;var a=Pr(cs),n=B.T,u=Z.p;try{Z.p=32>a?32:a,B.T=null,a=_u,_u=null;var h=Ka,y=cs;if(st=0,us=Ka=null,cs=0,(we&6)!==0)throw Error(l(331));var x=we;if(we|=4,Tf(h.current),Nf(h,h.current,y,a),we=x,Si(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Pe,h)}catch{}return!0}finally{Z.p=u,B.T=n,Yf(e,t)}}function Kf(e,t,a){t=Dt(a,t),t=eu(e.stateNode,t,2),e=za(e,t,2),e!==null&&($s(e,2),ia(e))}function Ee(e,t,a){if(e.tag===3)Kf(e,e,a);else for(;t!==null;){if(t.tag===3){Kf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Va===null||!Va.has(n))){e=Dt(a,e),a=Zh(2),n=za(t,a,2),n!==null&&(Jh(a,n,t,e),$s(n,2),ia(n));break}}t=t.return}}function ku(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new zp;var u=new Set;n.set(t,u)}else u=n.get(t),u===void 0&&(u=new Set,n.set(t,u));u.has(a)||(pu=!0,u.add(a),e=$p.bind(null,e,t,a),t.then(e,e))}function $p(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Oe===e&&(ye&a)===a&&(qe===4||qe===3&&(ye&62914560)===ye&&300>Rt()-xu?(we&2)===0&&ds(e,0):yu|=a,os===ye&&(os=0)),ia(e)}function Qf(e,t){t===0&&(t=sl()),e=Qn(e,t),e!==null&&($s(e,t),ia(e))}function Pp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qf(e,a)}function Gp(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),Qf(e,a)}function Yp(e,t){return Aa(e,t)}var Fl=null,fs=null,Eu=!1,Il=!1,Tu=!1,kn=0;function ia(e){e!==fs&&e.next===null&&(fs===null?Fl=fs=e:fs=fs.next=e),Il=!0,Eu||(Eu=!0,Kp())}function Si(e,t){if(!Tu&&Il){Tu=!0;do for(var a=!1,n=Fl;n!==null;){if(e!==0){var u=n.pendingLanes;if(u===0)var h=0;else{var y=n.suspendedLanes,x=n.pingedLanes;h=(1<<31-Ce(42|e)+1)-1,h&=u&~(y&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Ff(n,h))}else h=ye,h=un(n,n===Oe?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(h&3)===0||Oa(n,h)||(a=!0,Ff(n,h));n=n.next}while(a);Tu=!1}}function Vp(){Xf()}function Xf(){Il=Eu=!1;var e=0;kn!==0&&(ey()&&(e=kn),kn=0);for(var t=Rt(),a=null,n=Fl;n!==null;){var u=n.next,h=Zf(n,t);h===0?(n.next=null,a===null?Fl=u:a.next=u,u===null&&(fs=a)):(a=n,(e!==0||(h&3)!==0)&&(Il=!0)),n=u}Si(e)}function Zf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var y=31-Ce(h),x=1<<y,w=u[y];w===-1?((x&a)===0||(x&n)!==0)&&(u[y]=Hs(x,t)):w<=t&&(e.expiredLanes|=x),h&=~x}if(t=Oe,a=ye,a=un(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Bs(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Oa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Bs(n),Pr(a)){case 2:case 8:a=nl;break;case 32:a=ie;break;case 268435456:a=oe;break;default:a=ie}return n=Jf.bind(null,e),a=Aa(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Bs(n),e.callbackPriority=2,e.callbackNode=null,2}function Jf(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Jl()&&e.callbackNode!==a)return null;var n=ye;return n=un(e,e===Oe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Cf(e,n,t),Zf(e,Rt()),e.callbackNode!=null&&e.callbackNode===a?Jf.bind(null,e):null)}function Ff(e,t){if(Jl())return null;Cf(e,t,!0)}function Kp(){ay(function(){(we&6)!==0?Aa(al,Vp):Xf()})}function Au(){return kn===0&&(kn=qs()),kn}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ul(""+e)}function Wf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Qp(e,t,a,n,u){if(t==="submit"&&a&&a.stateNode===u){var h=If((u[mt]||null).action),y=n.submitter;y&&(t=(t=y[mt]||null)?If(t.formAction):y.getAttribute("formAction"),t!==null&&(h=t,y=null));var x=new fl("action","action",null,n,u);e.push({event:x,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(kn!==0){var w=y?Wf(u,y):new FormData(u);Zo(a,{pending:!0,data:w,method:u.method,action:h},null,w)}}else typeof h=="function"&&(x.preventDefault(),w=y?Wf(u,y):new FormData(u),Zo(a,{pending:!0,data:w,method:u.method,action:h},h,w))},currentTarget:u}]})}}for(var Ou=0;Ou<mo.length;Ou++){var Ru=mo[Ou],Xp=Ru.toLowerCase(),Zp=Ru[0].toUpperCase()+Ru.slice(1);Yt(Xp,"on"+Zp)}Yt(Rd,"onAnimationEnd"),Yt(Cd,"onAnimationIteration"),Yt(Md,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(hp,"onTransitionRun"),Yt(fp,"onTransitionStart"),Yt(mp,"onTransitionCancel"),Yt(Ud,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ni));function em(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],u=n.event;n=n.listeners;e:{var h=void 0;if(t)for(var y=n.length-1;0<=y;y--){var x=n[y],w=x.instance,A=x.currentTarget;if(x=x.listener,w!==h&&u.isPropagationStopped())break e;h=x,u.currentTarget=A;try{h(u)}catch(H){Hl(H)}u.currentTarget=null,h=w}else for(y=0;y<n.length;y++){if(x=n[y],w=x.instance,A=x.currentTarget,x=x.listener,w!==h&&u.isPropagationStopped())break e;h=x,u.currentTarget=A;try{h(u)}catch(H){Hl(H)}u.currentTarget=null,h=w}}}}function ge(e,t){var a=t[Gr];a===void 0&&(a=t[Gr]=new Set);var n=e+"__bubble";a.has(n)||(tm(t,e,2,!1),a.add(n))}function Cu(e,t,a){var n=0;t&&(n|=4),tm(a,e,n,t)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[Wl]){e[Wl]=!0,Qc.forEach(function(a){a!=="selectionchange"&&(Jp.has(a)||Cu(a,!1,e),Cu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wl]||(t[Wl]=!0,Cu("selectionchange",!1,t))}}function tm(e,t,a,n){switch(Nm(t)){case 2:var u=jy;break;case 8:u=Sy;break;default:u=Qu}a=u.bind(null,t,a,e),u=void 0,!eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),n?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Uu(e,t,a,n,u){var h=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var x=n.stateNode.containerInfo;if(x===u)break;if(y===4)for(y=n.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;x!==null;){if(y=Un(x),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){n=h=y;continue e}x=x.parentNode}}n=n.return}rd(function(){var A=h,H=Ir(a),G=[];e:{var C=Dd.get(e);if(C!==void 0){var U=fl,re=e;switch(e){case"keypress":if(dl(a)===0)break e;case"keydown":case"keyup":U=Yg;break;case"focusin":re="focus",U=so;break;case"focusout":re="blur",U=so;break;case"beforeblur":case"afterblur":U=so;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Qg;break;case Rd:case Cd:case Md:U=Dg;break;case Ud:U=Zg;break;case"scroll":case"scrollend":U=Og;break;case"wheel":U=Fg;break;case"copy":case"cut":case"paste":U=Lg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=hd;break;case"toggle":case"beforetoggle":U=Wg}var ae=(t&4)!==0,ke=!ae&&(e==="scroll"||e==="scrollend"),E=ae?C!==null?C+"Capture":null:C;ae=[];for(var N=A,T;N!==null;){var P=N;if(T=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||T===null||E===null||(P=Ys(N,E),P!=null&&ae.push(ki(N,P,T))),ke)break;N=N.return}0<ae.length&&(C=new U(C,re,null,a,H),G.push({event:C,listeners:ae}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",C&&a!==Fr&&(re=a.relatedTarget||a.fromElement)&&(Un(re)||re[Mn]))break e;if((U||C)&&(C=H.window===H?H:(C=H.ownerDocument)?C.defaultView||C.parentWindow:window,U?(re=a.relatedTarget||a.toElement,U=A,re=re?Un(re):null,re!==null&&(ke=d(re),ae=re.tag,re!==ke||ae!==5&&ae!==27&&ae!==6)&&(re=null)):(U=null,re=A),U!==re)){if(ae=cd,P="onMouseLeave",E="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ae=hd,P="onPointerLeave",E="onPointerEnter",N="pointer"),ke=U==null?C:Gs(U),T=re==null?C:Gs(re),C=new ae(P,N+"leave",U,a,H),C.target=ke,C.relatedTarget=T,P=null,Un(H)===A&&(ae=new ae(E,N+"enter",re,a,H),ae.target=T,ae.relatedTarget=ke,P=ae),ke=P,U&&re)t:{for(ae=U,E=re,N=0,T=ae;T;T=ms(T))N++;for(T=0,P=E;P;P=ms(P))T++;for(;0<N-T;)ae=ms(ae),N--;for(;0<T-N;)E=ms(E),T--;for(;N--;){if(ae===E||E!==null&&ae===E.alternate)break t;ae=ms(ae),E=ms(E)}ae=null}else ae=null;U!==null&&am(G,C,U,ae,!1),re!==null&&ke!==null&&am(G,ke,re,ae,!0)}}e:{if(C=A?Gs(A):window,U=C.nodeName&&C.nodeName.toLowerCase(),U==="select"||U==="input"&&C.type==="file")var F=bd;else if(vd(C))if(_d)F=up;else{F=rp;var fe=lp}else U=C.nodeName,!U||U.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?A&&Jr(A.elementType)&&(F=bd):F=op;if(F&&(F=F(e,A))){xd(G,F,a,H);break e}fe&&fe(e,C,A),e==="focusout"&&A&&C.type==="number"&&A.memoizedProps.value!=null&&Zr(C,"number",C.value)}switch(fe=A?Gs(A):window,e){case"focusin":(vd(fe)||fe.contentEditable==="true")&&(Yn=fe,co=A,Is=null);break;case"focusout":Is=co=Yn=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,Ad(G,a,H);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Ad(G,a,H)}var W;if(lo)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Gn?pd(e,a)&&(se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(fd&&a.locale!=="ko"&&(Gn||se!=="onCompositionStart"?se==="onCompositionEnd"&&Gn&&(W=od()):(Ca=H,to="value"in Ca?Ca.value:Ca.textContent,Gn=!0)),fe=er(A,se),0<fe.length&&(se=new dd(se,e,null,a,H),G.push({event:se,listeners:fe}),W?se.data=W:(W=yd(a),W!==null&&(se.data=W)))),(W=tp?ap(e,a):np(e,a))&&(se=er(A,"onBeforeInput"),0<se.length&&(fe=new dd("onBeforeInput","beforeinput",null,a,H),G.push({event:fe,listeners:se}),fe.data=W)),Qp(G,e,A,a,H)}em(G,t)})}function ki(e,t,a){return{instance:e,listener:t,currentTarget:a}}function er(e,t){for(var a=t+"Capture",n=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Ys(e,a),u!=null&&n.unshift(ki(e,u,h)),u=Ys(e,t),u!=null&&n.push(ki(e,u,h))),e.tag===3)return n;e=e.return}return[]}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function am(e,t,a,n,u){for(var h=t._reactName,y=[];a!==null&&a!==n;){var x=a,w=x.alternate,A=x.stateNode;if(x=x.tag,w!==null&&w===n)break;x!==5&&x!==26&&x!==27||A===null||(w=A,u?(A=Ys(a,h),A!=null&&y.unshift(ki(a,A,w))):u||(A=Ys(a,h),A!=null&&y.push(ki(a,A,w)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Fp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function nm(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Ip,"")}function sm(e,t){return t=nm(t),nm(e)===t}function tr(){}function Ne(e,t,a,n,u,h){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||qn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&qn(e,""+n);break;case"className":ll(e,"class",n);break;case"tabIndex":ll(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(e,a,n);break;case"style":id(e,n,h);break;case"data":if(t!=="object"){ll(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ul(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",u.name,u,null),Ne(e,t,"formEncType",u.formEncType,u,null),Ne(e,t,"formMethod",u.formMethod,u,null),Ne(e,t,"formTarget",u.formTarget,u,null)):(Ne(e,t,"encType",u.encType,u,null),Ne(e,t,"method",u.method,u,null),Ne(e,t,"target",u.target,u,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ul(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=tr);break;case"onScroll":n!=null&&ge("scroll",e);break;case"onScrollEnd":n!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=ul(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ge("beforetoggle",e),ge("toggle",e),il(e,"popover",n);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":il(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tg.get(a)||a,il(e,a,n))}}function Du(e,t,a,n,u,h){switch(a){case"style":id(e,n,h);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?qn(e,n):(typeof n=="number"||typeof n=="bigint")&&qn(e,""+n);break;case"onScroll":n!=null&&ge("scroll",e);break;case"onScrollEnd":n!=null&&ge("scrollend",e);break;case"onClick":n!=null&&(e.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),h=e[mt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof n=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,u);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):il(e,a,n)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var n=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var y=a[h];if(y!=null)switch(h){case"src":n=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,h,y,a,null)}}u&&Ne(e,t,"srcSet",a.srcSet,a,null),n&&Ne(e,t,"src",a.src,a,null);return;case"input":ge("invalid",e);var x=h=y=u=null,w=null,A=null;for(n in a)if(a.hasOwnProperty(n)){var H=a[n];if(H!=null)switch(n){case"name":u=H;break;case"type":y=H;break;case"checked":w=H;break;case"defaultChecked":A=H;break;case"value":h=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:Ne(e,t,n,H,a,null)}}td(e,h,x,w,A,y,u,!1),rl(e);return;case"select":ge("invalid",e),n=y=h=null;for(u in a)if(a.hasOwnProperty(u)&&(x=a[u],x!=null))switch(u){case"value":h=x;break;case"defaultValue":y=x;break;case"multiple":n=x;default:Ne(e,t,u,x,a,null)}t=h,a=y,e.multiple=!!n,t!=null?Hn(e,!!n,t,!1):a!=null&&Hn(e,!!n,a,!0);return;case"textarea":ge("invalid",e),h=u=n=null;for(y in a)if(a.hasOwnProperty(y)&&(x=a[y],x!=null))switch(y){case"value":n=x;break;case"defaultValue":u=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:Ne(e,t,y,x,a,null)}nd(e,n,u,h),rl(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(n=a[w],n!=null))switch(w){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ne(e,t,w,n,a,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(n=0;n<Ni.length;n++)ge(Ni[n],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(n=a[A],n!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,A,n,a,null)}return;default:if(Jr(t)){for(H in a)a.hasOwnProperty(H)&&(n=a[H],n!==void 0&&Du(e,t,H,n,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(n=a[x],n!=null&&Ne(e,t,x,n,a,null))}function Wp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,y=null,x=null,w=null,A=null,H=null;for(U in a){var G=a[U];if(a.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=G;default:n.hasOwnProperty(U)||Ne(e,t,U,null,n,G)}}for(var C in n){var U=n[C];if(G=a[C],n.hasOwnProperty(C)&&(U!=null||G!=null))switch(C){case"type":h=U;break;case"name":u=U;break;case"checked":A=U;break;case"defaultChecked":H=U;break;case"value":y=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==G&&Ne(e,t,C,U,n,G)}}Xr(e,y,x,w,A,H,h,u);return;case"select":U=y=x=C=null;for(h in a)if(w=a[h],a.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":U=w;default:n.hasOwnProperty(h)||Ne(e,t,h,null,n,w)}for(u in n)if(h=n[u],w=a[u],n.hasOwnProperty(u)&&(h!=null||w!=null))switch(u){case"value":C=h;break;case"defaultValue":x=h;break;case"multiple":y=h;default:h!==w&&Ne(e,t,u,h,n,w)}t=x,a=y,n=U,C!=null?Hn(e,!!a,C,!1):!!n!=!!a&&(t!=null?Hn(e,!!a,t,!0):Hn(e,!!a,a?[]:"",!1));return;case"textarea":U=C=null;for(x in a)if(u=a[x],a.hasOwnProperty(x)&&u!=null&&!n.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ne(e,t,x,null,n,u)}for(y in n)if(u=n[y],h=a[y],n.hasOwnProperty(y)&&(u!=null||h!=null))switch(y){case"value":C=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==h&&Ne(e,t,y,u,n,h)}ad(e,C,U);return;case"option":for(var re in a)if(C=a[re],a.hasOwnProperty(re)&&C!=null&&!n.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ne(e,t,re,null,n,C)}for(w in n)if(C=n[w],U=a[w],n.hasOwnProperty(w)&&C!==U&&(C!=null||U!=null))switch(w){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ne(e,t,w,C,n,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)C=a[ae],a.hasOwnProperty(ae)&&C!=null&&!n.hasOwnProperty(ae)&&Ne(e,t,ae,null,n,C);for(A in n)if(C=n[A],U=a[A],n.hasOwnProperty(A)&&C!==U&&(C!=null||U!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:Ne(e,t,A,C,n,U)}return;default:if(Jr(t)){for(var ke in a)C=a[ke],a.hasOwnProperty(ke)&&C!==void 0&&!n.hasOwnProperty(ke)&&Du(e,t,ke,void 0,n,C);for(H in n)C=n[H],U=a[H],!n.hasOwnProperty(H)||C===U||C===void 0&&U===void 0||Du(e,t,H,C,n,U);return}}for(var E in a)C=a[E],a.hasOwnProperty(E)&&C!=null&&!n.hasOwnProperty(E)&&Ne(e,t,E,null,n,C);for(G in n)C=n[G],U=a[G],!n.hasOwnProperty(G)||C===U||C==null&&U==null||Ne(e,t,G,C,n,U)}var zu=null,Lu=null;function ar(e){return e.nodeType===9?e:e.ownerDocument}function im(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function ey(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var rm=typeof setTimeout=="function"?setTimeout:void 0,ty=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(ny)}:rm;function ny(e){setTimeout(function(){throw e})}function Xa(e){return e==="head"}function um(e,t){var a=t,n=0,u=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<n&&8>n){a=n;var y=e.ownerDocument;if(a&1&&Ei(y.documentElement),a&2&&Ei(y.body),a&4)for(a=y.head,Ei(a),y=a.firstChild;y;){var x=y.nextSibling,w=y.nodeName;y[Ps]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=x}}if(u===0){e.removeChild(h),Di(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:n=a.charCodeAt(0)-48;else n=0;a=h}while(a);Di(t)}function qu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qu(a),Yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function sy(e,t,a,n){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ps])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function iy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function $u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ly(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Pu=null;function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function dm(e,t,a){switch(t=ar(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ei(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yr(e)}var $t=new Map,hm=new Set;function nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ja=Z.d;Z.d={f:ry,r:oy,D:uy,C:cy,L:dy,m:hy,X:my,S:fy,M:gy};function ry(){var e=ja.f(),t=Xl();return e||t}function oy(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?Rh(t):ja.r(e)}var gs=typeof document>"u"?null:document;function fm(e,t,a){var n=gs;if(n&&typeof t=="string"&&t){var u=Ut(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),hm.has(u)||(hm.add(u),e={rel:e,crossOrigin:a,href:t},n.querySelector(u)===null&&(t=n.createElement("link"),it(t,"link",e),Je(t),n.head.appendChild(t)))}}function uy(e){ja.D(e),fm("dns-prefetch",e,null)}function cy(e,t){ja.C(e,t),fm("preconnect",e,t)}function dy(e,t,a){ja.L(e,t,a);var n=gs;if(n&&e&&t){var u='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ut(a.imageSizes)+'"]')):u+='[href="'+Ut(e)+'"]';var h=u;switch(t){case"style":h=ps(e);break;case"script":h=ys(e)}$t.has(h)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$t.set(h,e),n.querySelector(u)!==null||t==="style"&&n.querySelector(Ti(h))||t==="script"&&n.querySelector(Ai(h))||(t=n.createElement("link"),it(t,"link",e),Je(t),n.head.appendChild(t)))}}function hy(e,t){ja.m(e,t);var a=gs;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ut(n)+'"][href="'+Ut(e)+'"]',h=u;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ys(e)}if(!$t.has(h)&&(e=v({rel:"modulepreload",href:e},t),$t.set(h,e),a.querySelector(u)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ai(h)))return}n=a.createElement("link"),it(n,"link",e),Je(n),a.head.appendChild(n)}}}function fy(e,t,a){ja.S(e,t,a);var n=gs;if(n&&e){var u=zn(n).hoistableStyles,h=ps(e);t=t||"default";var y=u.get(h);if(!y){var x={loading:0,preload:null};if(y=n.querySelector(Ti(h)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$t.get(h))&&Gu(e,a);var w=y=n.createElement("link");Je(w),it(w,"link",e),w._p=new Promise(function(A,H){w.onload=A,w.onerror=H}),w.addEventListener("load",function(){x.loading|=1}),w.addEventListener("error",function(){x.loading|=2}),x.loading|=4,sr(y,t,n)}y={type:"stylesheet",instance:y,count:1,state:x},u.set(h,y)}}}function my(e,t){ja.X(e,t);var a=gs;if(a&&e){var n=zn(a).hoistableScripts,u=ys(e),h=n.get(u);h||(h=a.querySelector(Ai(u)),h||(e=v({src:e,async:!0},t),(t=$t.get(u))&&Yu(e,t),h=a.createElement("script"),Je(h),it(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},n.set(u,h))}}function gy(e,t){ja.M(e,t);var a=gs;if(a&&e){var n=zn(a).hoistableScripts,u=ys(e),h=n.get(u);h||(h=a.querySelector(Ai(u)),h||(e=v({src:e,async:!0,type:"module"},t),(t=$t.get(u))&&Yu(e,t),h=a.createElement("script"),Je(h),it(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},n.set(u,h))}}function mm(e,t,a,n){var u=(u=le.current)?nr(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ps(a.href),a=zn(u).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ps(a.href);var h=zn(u).hoistableStyles,y=h.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,y),(h=u.querySelector(Ti(e)))&&!h._p&&(y.instance=h,y.state.loading=5),$t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(e,a),h||py(u,e,a,y.state))),t&&n===null)throw Error(l(528,""));return y}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ys(a),a=zn(u).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ps(e){return'href="'+Ut(e)+'"'}function Ti(e){return'link[rel="stylesheet"]['+e+"]"}function gm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function py(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),it(t,"link",a),Je(t),e.head.appendChild(t))}function ys(e){return'[src="'+Ut(e)+'"]'}function Ai(e){return"script[async]"+e}function pm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(n)return t.instance=n,Je(n),n;var u=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Je(n),it(n,"style",u),sr(n,a.precedence,e),t.instance=n;case"stylesheet":u=ps(a.href);var h=e.querySelector(Ti(u));if(h)return t.state.loading|=4,t.instance=h,Je(h),h;n=gm(a),(u=$t.get(u))&&Gu(n,u),h=(e.ownerDocument||e).createElement("link"),Je(h);var y=h;return y._p=new Promise(function(x,w){y.onload=x,y.onerror=w}),it(h,"link",n),t.state.loading|=4,sr(h,a.precedence,e),t.instance=h;case"script":return h=ys(a.src),(u=e.querySelector(Ai(h)))?(t.instance=u,Je(u),u):(n=a,(u=$t.get(h))&&(n=v({},a),Yu(n,u)),e=e.ownerDocument||e,u=e.createElement("script"),Je(u),it(u,"link",n),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,sr(n,a.precedence,e));return t.instance}function sr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=n.length?n[n.length-1]:null,h=u,y=0;y<n.length;y++){var x=n[y];if(x.dataset.precedence===t)h=x;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ir=null;function ym(e,t,a){if(ir===null){var n=new Map,u=ir=new Map;u.set(a,n)}else u=ir,n=u.get(a),n||(n=new Map,u.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[Ps]||h[lt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(t)||"";y=e+y;var x=n.get(y);x?x.push(h):n.set(y,[h])}}return n}function vm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function yy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Oi=null;function vy(){}function xy(e,t,a){if(Oi===null)throw Error(l(475));var n=Oi;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=ps(a.href),h=e.querySelector(Ti(u));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=lr.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=h,Je(h);return}h=e.ownerDocument||e,a=gm(a),(u=$t.get(u))&&Gu(a,u),h=h.createElement("link"),Je(h);var y=h;y._p=new Promise(function(x,w){y.onload=x,y.onerror=w}),it(h,"link",a),t.instance=h}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=lr.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function by(){if(Oi===null)throw Error(l(475));var e=Oi;return e.stylesheets&&e.count===0&&Vu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Vu(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function lr(){if(this.count--,this.count===0){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rr=null;function Vu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rr=new Map,t.forEach(_y,e),rr=null,lr.call(e))}function _y(e,t){if(!(t.state.loading&4)){var a=rr.get(e);if(a)var n=a.get(null);else{a=new Map,rr.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var y=u[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),n=y)}n&&a.set(null,n)}u=t.instance,y=u.getAttribute("data-precedence"),h=a.get(y)||n,h===n&&a.set(null,u),a.set(y,u),this.count++,n=lr.bind(this),u.addEventListener("load",n),u.addEventListener("error",n),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ri={$$typeof:D,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function wy(e,t,a,n,u,h,y,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=n,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function bm(e,t,a,n,u,h,y,x,w,A,H,G){return e=new wy(e,t,a,y,x,w,A,G),t=1,h===!0&&(t|=24),h=St(3,null,null,t),e.current=h,h.stateNode=e,t=ko(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:n,isDehydrated:a,cache:t},Oo(h),e}function _m(e){return e?(e=Xn,e):Xn}function wm(e,t,a,n,u,h){u=_m(u),n.context===null?n.context=u:n.pendingContext=u,n=Da(t),n.payload={element:a},h=h===void 0?null:h,h!==null&&(n.callback=h),a=za(e,n,t),a!==null&&(At(a,e,t),ri(a,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ku(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Sm(e){if(e.tag===13){var t=Qn(e,67108864);t!==null&&At(t,e,67108864),Ku(e,67108864)}}var or=!0;function jy(e,t,a,n){var u=B.T;B.T=null;var h=Z.p;try{Z.p=2,Qu(e,t,a,n)}finally{Z.p=h,B.T=u}}function Sy(e,t,a,n){var u=B.T;B.T=null;var h=Z.p;try{Z.p=8,Qu(e,t,a,n)}finally{Z.p=h,B.T=u}}function Qu(e,t,a,n){if(or){var u=Xu(n);if(u===null)Uu(e,t,n,ur,a),km(e,n);else if(ky(u,e,t,a,n))n.stopPropagation();else if(km(e,n),t&4&&-1<Ny.indexOf(e)){for(;u!==null;){var h=Dn(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=ea(h.pendingLanes);if(y!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var w=1<<31-Ce(y);x.entanglements[1]|=w,y&=~w}ia(h),(we&6)===0&&(Kl=Rt()+500,Si(0))}}break;case 13:x=Qn(h,2),x!==null&&At(x,h,2),Xl(),Ku(h,2)}if(h=Xu(n),h===null&&Uu(e,t,n,ur,a),h===u)break;u=h}u!==null&&n.stopPropagation()}else Uu(e,t,n,null,a)}}function Xu(e){return e=Ir(e),Zu(e)}var ur=null;function Zu(e){if(ur=null,e=Un(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ur=e,null}function Nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case al:return 2;case nl:return 8;case ie:case xe:return 32;case oe:return 268435456;default:return 32}default:return 32}}var Ju=!1,Za=null,Ja=null,Fa=null,Ci=new Map,Mi=new Map,Ia=[],Ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(e,t){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function Ui(e,t,a,n,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Dn(t),t!==null&&Sm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ky(e,t,a,n,u){switch(t){case"focusin":return Za=Ui(Za,e,t,a,n,u),!0;case"dragenter":return Ja=Ui(Ja,e,t,a,n,u),!0;case"mouseover":return Fa=Ui(Fa,e,t,a,n,u),!0;case"pointerover":var h=u.pointerId;return Ci.set(h,Ui(Ci.get(h)||null,e,t,a,n,u)),!0;case"gotpointercapture":return h=u.pointerId,Mi.set(h,Ui(Mi.get(h)||null,e,t,a,n,u)),!0}return!1}function Em(e){var t=Un(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,xg(e.priority,function(){if(a.tag===13){var n=Tt();n=$r(n);var u=Qn(a,n);u!==null&&At(u,a,n),Ku(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Xu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Fr=n,a.target.dispatchEvent(n),Fr=null}else return t=Dn(a),t!==null&&Sm(t),e.blockedOn=a,!1;t.shift()}return!0}function Tm(e,t,a){cr(e)&&a.delete(t)}function Ey(){Ju=!1,Za!==null&&cr(Za)&&(Za=null),Ja!==null&&cr(Ja)&&(Ja=null),Fa!==null&&cr(Fa)&&(Fa=null),Ci.forEach(Tm),Mi.forEach(Tm)}function dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ey)))}var hr=null;function Am(e){hr!==e&&(hr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hr===e&&(hr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],u=e[t+2];if(typeof n!="function"){if(Zu(n||a)===null)continue;break}var h=Dn(a);h!==null&&(e.splice(t,3),t-=3,Zo(h,{pending:!0,data:u,method:a.method,action:n},n,u))}}))}function Di(e){function t(w){return dr(w,e)}Za!==null&&dr(Za,e),Ja!==null&&dr(Ja,e),Fa!==null&&dr(Fa,e),Ci.forEach(t),Mi.forEach(t);for(var a=0;a<Ia.length;a++){var n=Ia[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var u=a[n],h=a[n+1],y=u[mt]||null;if(typeof h=="function")y||Am(a);else if(y){var x=null;if(h&&h.hasAttribute("formAction")){if(u=h,y=h[mt]||null)x=y.formAction;else if(Zu(u)!==null)continue}else x=y.action;typeof x=="function"?a[n+1]=x:(a.splice(n,3),n-=3),Am(a)}}}function Fu(e){this._internalRoot=e}fr.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Tt();wm(a,n,e,t,null,null)},fr.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wm(e.current,2,null,e,null,null),Xl(),t[Mn]=null}};function fr(e){this._internalRoot=e}fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ia.length&&t!==0&&t<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&Em(e)}};var Om=s.version;if(Om!=="19.1.1")throw Error(l(527,Om,"19.1.1"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Ty={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mr.isDisabled&&mr.supportsFiber)try{Pe=mr.inject(Ty),Be=mr}catch{}}return Li.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,n="",u=Vh,h=Kh,y=Qh,x=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(x=t.unstable_transitionCallbacks)),t=bm(e,1,!1,null,null,a,n,u,h,y,x,null),e[Mn]=t.current,Mu(e),new Fu(t)},Li.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var n=!1,u="",h=Vh,y=Kh,x=Qh,w=null,A=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(A=a.formState)),t=bm(e,1,!0,t,a??null,n,u,h,y,x,w,A),t.context=_m(null),a=t.current,n=Tt(),n=$r(n),u=Da(n),u.callback=null,za(a,u,n),a=n,t.current.lanes=a,$s(t,a),ia(t),e[Mn]=t.current,Mu(e),new fr(t)},Li.version="19.1.1",Li}var qm;function qy(){if(qm)return ec.exports;qm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),ec.exports=Hy(),ec.exports}var $y=qy();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $m="popstate";function Py(r={}){function s(l,c){let{pathname:d,search:f,hash:g}=l.location;return gc("",{pathname:d,search:f,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:Vi(c)}return Yy(s,i,null,r)}function Ue(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function Pt(r,s){if(!r){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Gy(){return Math.random().toString(36).substring(2,10)}function Pm(r,s){return{usr:r.state,key:r.key,idx:s}}function gc(r,s,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof s=="string"?Cs(s):s,state:i,key:s&&s.key||l||Gy()}}function Vi({pathname:r="/",search:s="",hash:i=""}){return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Cs(r){let s={};if(r){let i=r.indexOf("#");i>=0&&(s.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(s.search=r.substring(l),r=r.substring(0,l)),r&&(s.pathname=r)}return s}function Yy(r,s,i,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,f=c.history,g="POP",m=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function b(){g="POP";let O=v(),q=O==null?null:O-p;p=O,m&&m({action:g,location:z.location,delta:q})}function _(O,q){g="PUSH";let V=gc(z.location,O,q);p=v()+1;let D=Pm(V,p),Q=z.createHref(V);try{f.pushState(D,"",Q)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;c.location.assign(Q)}d&&m&&m({action:g,location:z.location,delta:1})}function k(O,q){g="REPLACE";let V=gc(z.location,O,q);p=v();let D=Pm(V,p),Q=z.createHref(V);f.replaceState(D,"",Q),d&&m&&m({action:g,location:z.location,delta:0})}function R(O){return Vy(O)}let z={get action(){return g},get location(){return r(c,f)},listen(O){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener($m,b),m=O,()=>{c.removeEventListener($m,b),m=null}},createHref(O){return s(c,O)},createURL:R,encodeLocation(O){let q=R(O);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:_,replace:k,go(O){return f.go(O)}};return z}function Vy(r,s=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Vi(r);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function N0(r,s,i="/"){return Ky(r,s,i,!1)}function Ky(r,s,i,l){let c=typeof s=="string"?Cs(s):s,d=Ta(c.pathname||"/",i);if(d==null)return null;let f=k0(r);Qy(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let p=sv(d);g=av(f[m],p,l)}return g}function k0(r,s=[],i=[],l=""){let c=(d,f,g)=>{let m={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};m.relativePath.startsWith("/")&&(Ue(m.relativePath.startsWith(l),`Absolute route path "${m.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(l.length));let p=Ea([l,m.relativePath]),v=i.concat(m);d.children&&d.children.length>0&&(Ue(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),k0(d.children,s,v,p)),!(d.path==null&&!d.index)&&s.push({path:p,score:ev(p,d.index),routesMeta:v})};return r.forEach((d,f)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))c(d,f);else for(let m of E0(d.path))c(d,f,m)}),s}function E0(r){let s=r.split("/");if(s.length===0)return[];let[i,...l]=s,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let f=E0(l.join("/")),g=[];return g.push(...f.map(m=>m===""?d:[d,m].join("/"))),c&&g.push(...f),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function Qy(r){r.sort((s,i)=>s.score!==i.score?i.score-s.score:tv(s.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var Xy=/^:[\w-]+$/,Zy=3,Jy=2,Fy=1,Iy=10,Wy=-2,Gm=r=>r==="*";function ev(r,s){let i=r.split("/"),l=i.length;return i.some(Gm)&&(l+=Wy),s&&(l+=Jy),i.filter(c=>!Gm(c)).reduce((c,d)=>c+(Xy.test(d)?Zy:d===""?Fy:Iy),l)}function tv(r,s){return r.length===s.length&&r.slice(0,-1).every((l,c)=>l===s[c])?r[r.length-1]-s[s.length-1]:0}function av(r,s,i=!1){let{routesMeta:l}=r,c={},d="/",f=[];for(let g=0;g<l.length;++g){let m=l[g],p=g===l.length-1,v=d==="/"?s:s.slice(d.length)||"/",b=Nr({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),_=m.route;if(!b&&p&&i&&!l[l.length-1].route.index&&(b=Nr({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:Ea([d,b.pathname]),pathnameBase:ov(Ea([d,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(d=Ea([d,b.pathnameBase]))}return f}function Nr(r,s){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=nv(r.path,r.caseSensitive,r.end),c=s.match(i);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let R=g[_]||"";f=d.slice(0,d.length-R.length).replace(/(.)\/+$/,"$1")}const k=g[_];return b&&!k?p[v]=void 0:p[v]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:f,pattern:r}}function nv(r,s=!1,i=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(l.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),l]}function sv(r){try{return r.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),r}}function Ta(r,s){if(s==="/")return r;if(!r.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}function iv(r,s="/"){let{pathname:i,search:l="",hash:c=""}=typeof r=="string"?Cs(r):r;return{pathname:i?i.startsWith("/")?i:lv(i,s):s,search:uv(l),hash:cv(c)}}function lv(r,s){let i=s.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function sc(r,s,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rv(r){return r.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function Oc(r){let s=rv(r);return s.map((i,l)=>l===s.length-1?i.pathname:i.pathnameBase)}function Rc(r,s,i,l=!1){let c;typeof r=="string"?c=Cs(r):(c={...r},Ue(!c.pathname||!c.pathname.includes("?"),sc("?","pathname","search",c)),Ue(!c.pathname||!c.pathname.includes("#"),sc("#","pathname","hash",c)),Ue(!c.search||!c.search.includes("#"),sc("#","search","hash",c)));let d=r===""||c.pathname==="",f=d?"/":c.pathname,g;if(f==null)g=i;else{let b=s.length-1;if(!l&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;c.pathname=_.join("/")}g=b>=0?s[b]:"/"}let m=iv(c,g),p=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Ea=r=>r.join("/").replace(/\/\/+/g,"/"),ov=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var T0=["POST","PUT","PATCH","DELETE"];new Set(T0);var hv=["GET",...T0];new Set(hv);var Ms=j.createContext(null);Ms.displayName="DataRouter";var Cr=j.createContext(null);Cr.displayName="DataRouterState";j.createContext(!1);var A0=j.createContext({isTransitioning:!1});A0.displayName="ViewTransition";var fv=j.createContext(new Map);fv.displayName="Fetchers";var mv=j.createContext(null);mv.displayName="Await";var Jt=j.createContext(null);Jt.displayName="Navigation";var Fi=j.createContext(null);Fi.displayName="Location";var la=j.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var Cc=j.createContext(null);Cc.displayName="RouteError";function gv(r,{relative:s}={}){Ue(Us(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=j.useContext(Jt),{hash:c,pathname:d,search:f}=Ii(r,{relative:s}),g=d;return i!=="/"&&(g=d==="/"?i:Ea([i,d])),l.createHref({pathname:g,search:f,hash:c})}function Us(){return j.useContext(Fi)!=null}function ra(){return Ue(Us(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Fi).location}var O0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R0(r){j.useContext(Jt).static||j.useLayoutEffect(r)}function Ft(){let{isDataRoute:r}=j.useContext(la);return r?Tv():pv()}function pv(){Ue(Us(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Ms),{basename:s,navigator:i}=j.useContext(Jt),{matches:l}=j.useContext(la),{pathname:c}=ra(),d=JSON.stringify(Oc(l)),f=j.useRef(!1);return R0(()=>{f.current=!0}),j.useCallback((m,p={})=>{if(Pt(f.current,O0),!f.current)return;if(typeof m=="number"){i.go(m);return}let v=Rc(m,JSON.parse(d),c,p.relative==="path");r==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:Ea([s,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[s,i,d,c,r])}j.createContext(null);function Ii(r,{relative:s}={}){let{matches:i}=j.useContext(la),{pathname:l}=ra(),c=JSON.stringify(Oc(i));return j.useMemo(()=>Rc(r,JSON.parse(c),l,s==="path"),[r,c,l,s])}function yv(r,s){return C0(r,s)}function C0(r,s,i,l){var q;Ue(Us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Jt),{matches:d}=j.useContext(la),f=d[d.length-1],g=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",v=f&&f.route;{let V=v&&v.path||"";M0(m,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let b=ra(),_;if(s){let V=typeof s=="string"?Cs(s):s;Ue(p==="/"||((q=V.pathname)==null?void 0:q.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),_=V}else _=b;let k=_.pathname||"/",R=k;if(p!=="/"){let V=p.replace(/^\//,"").split("/");R="/"+k.replace(/^\//,"").split("/").slice(V.length).join("/")}let z=N0(r,{pathname:R});Pt(v||z!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Pt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=wv(z&&z.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:Ea([p,c.encodeLocation?c.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:Ea([p,c.encodeLocation?c.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),d,i,l);return s&&O?j.createElement(Fi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function vv(){let r=Ev(),s=dv(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:d},"ErrorBoundary")," or"," ",j.createElement("code",{style:d},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},s),i?j.createElement("pre",{style:c},i):null,f)}var xv=j.createElement(vv,null),bv=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?j.createElement(la.Provider,{value:this.props.routeContext},j.createElement(Cc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _v({routeContext:r,match:s,children:i}){let l=j.useContext(Ms);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(la.Provider,{value:r},i)}function wv(r,s=[],i=null,l=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(s.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i==null?void 0:i.errors;if(d!=null){let m=c.findIndex(p=>p.route.id&&(d==null?void 0:d[p.route.id])!==void 0);Ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,g=-1;if(i)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=m),p.route.id){let{loaderData:v,errors:b}=i,_=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){f=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((m,p,v)=>{let b,_=!1,k=null,R=null;i&&(b=d&&p.route.id?d[p.route.id]:void 0,k=p.route.errorElement||xv,f&&(g<0&&v===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,R=null):g===v&&(_=!0,R=p.route.hydrateFallbackElement||null)));let z=s.concat(c.slice(0,v+1)),O=()=>{let q;return b?q=k:_?q=R:p.route.Component?q=j.createElement(p.route.Component,null):p.route.element?q=p.route.element:q=m,j.createElement(_v,{match:p,routeContext:{outlet:m,matches:z,isDataRoute:i!=null},children:q})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?j.createElement(bv,{location:i.location,revalidation:i.revalidation,component:k,error:b,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function Mc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jv(r){let s=j.useContext(Ms);return Ue(s,Mc(r)),s}function Sv(r){let s=j.useContext(Cr);return Ue(s,Mc(r)),s}function Nv(r){let s=j.useContext(la);return Ue(s,Mc(r)),s}function Uc(r){let s=Nv(r),i=s.matches[s.matches.length-1];return Ue(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function kv(){return Uc("useRouteId")}function Ev(){var l;let r=j.useContext(Cc),s=Sv("useRouteError"),i=Uc("useRouteError");return r!==void 0?r:(l=s.errors)==null?void 0:l[i]}function Tv(){let{router:r}=jv("useNavigate"),s=Uc("useNavigate"),i=j.useRef(!1);return R0(()=>{i.current=!0}),j.useCallback(async(c,d={})=>{Pt(i.current,O0),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:s,...d}))},[r,s])}var Ym={};function M0(r,s,i){!s&&!Ym[r]&&(Ym[r]=!0,Pt(!1,i))}j.memo(Av);function Av({routes:r,future:s,state:i}){return C0(r,void 0,i,s)}function $i({to:r,replace:s,state:i,relative:l}){Ue(Us(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=j.useContext(Jt);Pt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=j.useContext(la),{pathname:f}=ra(),g=Ft(),m=Rc(r,Oc(d),f,l==="path"),p=JSON.stringify(m);return j.useEffect(()=>{g(JSON.parse(p),{replace:s,state:i,relative:l})},[g,p,l,s,i]),null}function Ot(r){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ov({basename:r="/",children:s=null,location:i,navigationType:l="POP",navigator:c,static:d=!1}){Ue(!Us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:f,navigator:c,static:d,future:{}}),[f,c,d]);typeof i=="string"&&(i=Cs(i));let{pathname:m="/",search:p="",hash:v="",state:b=null,key:_="default"}=i,k=j.useMemo(()=>{let R=Ta(m,f);return R==null?null:{location:{pathname:R,search:p,hash:v,state:b,key:_},navigationType:l}},[f,m,p,v,b,_,l]);return Pt(k!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(Jt.Provider,{value:g},j.createElement(Fi.Provider,{children:s,value:k}))}function gr({children:r,location:s}){return yv(pc(r),s)}function pc(r,s=[]){let i=[];return j.Children.forEach(r,(l,c)=>{if(!j.isValidElement(l))return;let d=[...s,c];if(l.type===j.Fragment){i.push.apply(i,pc(l.props.children,d));return}Ue(l.type===Ot,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=pc(l.props.children,d)),i.push(f)}),i}var jr="get",Sr="application/x-www-form-urlencoded";function Mr(r){return r!=null&&typeof r.tagName=="string"}function Rv(r){return Mr(r)&&r.tagName.toLowerCase()==="button"}function Cv(r){return Mr(r)&&r.tagName.toLowerCase()==="form"}function Mv(r){return Mr(r)&&r.tagName.toLowerCase()==="input"}function Uv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Dv(r,s){return r.button===0&&(!s||s==="_self")&&!Uv(r)}function yc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((s,i)=>{let l=r[i];return s.concat(Array.isArray(l)?l.map(c=>[i,c]):[[i,l]])},[]))}function zv(r,s){let i=yc(r);return s&&s.forEach((l,c)=>{i.has(c)||s.getAll(c).forEach(d=>{i.append(c,d)})}),i}var pr=null;function Lv(){if(pr===null)try{new FormData(document.createElement("form"),0),pr=!1}catch{pr=!0}return pr}var Bv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ic(r){return r!=null&&!Bv.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sr}"`),null):r}function Hv(r,s){let i,l,c,d,f;if(Cv(r)){let g=r.getAttribute("action");l=g?Ta(g,s):null,i=r.getAttribute("method")||jr,c=ic(r.getAttribute("enctype"))||Sr,d=new FormData(r)}else if(Rv(r)||Mv(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(l=m?Ta(m,s):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||jr,c=ic(r.getAttribute("formenctype"))||ic(g.getAttribute("enctype"))||Sr,d=new FormData(g,r),!Lv()){let{name:p,type:v,value:b}=r;if(v==="image"){let _=p?`${p}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else p&&d.append(p,b)}}else{if(Mr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=jr,l=null,c=Sr,f=r}return d&&c==="text/plain"&&(f=d,d=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dc(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function qv(r,s,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:s&&Ta(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function $v(r,s){if(r.id in s)return s[r.id];try{let i=await import(r.module);return s[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pv(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Gv(r,s,i){let l=await Promise.all(r.map(async c=>{let d=s.routes[c.route.id];if(d){let f=await $v(d,i);return f.links?f.links():[]}return[]}));return Qv(l.flat(1).filter(Pv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Vm(r,s,i,l,c,d){let f=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,g=(m,p)=>{var v;return i[p].pathname!==m.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==m.params["*"]};return d==="assets"?s.filter((m,p)=>f(m,p)||g(m,p)):d==="data"?s.filter((m,p)=>{var b;let v=l.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Yv(r,s,{includeHydrateFallback:i}={}){return Vv(r.map(l=>{let c=s.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Vv(r){return[...new Set(r)]}function Kv(r){let s={},i=Object.keys(r).sort();for(let l of i)s[l]=r[l];return s}function Qv(r,s){let i=new Set;return new Set(s),r.reduce((l,c)=>{let d=JSON.stringify(Kv(c));return i.has(d)||(i.add(d),l.push({key:d,link:c})),l},[])}function U0(){let r=j.useContext(Ms);return Dc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Xv(){let r=j.useContext(Cr);return Dc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zc=j.createContext(void 0);zc.displayName="FrameworkContext";function D0(){let r=j.useContext(zc);return Dc(r,"You must render this element inside a <HydratedRouter> element"),r}function Zv(r,s){let i=j.useContext(zc),[l,c]=j.useState(!1),[d,f]=j.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=s,_=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let z=q=>{q.forEach(V=>{f(V.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return _.current&&O.observe(_.current),()=>{O.disconnect()}}},[r]),j.useEffect(()=>{if(l){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[l]);let k=()=>{c(!0)},R=()=>{c(!1),f(!1)};return i?r!=="intent"?[d,_,{}]:[d,_,{onFocus:Bi(g,k),onBlur:Bi(m,R),onMouseEnter:Bi(p,k),onMouseLeave:Bi(v,R),onTouchStart:Bi(b,k)}]:[!1,_,{}]}function Bi(r,s){return i=>{r&&r(i),i.defaultPrevented||s(i)}}function Jv({page:r,...s}){let{router:i}=U0(),l=j.useMemo(()=>N0(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?j.createElement(Iv,{page:r,matches:l,...s}):null}function Fv(r){let{manifest:s,routeModules:i}=D0(),[l,c]=j.useState([]);return j.useEffect(()=>{let d=!1;return Gv(r,s,i).then(f=>{d||c(f)}),()=>{d=!0}},[r,s,i]),l}function Iv({page:r,matches:s,...i}){let l=ra(),{manifest:c,routeModules:d}=D0(),{basename:f}=U0(),{loaderData:g,matches:m}=Xv(),p=j.useMemo(()=>Vm(r,s,m,c,l,"data"),[r,s,m,c,l]),v=j.useMemo(()=>Vm(r,s,m,c,l,"assets"),[r,s,m,c,l]),b=j.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let R=new Set,z=!1;if(s.forEach(q=>{var D;let V=c.routes[q.route.id];!V||!V.hasLoader||(!p.some(Q=>Q.route.id===q.route.id)&&q.route.id in g&&((D=d[q.route.id])!=null&&D.shouldRevalidate)||V.hasClientLoader?z=!0:R.add(q.route.id))}),R.size===0)return[];let O=qv(r,f,"data");return z&&R.size>0&&O.searchParams.set("_routes",s.filter(q=>R.has(q.route.id)).map(q=>q.route.id).join(",")),[O.pathname+O.search]},[f,g,l,c,p,s,r,d]),_=j.useMemo(()=>Yv(v,c),[v,c]),k=Fv(v);return j.createElement(j.Fragment,null,b.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),_.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),k.map(({key:R,link:z})=>j.createElement("link",{key:R,...z})))}function Wv(...r){return s=>{r.forEach(i=>{typeof i=="function"?i(s):i!=null&&(i.current=s)})}}var z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z0&&(window.__reactRouterVersion="7.7.1")}catch{}function ex({basename:r,children:s,window:i}){let l=j.useRef();l.current==null&&(l.current=Py({window:i,v5Compat:!0}));let c=l.current,[d,f]=j.useState({action:c.action,location:c.location}),g=j.useCallback(m=>{j.startTransition(()=>f(m))},[f]);return j.useLayoutEffect(()=>c.listen(g),[c,g]),j.createElement(Ov,{basename:r,children:s,location:d.location,navigationType:d.action,navigator:c})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B0=j.forwardRef(function({onClick:s,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:f,state:g,target:m,to:p,preventScrollReset:v,viewTransition:b,..._},k){let{basename:R}=j.useContext(Jt),z=typeof p=="string"&&L0.test(p),O,q=!1;if(typeof p=="string"&&z&&(O=p,z0))try{let ne=new URL(window.location.href),Te=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),De=Ta(Te.pathname,R);Te.origin===ne.origin&&De!=null?p=De+Te.search+Te.hash:q=!0}catch{Pt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=gv(p,{relative:c}),[D,Q,L]=Zv(l,_),$=sx(p,{replace:f,state:g,target:m,preventScrollReset:v,relative:c,viewTransition:b});function K(ne){s&&s(ne),ne.defaultPrevented||$(ne)}let I=j.createElement("a",{..._,...L,href:O||V,onClick:q||d?s:K,ref:Wv(k,Q),target:m,"data-discover":!z&&i==="render"?"true":void 0});return D&&!z?j.createElement(j.Fragment,null,I,j.createElement(Jv,{page:V})):I});B0.displayName="Link";var tx=j.forwardRef(function({"aria-current":s="page",caseSensitive:i=!1,className:l="",end:c=!1,style:d,to:f,viewTransition:g,children:m,...p},v){let b=Ii(f,{relative:p.relative}),_=ra(),k=j.useContext(Cr),{navigator:R,basename:z}=j.useContext(Jt),O=k!=null&&cx(b)&&g===!0,q=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,V=_.pathname,D=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(V=V.toLowerCase(),D=D?D.toLowerCase():null,q=q.toLowerCase()),D&&z&&(D=Ta(D,z)||D);const Q=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let L=V===q||!c&&V.startsWith(q)&&V.charAt(Q)==="/",$=D!=null&&(D===q||!c&&D.startsWith(q)&&D.charAt(q.length)==="/"),K={isActive:L,isPending:$,isTransitioning:O},I=L?s:void 0,ne;typeof l=="function"?ne=l(K):ne=[l,L?"active":null,$?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Te=typeof d=="function"?d(K):d;return j.createElement(B0,{...p,"aria-current":I,className:ne,ref:v,style:Te,to:f,viewTransition:g},typeof m=="function"?m(K):m)});tx.displayName="NavLink";var ax=j.forwardRef(({discover:r="render",fetcherKey:s,navigate:i,reloadDocument:l,replace:c,state:d,method:f=jr,action:g,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,..._},k)=>{let R=ox(),z=ux(g,{relative:p}),O=f.toLowerCase()==="get"?"get":"post",q=typeof g=="string"&&L0.test(g),V=D=>{if(m&&m(D),D.defaultPrevented)return;D.preventDefault();let Q=D.nativeEvent.submitter,L=(Q==null?void 0:Q.getAttribute("formmethod"))||f;R(Q||D.currentTarget,{fetcherKey:s,method:L,navigate:i,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:b})};return j.createElement("form",{ref:k,method:O,action:z,onSubmit:l?m:V,..._,"data-discover":!q&&r==="render"?"true":void 0})});ax.displayName="Form";function nx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H0(r){let s=j.useContext(Ms);return Ue(s,nx(r)),s}function sx(r,{target:s,replace:i,state:l,preventScrollReset:c,relative:d,viewTransition:f}={}){let g=Ft(),m=ra(),p=Ii(r,{relative:d});return j.useCallback(v=>{if(Dv(v,s)){v.preventDefault();let b=i!==void 0?i:Vi(m)===Vi(p);g(r,{replace:b,state:l,preventScrollReset:c,relative:d,viewTransition:f})}},[m,g,p,i,l,s,r,c,d,f])}function ix(r){Pt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=j.useRef(yc(r)),i=j.useRef(!1),l=ra(),c=j.useMemo(()=>zv(l.search,i.current?null:s.current),[l.search]),d=Ft(),f=j.useCallback((g,m)=>{const p=yc(typeof g=="function"?g(new URLSearchParams(c)):g);i.current=!0,d("?"+p,m)},[d,c]);return[c,f]}var lx=0,rx=()=>`__${String(++lx)}__`;function ox(){let{router:r}=H0("useSubmit"),{basename:s}=j.useContext(Jt),i=kv();return j.useCallback(async(l,c={})=>{let{action:d,method:f,encType:g,formData:m,body:p}=Hv(l,s);if(c.navigate===!1){let v=c.fetcherKey||rx();await r.fetch(v,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||f,formEncType:c.encType||g,flushSync:c.flushSync})}else await r.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||f,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,s,i])}function ux(r,{relative:s}={}){let{basename:i}=j.useContext(Jt),l=j.useContext(la);Ue(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Ii(r||".",{relative:s})},f=ra();if(r==null){d.search=f.search;let g=new URLSearchParams(d.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let v=g.toString();d.search=v?`?${v}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Ea([i,d.pathname])),Vi(d)}function cx(r,{relative:s}={}){let i=j.useContext(A0);Ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=H0("useViewTransitionState"),c=Ii(r,{relative:s});if(!i.isTransitioning)return!1;let d=Ta(i.currentLocation.pathname,l)||i.currentLocation.pathname,f=Ta(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Nr(c.pathname,f)!=null||Nr(c.pathname,d)!=null}const dx="modulepreload",hx=function(r){return"/"+r},Km={},Wi=function(s,i,l){let c=Promise.resolve();if(i&&i.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),m=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=f(i.map(p=>{if(p=hx(p),p in Km)return;Km[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":dx,v||(_.as="script"),_.crossOrigin="",_.href=p,m&&_.setAttribute("nonce",m),document.head.appendChild(_),v)return new Promise((k,R)=>{_.addEventListener("load",k),_.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return c.then(f=>{for(const g of f||[])g.status==="rejected"&&d(g.reason);return s().catch(d)})},fx=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...i)=>Wi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ds);return{default:l}},[]).then(({default:l})=>l(...i)):s=fetch,(...i)=>s(...i)};class Lc extends Error{constructor(s,i="FunctionsError",l){super(s),this.name=i,this.context=l}}class mx extends Lc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Qm extends Lc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Xm extends Lc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var vc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(vc||(vc={}));var gx=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};class px{constructor(s,{headers:i={},customFetch:l,region:c=vc.Any}={}){this.url=s,this.headers=i,this.region=c,this.fetch=fx(l)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,i={}){var l;return gx(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:f}=i;let g={},{region:m}=i;m||(m=this.region);const p=new URL(`${this.url}/${s}`);m&&m!=="any"&&(g["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(g["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(g["Content-Type"]="application/json",v=JSON.stringify(f)));const b=yield this.fetch(p.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:v}).catch(z=>{throw new mx(z)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new Qm(b);if(!b.ok)throw new Xm(b);let k=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),R;return k==="application/json"?R=yield b.json():k==="application/octet-stream"?R=yield b.blob():k==="text/event-stream"?R=b:k==="multipart/form-data"?R=yield b.formData():R=yield b.text(),{data:R,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof Xm||c instanceof Qm?c.context:void 0}}})}}var et={},vs={},xs={},bs={},_s={},ws={},yx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Os=yx();const vx=Os.fetch,q0=Os.fetch.bind(Os),$0=Os.Headers,xx=Os.Request,bx=Os.Response,Ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:$0,Request:xx,Response:bx,default:q0,fetch:vx},Symbol.toStringTag,{value:"Module"})),_x=Ry(Ds);var yr={},Zm;function P0(){if(Zm)return yr;Zm=1,Object.defineProperty(yr,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return yr.default=r,yr}var Jm;function G0(){if(Jm)return ws;Jm=1;var r=ws&&ws.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ws,"__esModule",{value:!0});const s=r(_x),i=r(P0());class l{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=Object.assign({},this.headers),this.headers[d]=f,this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const g=this.fetch;let m=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,b,_;let k=null,R=null,z=null,O=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const L=await p.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?R=L:R=JSON.parse(L))}const D=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),Q=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");D&&Q&&Q.length>1&&(z=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(k={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,z=null,O=406,q="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const D=await p.text();try{k=JSON.parse(D),Array.isArray(k)&&p.status===404&&(R=[],k=null,O=200,q="OK")}catch{p.status===404&&D===""?(O=204,q="No Content"):k={message:D}}if(k&&this.isMaybeSingle&&(!((_=k==null?void 0:k.details)===null||_===void 0)&&_.includes("0 rows"))&&(k=null,O=200,q="OK"),k&&this.shouldThrowOnError)throw new i.default(k)}return{error:k,data:R,count:z,status:O,statusText:q}});return this.shouldThrowOnError||(m=m.catch(p=>{var v,b,_;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=p==null?void 0:p.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),m.then(d,f)}returns(){return this}overrideTypes(){return this}}return ws.default=l,ws}var Fm;function Y0(){if(Fm)return _s;Fm=1;var r=_s&&_s.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(_s,"__esModule",{value:!0});const s=r(G0());class i extends s.default{select(c){let d=!1;const f=(c??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:g,referencedTable:m=g}={}){const p=m?`${m}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:g=f}={}){const m=typeof g>"u"?"offset":`${g}.offset`,p=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${c}`),this.url.searchParams.set(p,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:g=!1,wal:m=!1,format:p="text"}={}){var v;const b=[c?"analyze":null,d?"verbose":null,f?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${_}"; options=${b};`,p==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return _s.default=i,_s}var Im;function Bc(){if(Im)return bs;Im=1;var r=bs&&bs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(bs,"__esModule",{value:!0});const s=r(Y0());class i extends s.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const f=Array.from(new Set(d)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${f})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:f,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const p=f===void 0?"":`(${f})`;return this.url.searchParams.append(c,`${m}fts${p}.${d}`),this}match(c){return Object.entries(c).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(c,d,f){return this.url.searchParams.append(c,`not.${d}.${f}`),this}or(c,{foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,d,f){return this.url.searchParams.append(c,`${d}.${f}`),this}}return bs.default=i,bs}var Wm;function V0(){if(Wm)return xs;Wm=1;var r=xs&&xs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xs,"__esModule",{value:!0});const s=r(Bc());class i{constructor(c,{headers:d={},schema:f,fetch:g}){this.url=c,this.headers=d,this.schema=f,this.fetch=g}select(c,{head:d=!1,count:f}={}){const g=d?"HEAD":"GET";let m=!1;const p=(c??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",p),f&&(this.headers.Prefer=`count=${f}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:d,defaultToNull:f=!0}={}){const g="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),d&&m.push(`count=${d}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(c)){const p=c.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(p.length>0){const v=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:g,defaultToNull:m=!0}={}){const p="POST",v=[`resolution=${f?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&v.push(this.headers.Prefer),g&&v.push(`count=${g}`),m||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(c)){const b=c.reduce((_,k)=>_.concat(Object.keys(k)),[]);if(b.length>0){const _=[...new Set(b)].map(k=>`"${k}"`);this.url.searchParams.set("columns",_.join(","))}}return new s.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:d}={}){const f="PATCH",g=[];return this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),this.headers.Prefer=g.join(","),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const d="DELETE",f=[];return c&&f.push(`count=${c}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new s.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return xs.default=i,xs}var Hi={},qi={},e0;function wx(){return e0||(e0=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.version=void 0,qi.version="0.0.0-automated"),qi}var t0;function jx(){if(t0)return Hi;t0=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.DEFAULT_HEADERS=void 0;const r=wx();return Hi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Hi}var a0;function Sx(){if(a0)return vs;a0=1;var r=vs&&vs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(vs,"__esModule",{value:!0});const s=r(V0()),i=r(Bc()),l=jx();class c{constructor(f,{headers:g={},schema:m,fetch:p}={}){this.url=f,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),g),this.schemaName=m,this.fetch=p}from(f){const g=new URL(`${this.url}/${f}`);return new s.default(g,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new c(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,g={},{head:m=!1,get:p=!1,count:v}={}){let b;const _=new URL(`${this.url}/rpc/${f}`);let k;m||p?(b=m?"HEAD":"GET",Object.entries(g).filter(([z,O])=>O!==void 0).map(([z,O])=>[z,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([z,O])=>{_.searchParams.append(z,O)})):(b="POST",k=g);const R=Object.assign({},this.headers);return v&&(R.Prefer=`count=${v}`),new i.default({method:b,url:_,headers:R,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return vs.default=c,vs}var n0;function Nx(){if(n0)return et;n0=1;var r=et&&et.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const s=r(Sx());et.PostgrestClient=s.default;const i=r(V0());et.PostgrestQueryBuilder=i.default;const l=r(Bc());et.PostgrestFilterBuilder=l.default;const c=r(Y0());et.PostgrestTransformBuilder=c.default;const d=r(G0());et.PostgrestBuilder=d.default;const f=r(P0());return et.PostgrestError=f.default,et.default={PostgrestClient:s.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},et}var kx=Nx();const Ex=Oy(kx),{PostgrestClient:Tx,PostgrestQueryBuilder:fw,PostgrestFilterBuilder:mw,PostgrestTransformBuilder:gw,PostgrestBuilder:pw,PostgrestError:yw}=Ex;function Ax(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ox=Ax(),Rx="2.11.15",Cx=`realtime-js/${Rx}`,Mx="1.0.0",K0=1e4,Ux=1e3;var Gi;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Gi||(Gi={}));var ut;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ut||(ut={}));var Xt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Xt||(Xt={}));var xc;(function(r){r.websocket="websocket"})(xc||(xc={}));var On;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(On||(On={}));class Dx{constructor(){this.HEADER_LENGTH=1}decode(s,i){return s.constructor===ArrayBuffer?i(this._binaryDecode(s)):i(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const i=new DataView(s),l=new TextDecoder;return this._decodeBroadcast(s,i,l)}_decodeBroadcast(s,i,l){const c=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const g=l.decode(s.slice(f,f+c));f=f+c;const m=l.decode(s.slice(f,f+d));f=f+d;const p=JSON.parse(l.decode(s.slice(f,s.byteLength)));return{ref:null,topic:g,event:m,payload:p}}}class Q0{constructor(s,i){this.callback=s,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Re||(Re={}));const s0=(r,s,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(s).reduce((d,f)=>(d[f]=zx(f,r,s,c),d),{})},zx=(r,s,i,l)=>{const c=s.find(g=>g.name===r),d=c==null?void 0:c.type,f=i[r];return d&&!l.includes(d)?X0(d,f):bc(f)},X0=(r,s)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return qx(s,i)}switch(r){case Re.bool:return Lx(s);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return Bx(s);case Re.json:case Re.jsonb:return Hx(s);case Re.timestamp:return $x(s);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return bc(s);default:return bc(s)}},bc=r=>r,Lx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Bx=r=>{if(typeof r=="string"){const s=parseFloat(r);if(!Number.isNaN(s))return s}return r},Hx=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(s){return console.log(`JSON parse error: ${s}`),r}return r},qx=(r,s)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const f=r.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>X0(s,g))}return r},$x=r=>typeof r=="string"?r.replace(" ","T"):r,Z0=r=>{let s=r;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class lc{constructor(s,i,l={},c=K0){this.channel=s,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,i){var l;return this._hasReceived(s)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:s,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:i}){this.recHooks.filter(l=>l.status===s).forEach(l=>l.callback(i))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var i0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(i0||(i0={}));class Yi{constructor(s,i){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yi.syncState(this.state,c,d,f),this.pendingDiffs.forEach(m=>{this.state=Yi.syncDiff(this.state,m,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Yi.syncDiff(this.state,c,d,f),g())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,i,l,c){const d=this.cloneDeep(s),f=this.transformState(i),g={},m={};return this.map(d,(p,v)=>{f[p]||(m[p]=v)}),this.map(f,(p,v)=>{const b=d[p];if(b){const _=v.map(O=>O.presence_ref),k=b.map(O=>O.presence_ref),R=v.filter(O=>k.indexOf(O.presence_ref)<0),z=b.filter(O=>_.indexOf(O.presence_ref)<0);R.length>0&&(g[p]=R),z.length>0&&(m[p]=z)}else g[p]=v}),this.syncDiff(d,{joins:g,leaves:m},l,c)}static syncDiff(s,i,l,c){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(g,m)=>{var p;const v=(p=s[g])!==null&&p!==void 0?p:[];if(s[g]=this.cloneDeep(m),v.length>0){const b=s[g].map(k=>k.presence_ref),_=v.filter(k=>b.indexOf(k.presence_ref)<0);s[g].unshift(..._)}l(g,v,m)}),this.map(f,(g,m)=>{let p=s[g];if(!p)return;const v=m.map(b=>b.presence_ref);p=p.filter(b=>v.indexOf(b.presence_ref)<0),s[g]=p,c(g,p,m),p.length===0&&delete s[g]}),s}static map(s,i){return Object.getOwnPropertyNames(s).map(l=>i(l,s[l]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((i,l)=>{const c=s[l];return"metas"in c?i[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=c,i},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var l0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(l0||(l0={}));var r0;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(r0||(r0={}));var Na;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Na||(Na={}));class Hc{constructor(s,i={config:{}},l){this.topic=s,this.params=i,this.socket=l,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new lc(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Q0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Yi(this),this.broadcastEndpointURL=Z0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,i=this.timeout){var l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:d,presence:f,private:g}}=this.params;this._onError(v=>s==null?void 0:s(Na.CHANNEL_ERROR,v)),this._onClose(()=>s==null?void 0:s(Na.CLOSED));const m={},p={broadcast:d,presence:f,postgres_changes:(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(v=>v.filter))!==null&&c!==void 0?c:[],private:g};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){s==null||s(Na.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,R=[];for(let z=0;z<k;z++){const O=_[z],{filter:{event:q,schema:V,table:D,filter:Q}}=O,L=v&&v[z];if(L&&L.event===q&&L.schema===V&&L.table===D&&L.filter===Q)R.push(Object.assign(Object.assign({},O),{id:L.id}));else{this.unsubscribe(),this.state=ut.errored,s==null||s(Na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,s&&s(Na.SUBSCRIBED);return}}).receive("error",v=>{this.state=ut.errored,s==null||s(Na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,i={}){return await this.send({type:"presence",event:"track",payload:s},i.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,i,l){return this._on(s,i,l)}async send(s,i={}){var l,c;if(!this._canPush()&&s.type==="broadcast"){const{event:d,payload:f}=s,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,m;const p=this._push(s.type,s,i.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=ut.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new lc(this,Xt.leave,{},s),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,i,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(s,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),f}_push(s,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new lc(this,s,i,l);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(s,i,l){return i}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,i,l){var c,d;const f=s.toLocaleLowerCase(),{close:g,error:m,leave:p,join:v}=Xt;if(l&&[g,m,p,v].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,i,l);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(k=>{var R,z,O;return((R=k.filter)===null||R===void 0?void 0:R.event)==="*"||((O=(z=k.filter)===null||z===void 0?void 0:z.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(k=>k.callback(_,l)):(d=this.bindings[f])===null||d===void 0||d.filter(k=>{var R,z,O,q,V,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in k){const Q=k.id,L=(R=k.filter)===null||R===void 0?void 0:R.event;return Q&&((z=i.ids)===null||z===void 0?void 0:z.includes(Q))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((O=i.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const Q=(V=(q=k==null?void 0:k.filter)===null||q===void 0?void 0:q.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return Q==="*"||Q===((D=i==null?void 0:i.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===f}).map(k=>{if(typeof _=="object"&&"ids"in _){const R=_.data,{schema:z,table:O,commit_timestamp:q,type:V,errors:D}=R;_=Object.assign(Object.assign({},{schema:z,table:O,commit_timestamp:q,eventType:V,new:{},old:{},errors:D}),this._getPayloadRecords(R))}k.callback(_,l)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,i,l){const c=s.toLocaleLowerCase(),d={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(s,i){const l=s.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Hc.isEqual(c.filter,i))}),this}static isEqual(s,i){if(Object.keys(s).length!==Object.keys(i).length)return!1;for(const l in s)if(s[l]!==i[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Xt.close,{},s)}_onError(s){this._on(Xt.error,{},i=>s(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const i={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(i.new=s0(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(i.old=s0(s.columns,s.old_record)),i}}const o0=()=>{},Px=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gx{constructor(s,i){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=K0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=o0,this.ref=0,this.logger=o0,this.conn=null,this.sendBuffer=[],this.serializer=new Dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=d=>{let f;return d?f=d:typeof fetch>"u"?f=(...g)=>Wi(async()=>{const{default:m}=await Promise.resolve().then(()=>Ds);return{default:m}},void 0).then(({default:m})=>m(...g)):f=fetch,(...g)=>f(...g)},this.endPoint=`${s}/${xc.websocket}`,this.httpEndpoint=Z0(s),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),(i!=null&&i.logLevel||i!=null&&i.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const c=(l=i==null?void 0:i.params)===null||l===void 0?void 0:l.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:d=>[1e3,2e3,5e3,1e4][d-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(d,f)=>f(JSON.stringify(d)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Q0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ox),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mx}))}disconnect(s,i){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(s){const i=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const s=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,i,l){this.logger(s,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return On.Connecting;case Gi.open:return On.Open;case Gi.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}channel(s,i={config:{}}){const l=`realtime:${s}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Hc(`realtime:${s}`,i,this);return this.channels.push(d),d}}push(s){const{topic:i,event:l,payload:c,ref:d}=s,f=()=>{this.encode(s,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${i} ${l} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(s=null){let i=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const c={access_token:i,version:Cx};i&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Xt.access_token,{access_token:i})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(Ux,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let i=this.channels.find(l=>l.topic===s&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${s}"`),i.unsubscribe())}_remove(s){this.channels=this.channels.filter(i=>i.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,i=>{let{topic:l,event:c,payload:d,ref:f}=i;l==="phoenix"&&c==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${d.status||""} ${l} ${c} ${f&&"("+f+")"||""}`,d),Array.from(this.channels).filter(g=>g._isMember(l)).forEach(g=>g._trigger(c,d,f)),this.stateChangeCallbacks.message.forEach(g=>g(i))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(s=>s())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(s))}_onConnError(s){this.log("transport",`${s}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Xt.error))}_appendParams(s,i){if(Object.keys(i).length===0)return s;const l=s.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${s}${l}${c}`}_workerObjectUrl(s){let i;if(s)i=s;else{const l=new Blob([Px],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}}class qc extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function tt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Yx extends qc{constructor(s,i,l){super(s),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _c extends qc{constructor(s,i){super(s),this.name="StorageUnknownError",this.originalError=i}}var Vx=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};const J0=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...i)=>Wi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ds);return{default:l}},void 0).then(({default:l})=>l(...i)):s=fetch,(...i)=>s(...i)},Kx=()=>Vx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wi(()=>Promise.resolve().then(()=>Ds),void 0)).Response:Response}),wc=r=>{if(Array.isArray(r))return r.map(i=>wc(i));if(typeof r=="function"||r!==Object(r))return r;const s={};return Object.entries(r).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[c]=wc(l)}),s},Qx=r=>{if(typeof r!="object"||r===null)return!1;const s=Object.getPrototypeOf(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Rn=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};const rc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Xx=(r,s,i)=>Rn(void 0,void 0,void 0,function*(){const l=yield Kx();r instanceof l&&!(i!=null&&i.noResolveJson)?r.json().then(c=>{const d=r.status||500,f=(c==null?void 0:c.statusCode)||d+"";s(new Yx(rc(c),d,f))}).catch(c=>{s(new _c(rc(c),c))}):s(new _c(rc(r),r))}),Zx=(r,s,i,l)=>{const c={method:r,headers:(s==null?void 0:s.headers)||{}};return r==="GET"||!l?c:(Qx(l)?(c.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),c.body=JSON.stringify(l)):c.body=l,Object.assign(Object.assign({},c),i))};function el(r,s,i,l,c,d){return Rn(this,void 0,void 0,function*(){return new Promise((f,g)=>{r(i,Zx(s,l,c,d)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>Xx(m,g,l))})})}function kr(r,s,i,l){return Rn(this,void 0,void 0,function*(){return el(r,"GET",s,i,l)})}function ka(r,s,i,l,c){return Rn(this,void 0,void 0,function*(){return el(r,"POST",s,l,c,i)})}function jc(r,s,i,l,c){return Rn(this,void 0,void 0,function*(){return el(r,"PUT",s,l,c,i)})}function Jx(r,s,i,l){return Rn(this,void 0,void 0,function*(){return el(r,"HEAD",s,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function F0(r,s,i,l,c){return Rn(this,void 0,void 0,function*(){return el(r,"DELETE",s,l,c,i)})}var xt=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};const Fx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},u0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ix{constructor(s,i={},l,c){this.url=s,this.headers=i,this.bucketId=l,this.fetch=J0(c)}uploadOrUpdate(s,i,l,c){return xt(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},u0),c);let g=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",this.encodeMetadata(m))):(d=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),c!=null&&c.headers&&(g=Object.assign(Object.assign({},g),c.headers));const p=this._removeEmptyFolders(i),v=this._getFinalPath(p),b=yield(s=="PUT"?jc:ka)(this.fetch,`${this.url}/object/${v}`,d,Object.assign({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(tt(d))return{data:null,error:d};throw d}})}upload(s,i,l){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,i,l)})}uploadToSignedUrl(s,i,l,c){return xt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(s),f=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",i);try{let m;const p=Object.assign({upsert:u0.upsert},c),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const b=yield jc(this.fetch,g.toString(),m,{headers:v});return{data:{path:d,fullPath:b.Key},error:null}}catch(m){if(tt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(s,i){return xt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(s);const c=Object.assign({},this.headers);i!=null&&i.upsert&&(c["x-upsert"]="true");const d=yield ka(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(this.url+d.url),g=f.searchParams.get("token");if(!g)throw new qc("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:g},error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}update(s,i,l){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,i,l)})}move(s,i,l){return xt(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}copy(s,i,l){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}createSignedUrl(s,i,l){return xt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(s),d=yield ka(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}createSignedUrls(s,i,l){return xt(this,void 0,void 0,function*(){try{const c=yield ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:s},{headers:this.headers}),d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}download(s,i){return xt(this,void 0,void 0,function*(){const c=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=d?`?${d}`:"";try{const g=this._getFinalPath(s);return{data:yield(yield kr(this.fetch,`${this.url}/${c}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(tt(g))return{data:null,error:g};throw g}})}info(s){return xt(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{const l=yield kr(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:wc(l),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}exists(s){return xt(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{return yield Jx(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(tt(l)&&l instanceof _c){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}})}getPublicUrl(s,i){const l=this._getFinalPath(s),c=[],d=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&c.push(d);const g=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});m!==""&&c.push(m);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${l}${p}`)}}}remove(s){return xt(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}list(s,i,l){return xt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Fx),i),{prefix:s||""});return{data:yield ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(tt(c))return{data:null,error:c};throw c}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const i=[];return s.width&&i.push(`width=${s.width}`),s.height&&i.push(`height=${s.height}`),s.resize&&i.push(`resize=${s.resize}`),s.format&&i.push(`format=${s.format}`),s.quality&&i.push(`quality=${s.quality}`),i.join("&")}}const Wx="2.10.4",eb={"X-Client-Info":`storage-js/${Wx}`};var js=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};class tb{constructor(s,i={},l,c){const d=new URL(s);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},eb),i),this.fetch=J0(l)}listBuckets(){return js(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}getBucket(s){return js(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}createBucket(s,i={public:!1}){return js(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}updateBucket(s,i){return js(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}emptyBucket(s){return js(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}deleteBucket(s){return js(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}}class ab extends tb{constructor(s,i={},l,c){super(s,i,l,c)}from(s){return new Ix(this.url,this.headers,s,this.fetch)}}const nb="2.53.0";let Pi="";typeof Deno<"u"?Pi="deno":typeof document<"u"?Pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pi="react-native":Pi="node";const sb={"X-Client-Info":`supabase-js-${Pi}/${nb}`},ib={headers:sb},lb={schema:"public"},rb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ob={};var ub=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};const cb=r=>{let s;return r?s=r:typeof fetch>"u"?s=q0:s=fetch,(...i)=>s(...i)},db=()=>typeof Headers>"u"?$0:Headers,hb=(r,s,i)=>{const l=cb(i),c=db();return(d,f)=>ub(void 0,void 0,void 0,function*(){var g;const m=(g=yield s())!==null&&g!==void 0?g:r;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(d,Object.assign(Object.assign({},f),{headers:p}))})};var fb=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};function mb(r){return r.endsWith("/")?r:r+"/"}function gb(r,s){var i,l;const{db:c,auth:d,realtime:f,global:g}=r,{db:m,auth:p,realtime:v,global:b}=s,_={db:Object.assign(Object.assign({},m),c),auth:Object.assign(Object.assign({},p),d),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},b),g),{headers:Object.assign(Object.assign({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(l=g==null?void 0:g.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>fb(this,void 0,void 0,function*(){return""})};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}const I0="2.71.1",Ts=30*1e3,Sc=3,oc=Sc*Ts,pb="http://localhost:9999",yb="supabase.auth.token",vb={"X-Client-Info":`gotrue-js/${I0}`},Nc="X-Supabase-Api-Version",W0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bb=600*1e3;class $c extends Error{constructor(s,i,l){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ue(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class _b extends $c{constructor(s,i,l){super(s,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function wb(r){return ue(r)&&r.name==="AuthApiError"}class eg extends $c{constructor(s,i){super(s),this.name="AuthUnknownError",this.originalError=i}}class ln extends $c{constructor(s,i,l,c){super(s,l,c),this.name=i,this.status=l}}class tn extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jb(r){return ue(r)&&r.name==="AuthSessionMissingError"}class vr extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xr extends ln{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class br extends ln{constructor(s,i=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sb(r){return ue(r)&&r.name==="AuthImplicitGrantRedirectError"}class c0 extends ln{constructor(s,i=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends ln{constructor(s,i){super(s,"AuthRetryableFetchError",i,void 0)}}function uc(r){return ue(r)&&r.name==="AuthRetryableFetchError"}class d0 extends ln{constructor(s,i,l){super(s,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Ec extends ln{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),h0=` 	
\r=`.split(""),Nb=(()=>{const r=new Array(128);for(let s=0;s<r.length;s+=1)r[s]=-1;for(let s=0;s<h0.length;s+=1)r[h0[s].charCodeAt(0)]=-2;for(let s=0;s<Er.length;s+=1)r[Er[s].charCodeAt(0)]=s;return r})();function f0(r,s,i){if(r!==null)for(s.queue=s.queue<<8|r,s.queuedBits+=8;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;i(Er[l]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;i(Er[l]),s.queuedBits-=6}}function tg(r,s,i){const l=Nb[r];if(l>-1)for(s.queue=s.queue<<6|l,s.queuedBits+=6;s.queuedBits>=8;)i(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function m0(r){const s=[],i=f=>{s.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{Tb(f,l,i)};for(let f=0;f<r.length;f+=1)tg(r.charCodeAt(f),c,d);return s.join("")}function kb(r,s){if(r<=127){s(r);return}else if(r<=2047){s(192|r>>6),s(128|r&63);return}else if(r<=65535){s(224|r>>12),s(128|r>>6&63),s(128|r&63);return}else if(r<=1114111){s(240|r>>18),s(128|r>>12&63),s(128|r>>6&63),s(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Eb(r,s){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}kb(l,s)}}function Tb(r,s,i){if(s.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){s.utf8seq=l;break}if(s.utf8seq===2)s.codepoint=r&31;else if(s.utf8seq===3)s.codepoint=r&15;else if(s.utf8seq===4)s.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|r&63,s.utf8seq-=1,s.utf8seq===0&&i(s.codepoint)}}function Ab(r){const s=[],i={queue:0,queuedBits:0},l=c=>{s.push(c)};for(let c=0;c<r.length;c+=1)tg(r.charCodeAt(c),i,l);return new Uint8Array(s)}function Ob(r){const s=[];return Eb(r,i=>s.push(i)),new Uint8Array(s)}function Rb(r){const s=[],i={queue:0,queuedBits:0},l=c=>{s.push(c)};return r.forEach(c=>f0(c,i,l)),f0(null,i,l),s.join("")}function Cb(r){return Math.round(Date.now()/1e3)+r}function Mb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const s=Math.random()*16|0;return(r=="x"?s:s&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",En={tested:!1,writable:!1},ag=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(En.tested)return En.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),En.tested=!0,En.writable=!0}catch{En.tested=!0,En.writable=!1}return En.writable};function Ub(r){const s={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{s[d]=c})}catch{}return i.searchParams.forEach((l,c)=>{s[c]=l}),s}const ng=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...i)=>Wi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ds);return{default:l}},void 0).then(({default:l})=>l(...i)):s=fetch,(...i)=>s(...i)},Db=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",As=async(r,s,i)=>{await r.setItem(s,JSON.stringify(i))},Tn=async(r,s)=>{const i=await r.getItem(s);if(!i)return null;try{return JSON.parse(i)}catch{return i}},en=async(r,s)=>{await r.removeItem(s)};class Ur{constructor(){this.promise=new Ur.promiseConstructor((s,i)=>{this.resolve=s,this.reject=i})}}Ur.promiseConstructor=Promise;function cc(r){const s=r.split(".");if(s.length!==3)throw new Ec("Invalid JWT structure");for(let l=0;l<s.length;l++)if(!xb.test(s[l]))throw new Ec("JWT not in base64url format");return{header:JSON.parse(m0(s[0])),payload:JSON.parse(m0(s[1])),signature:Ab(s[2]),raw:{header:s[0],payload:s[1]}}}async function zb(r){return await new Promise(s=>{setTimeout(()=>s(null),r)})}function Lb(r,s){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!s(d,null,f)){l(f);return}}catch(f){if(!s(d,f)){c(f);return}}})()})}function Bb(r){return("0"+r.toString(16)).substr(-2)}function Hb(){const s=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(s),Array.from(s,Bb).join("")}async function qb(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function $b(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await qb(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ss(r,s,i=!1){const l=Hb();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await As(r,`${s}-code-verifier`,c);const d=await $b(l);return[d,l===d?"plain":"s256"]}const Pb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gb(r){const s=r.headers.get(Nc);if(!s||!s.match(Pb))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Yb(r){if(!r)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(r<=s)throw new Error("JWT has expired")}function Vb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ns(r){if(!Kb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dc(){const r={};return new Proxy(r,{get:(s,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g0(r){return JSON.parse(JSON.stringify(r))}var Qb=function(r,s){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&s.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i};const An=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Xb=[502,503,504];async function p0(r){var s;if(!Db(r))throw new kc(An(r),0);if(Xb.includes(r.status))throw new kc(An(r),r.status);let i;try{i=await r.json()}catch(d){throw new eg(An(d),d)}let l;const c=Gb(r);if(c&&c.getTime()>=W0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new d0(An(i),r.status,((s=i.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(l==="session_not_found")throw new tn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new d0(An(i),r.status,i.weak_password.reasons);throw new _b(An(i),r.status||500,l)}const Zb=(r,s,i,l)=>{const c={method:r,headers:(s==null?void 0:s.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function pe(r,s,i,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[Nc]||(d[Nc]=W0["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Jb(r,s,i+g,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function Jb(r,s,i,l,c,d){const f=Zb(s,l,c,d);let g;try{g=await r(i,Object.assign({},f))}catch(m){throw console.error(m),new kc(An(m),0)}if(g.ok||await p0(g),l!=null&&l.noResolveJson)return g;try{return await g.json()}catch(m){await p0(m)}}function Sa(r){var s;let i=null;e1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=Cb(r.expires_in)));const l=(s=r.user)!==null&&s!==void 0?s:r;return{data:{session:i,user:l},error:null}}function y0(r){const s=Sa(r);return!s.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(s.data.weak_password=r.weak_password),s}function an(r){var s;return{data:{user:(s=r.user)!==null&&s!==void 0?s:r},error:null}}function Fb(r){return{data:r,error:null}}function Ib(r){const{action_link:s,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d}=r,f=Qb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function Wb(r){return r}function e1(r){return r.access_token&&r.refresh_token&&r.expires_in}const hc=["global","local","others"];var t1=function(r,s){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&s.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i};class a1{constructor({url:s="",headers:i={},fetch:l}){this.url=s,this.headers=i,this.fetch=ng(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,i=hc[0]){if(hc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hc.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async inviteUserByEmail(s,i={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:an})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async generateLink(s){try{const{options:i}=s,l=t1(s,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ib,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ue(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:an})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async listUsers(s){var i,l,c,d,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=s==null?void 0:s.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=s==null?void 0:s.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Wb});if(v.error)throw v.error;const b=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,k=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(R=>{const z=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(R.split(";")[1].split("=")[1]);p[`${O}Page`]=z}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ue(p))return{data:{users:[]},error:p};throw p}}async getUserById(s){Ns(s);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:an})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async updateUserById(s,i){Ns(s);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:i,headers:this.headers,xform:an})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async deleteUser(s,i=!1){Ns(s);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:i},xform:an})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async _listFactors(s){Ns(s.userId);try{const{data:i,error:l}=await pe(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteFactor(s){Ns(s.userId),Ns(s.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}}function v0(r={}){return{getItem:s=>r[s]||null,setItem:(s,i)=>{r[s]=i},removeItem:s=>{delete r[s]}}}function n1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ks={debug:!!(globalThis&&ag()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sg extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class s1 extends sg{}async function i1(r,s,i){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,s);const l=new globalThis.AbortController;return s>0&&setTimeout(()=>{l.abort(),ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(s===0)throw ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new s1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ks.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}n1();const l1={url:pb,storageKey:yb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function x0(r,s,i){return await i()}const Es={};class Ki{constructor(s){var i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ki.nextInstanceID,Ki.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},l1),s);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new a1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ng(c.fetch),this.lock=c.lock||x0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Qt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=i1:this.lock=x0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:ag()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=v0(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var s,i;return(i=(s=Es[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(s){Es[this.storageKey]=Object.assign(Object.assign({},Es[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,i;return(i=(s=Es[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Es[this.storageKey]=Object.assign(Object.assign({},Es[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${I0}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const i=Ub(window.location.href);let l="none";if(this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce"),Qt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Sb(d)){const m=(s=d.details)===null||s===void 0?void 0:s.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ue(i)?{error:i}:{error:new eg("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var i,l,c;try{const d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=s==null?void 0:s.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=s==null?void 0:s.options)===null||c===void 0?void 0:c.captchaToken}},xform:Sa}),{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(d){if(ue(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(s){var i,l,c;try{let d;if("email"in s){const{email:v,password:b,options:_}=s;let k=null,R=null;this.flowType==="pkce"&&([k,R]=await Ss(this.storage,this.storageKey)),d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:b,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:k,code_challenge_method:R},xform:Sa})}else if("phone"in s){const{phone:v,password:b,options:_}=s;d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(l=_==null?void 0:_.data)!==null&&l!==void 0?l:{},channel:(c=_==null?void 0:_.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Sa})}else throw new xr("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(d){if(ue(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(s){try{let i;if("email"in s){const{email:d,password:f,options:g}=s;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:y0})}else if("phone"in s){const{phone:d,password:f,options:g}=s;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:y0})}else throw new xr("You must provide either an email or phone number and a password");const{data:l,error:c}=i;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(s){var i,l,c,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(i=s.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:i}=s;if(i==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(s){var i,l,c,d,f,g,m,p,v,b,_,k;let R,z;if("message"in s)R=s.message,z=s.signature;else{const{chain:O,wallet:q,statement:V,options:D}=s;let Q;if(Qt())if(typeof q=="object")Q=q;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))Q=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=q}const L=new URL((i=D==null?void 0:D.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const $=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),V?{statement:V}:null));let K;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")K=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)K=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)R=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),z=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${L.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(c=(l=D==null?void 0:D.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((b=(v=D==null?void 0:D.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...D.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const $=await Q.signMessage(new TextEncoder().encode(R),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=$}}try{const{data:O,error:q}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Rb(z)},!((_=s.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=s.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Sa});if(q)throw q;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new vr}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:q})}catch(O){if(ue(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(s){const i=await Tn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{const{data:d,error:f}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:l},xform:Sa});if(await en(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new vr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(ue(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(s){try{const{options:i,provider:l,token:c,access_token:d,nonce:f}=s,g=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Sa}),{data:m,error:p}=g;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new vr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(s){var i,l,c,d,f;try{if("email"in s){const{email:g,options:m}=s;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ss(this.storage,this.storageKey));const{error:b}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in s){const{phone:g,options:m}=s,{data:p,error:v}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(d=m==null?void 0:m.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new xr("You must provide either an email or phone number.")}catch(g){if(ue(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(s){var i,l;try{let c,d;"options"in s&&(c=(i=s.options)===null||i===void 0?void 0:i.redirectTo,d=(l=s.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Sa});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,p=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(ue(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(s){var i,l,c;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await Ss(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(l=(i=s.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=s==null?void 0:s.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Fb})}catch(d){if(ue(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;if(l)throw l;if(!i)throw new tn;const{error:c}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:c}})}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const i=`${this.url}/resend`;if("email"in s){const{email:l,type:c,options:d}=s,{error:f}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in s){const{phone:l,type:c,options:d}=s,{data:f,error:g}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new xr("You must provide either an email or phone number and a type")}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(s,i){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await s(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const i=await Tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?s=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const l=s.expires_at?s.expires_at*1e3-Date.now()<oc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",s.expires_at),!l){if(this.userStorage){const f=await Tn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?s.user=f.user:s.user=dc()}if(this.storage.isServer&&s.user){let f=this.suppressGetSessionWarning;s=new Proxy(s,{get:(m,p,v)=>(!f&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,v))})}return{data:{session:s},error:null}}const{session:c,error:d}=await this._callRefreshToken(s.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:an}):await this._useSession(async i=>{var l,c,d;const{data:f,error:g}=i;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:an})})}catch(i){if(ue(i))return jb(i)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(s,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,i))}async _updateUser(s,i={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new tn;const f=c.session;let g=null,m=null;this.flowType==="pkce"&&s.email!=null&&([g,m]=await Ss(this.storage,this.storageKey));const{data:p,error:v}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:an});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new tn;const i=Date.now()/1e3;let l=i,c=!0,d=null;const{payload:f}=cc(s.access_token);if(f.exp&&(l=f.exp,c=l<=i),c){const{session:g,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:m}=await this._getUser(s.access_token);if(m)throw m;d={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(ue(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async i=>{var l;if(!s){const{data:f,error:g}=i;if(g)throw g;s=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(s!=null&&s.refresh_token))throw new tn;const{session:c,error:d}=await this._callRefreshToken(s.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(s,i){try{if(!Qt())throw new br("No browser detected.");if(s.error||s.error_description||s.error_code)throw new br(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new c0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new br("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new c0("No code detected.");const{data:V,error:D}=await this._exchangeCodeForSession(s.code);if(D)throw D;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:g,expires_at:m,token_type:p}=s;if(!d||!g||!f||!p)throw new br("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(g);let _=v+b;m&&(_=parseInt(m));const k=_-v;k*1e3<=Ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${b}s`);const R=_-b;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,_,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,_,v);const{data:z,error:O}=await this._getUser(d);if(O)throw O;const q={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:b,expires_at:_,refresh_token:f,token_type:p,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:s.type},error:null}}catch(l){if(ue(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const i=await Tn(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&i)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return{error:d};const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,s);if(g&&!(wb(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return s!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const i=Mb(),l={id:i,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(s){return await this._useSession(async i=>{var l,c;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(s))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ss(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(ue(d))return{data:null,error:d};throw d}}async getUserIdentities(){var s;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(s=i.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async linkIdentity(s){var i;try{const{data:l,error:c}=await this._useSession(async d=>{var f,g,m,p,v;const{data:b,error:_}=d;if(_)throw _;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(f=s.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return Qt()&&!(!((i=s.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:s.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(ue(l))return{data:{provider:s.provider,url:null},error:l};throw l}}async unlinkIdentity(s){try{return await this._useSession(async i=>{var l,c;const{data:d,error:f}=i;if(f)throw f;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _refreshAccessToken(s){const i=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Lb(async c=>(c>0&&await zb(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Sa})),(c,d)=>{const f=200*Math.pow(2,c);return d&&uc(d)&&Date.now()+f-l<Ts})}catch(l){if(this._debug(i,"error",l),ue(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(i,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",i,"url",l),Qt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:s,url:l},error:null}}async _recoverAndRefresh(){var s,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Tn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await As(this.userStorage,this.storageKey+"-user",f)),c.user=(s=f==null?void 0:f.user)!==null&&s!==void 0?s:dc()}else if(c&&!c.user&&!c.user){const f=await Tn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await en(this.storage,this.storageKey+"-user"),await As(this.storage,this.storageKey,c)):c.user=dc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<oc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${oc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),uc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(s){var i,l;if(!s)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ur;const{data:d,error:f}=await this._refreshAccessToken(s);if(f)throw f;if(!d.session)throw new tn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={session:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),ue(d)){const f={session:null,error:d};return uc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,i,l=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:s,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,i)}catch(m){d.push(m)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const i=Object.assign({},s),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await As(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=g0(c);await As(this.storage,this.storageKey,d)}else{const c=g0(i);await As(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Ts);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-s)/Ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ts}ms, refresh threshold is ${Sc} ticks`),c<=Sc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof sg)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const i=`#_onVisibilityChanged(${s})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await Ss(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;return d?{data:null,error:d}:await pe(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _enroll(s){try{return await this._useSession(async i=>{var l,c;const{data:d,error:f}=i;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:m,error:p}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(s.factorType==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:g}=await pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(i){if(ue(i))return{data:null,error:i};throw i}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;return d?{data:null,error:d}:await pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ue(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(s){const{data:i,error:l}=await this._challenge({factorId:s.factorId});return l?{data:null,error:l}:await this._verify({factorId:s.factorId,challengeId:i.id,code:s.code})}async _listFactors(){const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l=(s==null?void 0:s.factors)||[],c=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var i,l;const{data:{session:c},error:d}=s;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=cc(c.access_token);let g=null;f.aal&&(g=f.aal);let m=g;((l=(i=c.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const v=f.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(s,i={keys:[]}){let l=i.keys.find(g=>g.kid===s);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(g=>g.kid===s),l&&this.jwks_cached_at+bb>c)return l;const{data:d,error:f}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(g=>g.kid===s),!l)?null:l}async getClaims(s,i={}){try{let l=s;if(!l){const{data:k,error:R}=await this.getSession();if(R||!k.session)return{data:null,error:R};l=k.session.access_token}const{header:c,payload:d,signature:f,raw:{header:g,payload:m}}=cc(l);i!=null&&i.allowExpired||Yb(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:k}=await this.getUser(l);if(k)throw k;return{data:{claims:d,header:c,signature:f},error:null}}const v=Vb(c.alg),b=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,f,Ob(`${g}.${m}`)))throw new Ec("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}}Ki.nextInstanceID=0;const r1=Ki;class o1 extends r1{constructor(s){super(s)}}var u1=function(r,s,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(v){try{p(l.next(v))}catch(b){f(b)}}function m(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):c(v.value).then(g,m)}p((l=l.apply(r,s||[])).next())})};class c1{constructor(s,i,l){var c,d,f;if(this.supabaseUrl=s,this.supabaseKey=i,!s)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const g=mb(s),m=new URL(g);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db:lb,realtime:ob,auth:Object.assign(Object.assign({},rb),{storageKey:p}),global:ib},b=gb(l??{},v);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(_,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=hb(i,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Tx(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new ab(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new px(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,i={},l={}){return this.rest.rpc(s,i,l)}channel(s,i={config:{}}){return this.realtime.channel(s,i)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,i;return u1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:i,detectSessionInUrl:l,storage:c,storageKey:d,flowType:f,lock:g,debug:m},p,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o1({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:d,autoRefreshToken:s,persistSession:i,detectSessionInUrl:l,storage:c,flowType:f,lock:g,debug:m,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new Gx(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(s,i,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:s==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d1=(r,s,i)=>new c1(r,s,i);function h1(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const r=process.version.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}h1()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f1="https://rczshqtxgkdpxxrprsxa.supabase.co",m1="sb_publishable_f5JJ96FZViUGuEsYcTu3Ow_iapCdrbZ",ht=d1(f1,m1,{auth:{storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"pic2data-auth-token",debug:!1}});class g1{constructor(){this.supabase=ht}async getUsersInOrganization(s){const{data:i,error:l}=await this.supabase.from("user_organization_access").select("*").eq("organization_id",s).eq("status","active").order("created_at",{ascending:!1});if(l)throw new Error(l.message);return i}async getUserRoleInOrganization(s,i){console.log("🔍 getUserRoleInOrganization called with:",{userId:s,organizationId:i});const{data:l,error:c}=await this.supabase.from("user_organization_access").select("role").eq("user_id",s).eq("organization_id",i).eq("status","active").single();return console.log("📊 Database query result:",{data:l,error:c}),c?(console.log("No role found for user in organization:",c.message),null):(console.log("✅ Role found:",l.role),l.role)}async removeUserFromOrganization(s,i){const{error:l}=await this.supabase.from("user_organization_access").update({status:"inactive"}).eq("user_id",s).eq("organization_id",i);if(l)throw new Error(l.message);return!0}async createInvitation(s,i,l="user",c){const{data:d,error:f}=await this.supabase.from("invitations").insert({organization_id:s,email_address:i.toLowerCase(),role:l,invited_by:c}).select();if(f)throw new Error(f.message);return d[0]}async getInvitations(s){const{data:i,error:l}=await this.supabase.from("invitations").select("*").eq("organization_id",s).order("created_at",{ascending:!1});if(l)throw new Error(l.message);return i}async getInvitationByToken(s){console.log("🔍 Looking for invitation with token:",s);const{data:i,error:l}=await this.supabase.from("invitations").select("*").eq("token",s).eq("status","pending");if(console.log("📊 Query result:",{data:i,error:l,count:i==null?void 0:i.length}),l)return console.log("❌ Query error:",l.message),null;if(!i||i.length===0)return console.log("❌ No invitations found"),null;const c=i[0];console.log("✅ Found invitation:",c);const d=new Date;if(new Date(c.expires_at)<d)return console.log("❌ Invitation expired"),null;try{const{data:g,error:m}=await this.supabase.from("organizations").select("*").eq("id",c.organization_id).single();!m&&g&&(c.organization=g,console.log("✅ Added organization:",g.name))}catch(g){console.error("Failed to load organization:",g)}return c}async acceptInvitation(s,i){console.log("🔍 acceptInvitation called with:",{token:s,userId:i});const l=await this.getInvitationByToken(s);if(console.log("🔍 Found invitation:",l),!l)throw new Error("Invitation not found or expired");const{data:c,error:d}=await this.supabase.from("invitations").update({status:"accepted",accepted_at:new Date().toISOString()}).eq("token",s).select();if(d)throw new Error(d.message);const{error:f}=await this.supabase.from("user_organization_access").insert({user_id:i,organization_id:l.organization_id,role:l.role,status:"active"});if(f)throw new Error(f.message);return l}async deleteInvitation(s){const{error:i}=await this.supabase.from("invitations").delete().eq("id",s);if(i)throw new Error(i.message);return!0}async getAllOrganizations(){const{data:s,error:i}=await this.supabase.from("organizations").select(`
        id,
        name,
        slug,
        industry_type,
        contact_email,
        subscription_plan,
        subscription_status,
        created_at
      `).order("created_at",{ascending:!1});if(i)throw new Error(i.message);return s}async createOrganization(s){const{data:i,error:l}=await this.supabase.from("organizations").insert({name:s.name,slug:s.slug,industry_type:s.industry_type,contact_email:s.contact_email,subscription_plan:s.subscription_plan,ui_settings:s.ui_settings||{},pricing_config:s.pricing_config||{}}).select().single();if(l)throw new Error(l.message);return i}async deleteOrganization(s){const{error:i}=await this.supabase.from("organizations").delete().eq("id",s);if(i)throw new Error(i.message);return!0}async getOrganization(s){const{data:i,error:l}=await this.supabase.from("organizations").select("*").eq("id",s).single();if(l)throw new Error(l.message);return i}async getOrganizationBySlug(s){const{data:i,error:l}=await this.supabase.from("organizations").select("*").eq("slug",s).single();return l?null:i}async getUserOrganizations(s){const{data:i,error:l}=await this.supabase.from("user_organization_access").select(`
        *,
        organization:organizations(*)
      `).eq("user_id",s).eq("status","active");if(l)throw new Error(l.message);return(i==null?void 0:i.map(c=>c.organization))||[]}async getDrawings(s,i){const{data:l,error:c}=await this.supabase.from("drawings").select("*").eq("organization_id",s).eq("user_id",i).order("created_at",{ascending:!1});if(c)throw new Error(c.message);return l}async saveDrawing(s,i,l){const{data:c,error:d}=await this.supabase.from("drawings").insert({...l,organization_id:s,user_id:i}).select();if(d)throw new Error(d.message);return c[0]}async updateDrawing(s,i){const{data:l,error:c}=await this.supabase.from("drawings").update(i).eq("id",s).select();if(c)throw new Error(c.message);return l[0]}async deleteDrawing(s){const{error:i}=await this.supabase.from("drawings").delete().eq("id",s);if(i)throw new Error(i.message);return!0}}const _t=new g1,Tr=r=>{console.log("🔍 Parsing subdomain from:",r);const s=r.split(":")[0];if(s.includes(".local")){const l=s.split(".");if(l.length>=3&&l[1]==="pic2data"){const c=l[0];return console.log("📍 Development subdomain:",c),c==="pic2data"?null:c}}if(s.includes(".vercel.app")){const l=s.split(".");if(l.length>=3){const c=l[0].split("-")[0];return console.log("📍 Vercel subdomain:",c),c}}if(s.includes(".railway.app")){const l=s.split(".");if(l.length>=3){const c=l[0].split("-")[0];return console.log("📍 Railway subdomain:",c),c}}const i=s.split(".");if(i.length>=3){const l=i[0];if(!["www","api","mail","ftp","admin"].includes(l))return console.log("📍 Custom domain subdomain:",l),l}if(s.includes("pic2data")){const l=s.split(".");if(l.length>=3){const c=l[0];return console.log("📍 Pic2data subdomain:",c),c==="pic2data"?null:c}}return console.log("📍 No subdomain found for:",s),null},p1=async r=>{if(!r)return console.log("📍 No subdomain provided"),null;if(r==="admin")return console.log("📍 Admin subdomain detected"),"PLATFORM_ADMIN";try{console.log("🔍 Fetching organization for subdomain:",r);const s=await _t.getOrganizationBySlug(r);return s?console.log("✅ Organization found:",s.name):console.log("❌ Organization not found for:",r),s}catch(s){return console.error("❌ Error fetching organization:",s),null}},ig=j.createContext(),y1=({children:r})=>{const[s,i]=j.useState(null),[l,c]=j.useState(null),[d,f]=j.useState([]),[g,m]=j.useState(!0);j.useEffect(()=>{p()},[]),j.useEffect(()=>{const _=()=>{p()};return window.addEventListener("popstate",_),()=>{window.removeEventListener("popstate",_)}},[]);const p=async()=>{try{let{data:{user:_},error:k}=await ht.auth.getUser();if(!_){const V=window.location.hostname,D=Tr(V);if(D&&D!=="admin"){m(!1);return}}if(k||!_){m(!1);return}i(_);const R=window.location.hostname,z=Tr(R),O=await p1(z);if(O==="PLATFORM_ADMIN"){c({type:"PLATFORM_ADMIN"}),m(!1);return}if(O){const V=await _t.getUserRoleInOrganization(_.id,O.id),D={...O,userRole:V};c(D),f([O]),m(!1);return}const q=await _t.getUserOrganizations(_.id);f(q),q.length>0&&c(q[0]),m(!1)}catch{m(!1)}},b={user:s,organization:l,organizations:d,loading:g,switchOrganization:_=>{const k=d.find(R=>R.id===_);k&&c(k)},refresh:p};return o.jsx(ig.Provider,{value:b,children:r})},tl=()=>{const r=j.useContext(ig);if(!r)throw new Error("useOrganization must be used within OrganizationProvider");return r},b0={anodizing:{name:"Anodisaatio",description:"Sähkökemiallinen pinnoite alumiinille. Syöpymisenoesti ja koristeellinen pinta.",maxSize:"2000×1200×300mm",basePrice:12.5,variants:[{id:"clear_10",name:"Kirkas anodisaatio",thickness:"10-15 μm",priceMultiplier:1},{id:"clear_20",name:"Paksu kirkas anodisaatio",thickness:"20-25 μm",priceMultiplier:1.3},{id:"black_15",name:"Musta anodisaatio",thickness:"15 μm",priceMultiplier:1.2},{id:"colored_15",name:"Värilinen anodisaatio",thickness:"15 μm",priceMultiplier:1.4}]},galvanizing:{name:"Sinkitys",description:"Kuumasinkitys tai sähkösinkitys. Erinomainen korroosiosuoja teräkselle.",maxSize:"6000×2000×1500mm",basePrice:8.75,variants:[{id:"hot_dip",name:"Kuumasinkitys",thickness:"55-85 μm",priceMultiplier:1},{id:"electro_zinc",name:"Sähkösinkitys",thickness:"8-25 μm",priceMultiplier:.7},{id:"zinc_nickel",name:"Sinkki-nikkeli",thickness:"8-15 μm",priceMultiplier:1.8}]},powder_coating:{name:"Pulverimaalaus",description:"Sähköstaattinen pulverimaalaus. Kestävä ja ympäristöystävällinen.",maxSize:"3000×1500×800mm",basePrice:15,variants:[{id:"standard_ral",name:"Vakio RAL-väri",thickness:"60-80 μm",priceMultiplier:1},{id:"metallic",name:"Metallimaali",thickness:"60-80 μm",priceMultiplier:1.3},{id:"texture",name:"Rakennemaali",thickness:"80-120 μm",priceMultiplier:1.5},{id:"special_color",name:"Erikoisväri",thickness:"60-80 μm",priceMultiplier:1.8}]},nickel_plating:{name:"Nikkelöinti",description:"Korroosiosuoja ja kulutuskestävyys. Sähkönikkelöinti tai kemiallinen nikkelöinti.",maxSize:"1500×800×600mm",basePrice:25,variants:[{id:"electro_nickel",name:"Sähkönikkelöinti",thickness:"10-25 μm",priceMultiplier:1},{id:"electroless_nickel",name:"Kemiallinen nikkelöinti",thickness:"15-30 μm",priceMultiplier:1.4},{id:"hard_nickel",name:"Kovateräsnikkelöinti",thickness:"20-50 μm",priceMultiplier:1.8}]},chrome_plating:{name:"Kromaus",description:"Kova ja kiiltävä pinta. Erinomainen kulutuskestävyys.",maxSize:"2000×1000×500mm",basePrice:35,variants:[{id:"decorative_chrome",name:"Koristeellinen kromaus",thickness:"0.3-0.8 μm",priceMultiplier:1},{id:"hard_chrome",name:"Kovakromaus",thickness:"25-250 μm",priceMultiplier:2.5},{id:"industrial_chrome",name:"Teollisuuskromaus",thickness:"5-50 μm",priceMultiplier:1.8}]},phosphating:{name:"Fosfatointi",description:"Esikäsittely maalausta varten tai korroosiosuoja.",maxSize:"4000×2000×1000mm",basePrice:6.5,variants:[{id:"zinc_phosphate",name:"Sinkki-fosfatointi",thickness:"5-15 μm",priceMultiplier:1},{id:"manganese_phosphate",name:"Mangaani-fosfatointi",thickness:"15-25 μm",priceMultiplier:1.2}]}},v1=r=>({"1-10":0,"11-50":.05,"51-200":.1,"201-1000":.15,"1000+":.2})[r]||0,x1=r=>({normaali:1,kiireellinen:1.2,express:1.5})[r]||1,b1=(r,s)=>{const i={rasvanpoisto:3,peittaus:5,hiekkapuhallus:8};let l=0;return r.forEach(c=>{i[c]&&(l+=i[c]*s)}),l},fc={setupCost:50},_1=(r,s,i)=>{const l={anodizing:{min:5,max:10},galvanizing:{min:7,max:14},powder_coating:{min:3,max:7},nickel_plating:{min:5,max:12},chrome_plating:{min:7,max:15},phosphating:{min:2,max:5}},c={normaali:1,kiireellinen:.6,express:.3},d={"1-10":1,"11-50":1.2,"51-200":1.5,"201-1000":2,"1000+":3},f=l[r]||l.powder_coating,g=c[s]||1,m=d[i]||1,p=Math.max(1,Math.round(f.min*g*m)),v=Math.max(p+1,Math.round(f.max*g*m));return{min:p,max:v}},_0={coating:{name:"Pinnoitusanalyysi",icon:"🎨",primaryColor:"green",tabs:[{id:"perustiedot",name:"Perustiedot",enabled:!0},{id:"mitat",name:"Mitat",enabled:!0},{id:"pinta-ala",name:"Pinta-ala",enabled:!0},{id:"palvelu",name:"Palvelu",enabled:!0},{id:"hinnoittelu",name:"Hinnoittelu",enabled:!0}],features:["pricing","surface_area","treatments","quote_generation"]},steel:{name:"Teräsrakenne-analyysi",icon:"🏗️",primaryColor:"blue",tabs:[{id:"perustiedot",name:"Perustiedot",enabled:!0},{id:"materiaalilista",name:"Materiaalilista",enabled:!0},{id:"ostolista",name:"Ostolista",enabled:!0}],features:["material_list","purchase_calculation","weight_calculation","export"]},machining:{name:"Koneistusanalyysi",icon:"⚙️",primaryColor:"purple",tabs:[{id:"perustiedot",name:"Perustiedot",enabled:!0},{id:"toleranssit",name:"Toleranssit",enabled:!0},{id:"operaatiot",name:"Operaatiot",enabled:!0}],features:["tolerances","operations","time_estimation","complexity_analysis"]}},Ar=r=>_0[r]||_0.coating,w1="/assets/Wisuron%20logo-BKWtSj1v.svg";/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,i,l)=>l?l.toUpperCase():i.toLowerCase()),w0=r=>{const s=S1(r);return s.charAt(0).toUpperCase()+s.slice(1)},lg=(...r)=>r.filter((s,i,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===i).join(" ").trim(),N1=r=>{for(const s in r)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:f,...g},m)=>j.createElement("svg",{ref:m,...k1,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:lg("lucide",c),...!d&&!N1(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,v])=>j.createElement(p,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(r,s)=>{const i=j.forwardRef(({className:l,...c},d)=>j.createElement(E1,{ref:d,iconNode:s,className:lg(`lucide-${j1(w0(r))}`,`lucide-${r}`,l),...c}));return i.displayName=w0(r),i};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],A1=he("building-2",T1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],R1=he("building",O1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Dr=he("calculator",C1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],U1=he("calendar-days",M1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rg=he("chart-column",D1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tc=he("check",z1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],B1=he("circle-alert",L1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],q1=he("circle-check-big",H1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],og=he("circle-check",$1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ug=he("copy",P1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Y1=he("dollar-sign",G1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cg=he("download",V1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_r=he("external-link",K1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Or=he("eye",Q1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nn=he("file-text",X1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],dg=he("folder-open",Z1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],F1=he("grid-3x3",J1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],W1=he("list",I1);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t_=he("log-out",e_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hg=he("mail",a_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zt=he("package",n_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fg=he("palette",s_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pc=he("pen-line",i_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qi=he("plus",l_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Rr=he("ruler",r_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],u_=he("save",o_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mg=he("search",c_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],h_=he("send",d_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gg=he("settings",f_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],g_=he("shield",m_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],y_=he("shopping-cart",p_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xi=he("trash-2",v_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pg=he("trending-up",x_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rs=he("triangle-alert",b_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w_=he("upload",__);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],S_=he("user-plus",j_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],k_=he("user",N_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zr=he("users",E_);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zi=he("x",T_);function Ji(){const r=Ft(),s=ra(),{organization:i}=tl();Ar(i?i.industry_type:"coating");const l=()=>{if(!i)return"Pinnoitusanalyysi";switch(i.industry_type){case"steel":return"Teräsrakenne-analyysi";case"machining":return"Koneistusanalyysi";case"coating":default:return"Pinnoitusanalyysi"}},c=()=>{if(!i)return"AI-pohjainen piirustusanalyysi";switch(i.industry_type){case"steel":return"Materiaalilaskelmat ja ostotarpeet";case"machining":return"Toleranssit ja koneistusoperaatiot";case"coating":default:return"AI-pohjainen piirustusanalyysi"}},d=async()=>{await ht.auth.signOut();const g=window.location.hostname,m=Tr(g);m&&m!=="admin"?window.location.href="/login":m==="admin"?window.location.href="http://pic2data.local:5173/login":r("/login")},f=g=>s.pathname===g;return o.jsx("div",{className:"bg-gradient-to-r from-gray-800 via-gray-700 to-gray-600 text-white shadow-xl border-b-4 border-red-500",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"relative h-5 w-[160px] overflow-visible shrink-0",children:o.jsx("img",{src:w1,alt:"Mantox Solutions",onClick:()=>r("/app"),className:"absolute left-0 top-1/2 -translate-y-1/2 h-full w-auto object-contain cursor-pointer select-none [transform-origin:left] scale-[3.7]"})}),o.jsxs("div",{className:"border-l border-gray-400 pl-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-gray-200 text-lg font-medium",children:l()}),i&&o.jsx("span",{className:"bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:i.name})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:c()})]})]}),o.jsxs("nav",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>r("/app"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${f("/app")?"bg-gray-900/50 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[o.jsx(Qi,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Uusi analyysi"})]}),o.jsxs("button",{onClick:()=>r("/projektit"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${f("/projektit")?"bg-gray-900/50 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[o.jsx(dg,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:(i==null?void 0:i.industry_type)==="steel"||(i==null?void 0:i.industry_type)==="machining"?"Omat Analyysit":"Omat Tarjoukset"})]}),o.jsx("div",{className:"w-px h-8 bg-gray-500 mx-2"}),o.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 border border-red-500 rounded-lg transition-all duration-200 text-white font-medium shadow-lg",children:[o.jsx(t_,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Kirjaudu ulos"})]})]})]})})})}function A_(){const r=Ft();return o.jsx("div",{className:"container mx-auto px-6 pt-6",children:o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:()=>r("/projektit"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[o.jsx(dg,{className:"h-4 w-4 text-gray-600"}),o.jsx("span",{className:"text-gray-700",children:"Näytä kaikki analyysit"})]})})})}function O_({file:r,previewUrl:s,fileType:i,loading:l,onDrop:c,onFileSelect:d,onAnalyze:f}){const g=i==="pdf";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200 p-6 pb-4",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(w_,{className:"h-5 w-5 text-blue-600"}),"Lataa piirustus"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{onDrop:c,onDragOver:m=>m.preventDefault(),className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 cursor-pointer ${r?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50"}`,children:[o.jsx("div",{className:"text-6xl mb-4",children:"📁"}),o.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:"Vedä tiedosto tähän"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"tai"}),o.jsxs("label",{children:[o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:m=>{var v;const p=(v=m.target.files)==null?void 0:v[0];p&&d(p,URL.createObjectURL(p))},className:"hidden"}),o.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 border border-gray-200 rounded-lg font-medium text-gray-700 transition-all duration-200 cursor-pointer",children:[o.jsx(nn,{className:"h-4 w-4"})," Valitse tiedosto"]})]})]}),r&&o.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(nn,{className:`h-8 w-8 ${g?"text-red-600":"text-blue-600"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium text-gray-900 truncate",children:r.name}),g&&o.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"PDF"})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[(r.size/1024/1024).toFixed(1)," MB"]})]}),s&&o.jsxs("button",{onClick:()=>window.open(s,"_blank","noopener,noreferrer"),className:"flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",title:"Avaa tiedosto uudessa ikkunassa",children:[o.jsx(_r,{className:"h-3 w-3"}),"Avaa"]})]})}),o.jsx("button",{onClick:f,disabled:!r||l,className:`w-full mt-6 flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold text-white transition-all duration-200 ${!r||l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl"}`,children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),"Analysoidaan..."]}):o.jsxs(o.Fragment,{children:[o.jsx(rg,{className:"h-4 w-4"})," Analysoi piirustus"]})})]})]}),s&&o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200 p-6 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[g?o.jsx(nn,{className:"h-5 w-5 text-red-600"}):o.jsx(nn,{className:"h-5 w-5 text-blue-600"}),"Esikatselu ",g&&"(PDF)"]}),o.jsxs("button",{onClick:()=>window.open(s,"_blank","noopener,noreferrer"),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",title:"Avaa koko näkymässä uudessa ikkunassa",children:[o.jsx(_r,{className:"h-4 w-4"}),"Avaa uudessa ikkunassa"]})]})}),o.jsx("div",{className:"p-6",children:g?o.jsxs("div",{onClick:()=>window.open(s,"_blank","noopener,noreferrer"),className:"cursor-pointer group border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 rounded-lg p-8 text-center transition-all",children:[o.jsx(nn,{className:"h-16 w-16 mx-auto mb-4 text-red-600 group-hover:text-red-700"}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"PDF-piirustus"}),o.jsx("p",{className:"text-gray-600 mb-4",children:(r==null?void 0:r.name)||"Piirustustiedosto"}),o.jsxs("p",{className:"text-blue-600 font-medium flex items-center justify-center gap-2",children:[o.jsx(_r,{className:"h-4 w-4"}),"Klikkaa avataksesi PDF uudessa ikkunassa"]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("img",{src:s,alt:"Preview",className:"w-full h-auto rounded-lg shadow-sm cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>window.open(s,"_blank","noopener,noreferrer"),title:"Klikkaa avataksesi koko koossa"}),o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>window.open(s,"_blank","noopener,noreferrer"),className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm",children:[o.jsx(_r,{className:"h-4 w-4"}),"Avaa koko koossa"]})})]})})]})]})}function sn({type:r,text:s,className:i=""}){const l={success:"bg-green-100 text-green-800 border-green-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",error:"bg-red-100 text-red-800 border-red-200",info:"bg-blue-100 text-blue-800 border-blue-200"};return o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${l[r]||l.info} ${i}`,children:s})}function R_({success:r,filename:s,hasMeasurement:i,pricing:l}){return o.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase text-gray-500 mb-2 block",children:"Tila"}),o.jsx(sn,{type:r?"success":"error",text:r?"Onnistui":"Virhe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase text-gray-500 mb-2 block",children:"Tiedosto"}),o.jsx("p",{className:"font-semibold text-gray-900 truncate",children:s})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase text-gray-500 mb-2 block",children:"Prosessi vaiheet"}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsx(sn,{type:"success",text:"OCR"}),o.jsx(sn,{type:"success",text:"Vision"}),i&&o.jsx(sn,{type:"success",text:"Mittaus"}),l&&o.jsx(sn,{type:"success",text:"Hinnoittelu"})]})]})]})})}function C_({tabs:r,activeTab:s,onChange:i}){return o.jsx("div",{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50",children:o.jsx("nav",{className:"flex space-x-1 p-1",role:"tablist",children:r.map(l=>{const c=l.icon;return o.jsxs("button",{onClick:()=>l.enabled&&i(l.id),disabled:!l.enabled,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${s===l.id?"bg-white shadow-sm text-blue-700 border-b-2 border-blue-600":l.enabled?"text-gray-600 hover:text-blue-600 hover:bg-white/50":"text-gray-400 cursor-not-allowed"}`,children:[o.jsx(c,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:l.name})]},l.id)})})})}async function mc(r){const s=await r.text();if(!s)return{};try{return JSON.parse(s)??{}}catch{return{raw:s}}}class M_{constructor(){this.baseUrl="http://localhost:8000"}async getAuthHeaders(){const{data:{session:s}}=await ht.auth.getSession();if(!(s!=null&&s.access_token))throw new Error("Not authenticated");return{Authorization:`Bearer ${s.access_token}`}}async post(s,i){const l=await this.getAuthHeaders(),c=await fetch(`${this.baseUrl}${s}`,{method:"POST",headers:l,body:i}),d=await mc(c);if(!c.ok){const f=(d==null?void 0:d.detail)||(d==null?void 0:d.error)||(d==null?void 0:d.raw)||c.statusText;throw c.status===401?new Error("Not authenticated"):c.status===403?new Error("Access denied"):new Error(f||`API Error ${c.status}`)}return d}async get(s){const i=await this.getAuthHeaders(),l=await fetch(`${this.baseUrl}${s}`,{method:"GET",headers:i}),c=await mc(l);if(!l.ok){const d=(c==null?void 0:c.detail)||(c==null?void 0:c.error)||(c==null?void 0:c.raw)||l.statusText;throw new Error(d||`API Error ${l.status}`)}return c}async postJson(s,i){const l=await this.getAuthHeaders();l["Content-Type"]="application/json";const c=await fetch(`${this.baseUrl}${s}`,{method:"POST",headers:l,body:JSON.stringify(i)}),d=await mc(c);if(!c.ok){const f=(d==null?void 0:d.detail)||(d==null?void 0:d.error)||(d==null?void 0:d.raw)||c.statusText;throw new Error(f||`API Error ${c.status}`)}return d}}const yg=new M_;function bt({label:r,value:s,unit:i="",onSave:l,editable:c=!0}){const[d,f]=j.useState(!1),[g,m]=j.useState(s);j.useEffect(()=>{m(s)},[s]);const p=()=>{l(g),f(!1)};return o.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:"text-sm text-gray-600 font-medium",children:r}),d?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{value:g,onChange:v=>m(v.target.value),className:"w-24 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),o.jsx("button",{onClick:p,className:"text-green-600 hover:text-green-700",children:o.jsx(og,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Zi,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s??"Ei määritelty"," ",i]}),c&&o.jsx("button",{onClick:()=>f(!0),className:"text-gray-400 hover:text-blue-600",children:o.jsx(Pc,{className:"h-3 w-3"})})]})]})}function U_({data:r,editedData:s,onFieldSave:i}){const l=r.perustiedot||{};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Zt,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Perustiedot"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"🏷️ Tuotetiedot"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(bt,{label:"Tuotekoodi",value:s.tuotekoodi??l.tuotekoodi,onSave:c=>i("tuotekoodi",c)}),o.jsx(bt,{label:"Tuotenimi",value:s.tuotenimi??l.tuotenimi,onSave:c=>i("tuotenimi",c)}),o.jsx(bt,{label:"Materiaali",value:s.materiaali??l.materiaali,onSave:c=>i("materiaali",c)}),o.jsx(bt,{label:"Paino",unit:"kg",value:s.paino_kg??l.paino_kg,onSave:c=>i("paino_kg",c)})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"⚙️ Prosessitiedot"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(bt,{label:"Loppuasiakas",value:s.loppuasiakas??l.loppuasiakas,onSave:c=>i("loppuasiakas",c)}),o.jsx(bt,{label:"Pinnoite",value:s.pinnoite??l.pinnoite,onSave:c=>i("pinnoite",c)}),o.jsx(bt,{label:"Pinnankarheus",value:s.pintakarheus_ra??l.pintakarheus_ra,onSave:c=>i("pintakarheus_ra",c)}),o.jsx(bt,{label:"Eräkoko",value:s.eräkoko??l.eräkoko,onSave:c=>i("eräkoko",c)})]})]})]})]})}function D_({mitat:r}){var l;const s=r||{},i=s.ulkomitat_mm||{};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Rr,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Mitat"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"📏 Ulkomitat (mm)"}),o.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:i.pituus??"—"}),o.jsx("label",{className:"text-sm text-gray-600",children:"Pituus"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:i.leveys??"—"}),o.jsx("label",{className:"text-sm text-gray-600",children:"Leveys"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:i.korkeus??"—"}),o.jsx("label",{className:"text-sm text-gray-600",children:"Korkeus"})]})]})]}),((l=s.reiät)==null?void 0:l.length)>0&&o.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"🔄 Reiät"}),o.jsx("div",{className:"space-y-3",children:s.reiät.map((c,d)=>o.jsxs("div",{className:"flex justify-between items-center bg-white/50 rounded-lg p-3",children:[o.jsxs("span",{className:"font-medium",children:["Halkaisija Ø",c.halkaisija_mm,"mm"]}),o.jsxs("span",{className:"font-bold text-orange-700",children:[c.määrä," kpl"]})]},d))})]})]})}function z_({pintaAla:r,pricing:s,onManualClick:i}){const l=r||{};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(pg,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Pinta-ala-analyysi"})]}),l.pinta_ala_cm2?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-8 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[o.jsx(og,{className:"h-12 w-12 text-green-600"}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-700",children:[l.pinta_ala_cm2," cm²"]}),o.jsxs("div",{className:"text-lg text-green-600",children:[(l.pinta_ala_cm2/1e4).toFixed(4)," m²"]})]})]}),o.jsx("p",{className:"text-green-700 mb-4",children:l.laskelma}),o.jsx(sn,{type:"success",text:`Varmuus: ${l.varmuus}`})]}),s&&o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-6",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Y1,{className:"h-5 w-5 text-blue-600"}),"Hinta-arvio"]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:[s.total.toFixed(2)," €"]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[s.coating," – ",s.variant]})]})]})]}):o.jsx("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 border border-red-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Rs,{className:"h-8 w-8 text-red-600 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Pinta-alaa ei voitu laskea"}),o.jsx("p",{className:"text-red-700 mb-4",children:l.laskelma}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:"Syötä manuaalisesti"})]})]})})]})}function L_({COATING_OPTIONS:r,selectedCoating:s,onSelectCoating:i,selectedVariant:l,onSelectVariant:c,batchSize:d,onSelectBatchSize:f,urgency:g,onSelectUrgency:m,pretreatments:p,onPretreatmentChange:v}){var b,_;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(fg,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Valitse palvelu"})]}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 border border-gray-200 rounded-xl p-6",children:[o.jsx("label",{className:"text-base font-semibold text-gray-900 mb-3 block",children:"Pinnoitetyyppi"}),o.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Valitse pinnoite..."}),Object.entries(r).map(([k,R])=>o.jsx("option",{value:k,children:R.name},k))]}),s&&o.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Kuvaus:"})," ",r[s].description]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Maksimikoko:"})," ",r[s].maxSize]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Perushinta:"})," ",r[s].basePrice," €/m²"]})]})]}),s&&o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:[o.jsx("label",{className:"text-base font-semibold text-gray-900 mb-3 block",children:"Pinnoitevariantti"}),o.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Valitse variantti..."}),r[s].variants.map(k=>o.jsxs("option",{value:k.id,children:[k.name," (",k.thickness,")"]},k.id))]}),l&&((_=(b=r[s])==null?void 0:b.variants)==null?void 0:_.find(k=>k.id===l))&&o.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4 text-sm space-y-1",children:(()=>{const k=r[s].variants.find(z=>z.id===l);if(!k)return null;const R=(r[s].basePrice*k.priceMultiplier).toFixed(2);return o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Valittu:"})," ",k.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Paksuus:"})," ",k.thickness]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hinta:"})," ",R," €/m²"]})]})})()})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6",children:[o.jsx("label",{className:"text-base font-semibold text-gray-900 mb-3 block",children:"Sarjakoko"}),o.jsxs("select",{value:d,onChange:k=>f(k.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Valitse..."}),o.jsx("option",{value:"1-10",children:"1-10 kpl (Prototyyppi)"}),o.jsx("option",{value:"11-50",children:"11-50 kpl –5%"}),o.jsx("option",{value:"51-200",children:"51-200 kpl –10%"}),o.jsx("option",{value:"201-1000",children:"201-1000 kpl –15%"}),o.jsx("option",{value:"1000+",children:"1000+ kpl –20%"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 border border-red-200 rounded-xl p-6",children:[o.jsx("label",{className:"text-base font-semibold text-gray-900 mb-3 block",children:"Kiireellisyys"}),o.jsxs("select",{value:g,onChange:k=>m(k.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"normaali",children:"Normaali (7-14 päivää)"}),o.jsx("option",{value:"kiireellinen",children:"Kiireellinen (3-5 päivää) +20%"}),o.jsx("option",{value:"express",children:"Express (1-2 päivää) +50%"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6",children:[o.jsx("label",{className:"text-base font-semibold text-gray-900 mb-4 block",children:"Esikäsittely"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries({rasvanpoisto:"Rasvanpoisto (+3 €/m²)",peittaus:"Peittaus (+5 €/m²)",hiekkapuhallus:"Hiekkapuhallus (+8 €/m²)"}).map(([k,R])=>o.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/50 border hover:bg-white cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p.includes(k),onChange:z=>v(k,z.target.checked),className:"w-4 h-4 rounded focus:ring-purple-500"}),o.jsx("span",{className:"text-sm font-medium",children:R})]},k))})]})]})]})}function B_({pricing:r,urgency:s}){if(!r)return o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center",children:[o.jsx("div",{className:"text-6xl mb-6",children:"💰"}),o.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Valitse palvelu hinnoittelua varten"}),o.jsx("p",{className:"text-gray-600",children:'Siirry "Palvelu"-välilehdelle valitaksesi pinnoitteen'})]});const i={surfaceAreaCm2:r.surfaceAreaCm2||0,surfaceAreaM2:r.surfaceAreaM2||0,weight:r.weight||0,coating:r.coating||"Tuntematon",variant:r.variant||"Tuntematon",setupCost:r.setupCost||0,pretreatmentCost:r.pretreatmentCost||0,coatingCost:r.coatingCost||0,coatingPricePerM2:r.coatingPricePerM2||0,subtotal:r.subtotal||0,batchDiscount:r.batchDiscount||0,batchDiscountPercent:r.batchDiscountPercent||0,urgencyMultiplier:r.urgencyMultiplier||1,urgencyAmount:r.urgencyAmount||0,afterDiscountAndUrgency:r.afterDiscountAndUrgency||0,vat:r.vat||0,total:r.total||0};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Dr,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Hinnoittelulaskelma"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"📋 Tuotetiedot"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600 block mb-1",children:"Pinta-ala"}),o.jsxs("p",{className:"font-semibold",children:[i.surfaceAreaCm2.toFixed(0)," cm² (",i.surfaceAreaM2.toFixed(4)," m²)"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600 block mb-1",children:"Paino"}),o.jsxs("p",{className:"font-semibold",children:[i.weight.toFixed(1)," kg"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600 block mb-1",children:"Palvelu"}),o.jsx("p",{className:"font-semibold",children:i.coating}),o.jsx("p",{className:"text-xs text-gray-500",children:i.variant})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600 block mb-1",children:"Sarjakoko"}),o.jsx("p",{className:"font-semibold",children:i.batchDiscountPercent>0?`${i.batchDiscountPercent}% alennus`:"Ei alennusta"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white p-6 text-center",children:o.jsx("h4",{className:"text-xl font-bold",children:"💰 Hintalaskelma"})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"space-y-4 font-mono text-sm",children:[o.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200",children:[o.jsx("span",{children:"Asetuskustannus:"}),o.jsxs("span",{children:[i.setupCost.toFixed(2)," €"]})]}),i.pretreatmentCost>0&&o.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200",children:[o.jsx("span",{children:"Esikäsittelyt:"}),o.jsxs("span",{children:[i.pretreatmentCost.toFixed(2)," €"]})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200",children:[o.jsxs("span",{children:[i.coating,":"]}),o.jsxs("span",{children:[i.coatingCost.toFixed(2)," € (",i.coatingPricePerM2.toFixed(2)," €/m²)"]})]}),o.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-green-300 font-semibold",children:[o.jsx("span",{children:"Välisumma:"}),o.jsxs("span",{children:[i.subtotal.toFixed(2)," €"]})]}),i.batchDiscount>0&&o.jsxs("div",{className:"flex justify-between py-2 text-green-700",children:[o.jsxs("span",{children:["Sarjakoko-alennus (-",i.batchDiscountPercent,"%):"]}),o.jsxs("span",{children:["-",i.batchDiscount.toFixed(2)," €"]})]}),i.urgencyMultiplier!==1&&o.jsxs("div",{className:"flex justify-between py-2 text-red-600",children:[o.jsxs("span",{children:["Kiireellisyys (+",((i.urgencyMultiplier-1)*100).toFixed(0),"%):"]}),o.jsxs("span",{children:["+",i.urgencyAmount.toFixed(2)," €"]})]}),o.jsxs("div",{className:"flex justify-between py-2 font-semibold border-b border-green-200",children:[o.jsx("span",{children:"Yhteensä (alv 0%):"}),o.jsxs("span",{children:[i.afterDiscountAndUrgency.toFixed(2)," €"]})]}),o.jsxs("div",{className:"flex justify-between py-2",children:[o.jsx("span",{children:"ALV 24%:"}),o.jsxs("span",{children:[i.vat.toFixed(2)," €"]})]}),o.jsxs("div",{className:"flex justify-between py-4 border-t-4 border-green-400 text-xl font-bold bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg px-4",children:[o.jsx("span",{children:"KOKONAISHINTA:"}),o.jsxs("span",{children:[i.total.toFixed(2)," €"]})]})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["📅 Toimitusaika: ",r.deliveryTime?`${r.deliveryTime.min}-${r.deliveryTime.max} päivää`:"7-14 päivää"," (",s||"normaali",")"]}),o.jsx("p",{children:"⏰ Voimassaolo: 30 päivää | 💳 Maksuehto: 14 pv netto"})]})]})]})]})}function H_({data:r,editedData:s,onFieldSave:i}){var c,d;const l=r.perustiedot||{};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(R1,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Projektin perustiedot"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"🏗️ Projektitiedot"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(bt,{label:"Projektin numero",value:s.projekti_numero??l.projekti_numero,onSave:f=>i("projekti_numero",f),placeholder:"esim. 5825-507"}),o.jsx(bt,{label:"Rakenteen nimi",value:s.rakenteen_nimi??l.rakenteen_nimi,onSave:f=>i("rakenteen_nimi",f),placeholder:"esim. AURINKOSUOJASÄLEIKKÖ"}),o.jsx(bt,{label:"Materiaaliluokka",value:s.materiaaliluokka??l.materiaaliluokka,onSave:f=>i("materiaaliluokka",f),placeholder:"esim. S355J2"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"📐 Piirustustiedot"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(bt,{label:"Mittakaava",value:s.mittakaava??l.mittakaava,onSave:f=>i("mittakaava",f),placeholder:"esim. 1:75, 1:25"}),o.jsx(bt,{label:"Piirtäjä",value:s.piirtäjä??l.piirtäjä,onSave:f=>i("piirtäjä",f),placeholder:"Piirtäjän nimi"}),o.jsx(bt,{label:"Päivämäärä",value:s.päivämäärä??l.päivämäärä,onSave:f=>i("päivämäärä",f),placeholder:"esim. 4.10.2024"})]})]})]}),r.yhteenveto&&o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 border border-purple-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"📊 Projektin yhteenveto"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[((c=r.yhteenveto.kokonaispaino_kg)==null?void 0:c.toFixed(1))||"0"," kg"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Kokonaispaino"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((d=r.yhteenveto.kokonaispituus_m)==null?void 0:d.toFixed(1))||"0"," m"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Kokonaispituus"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.yhteenveto.profiilityyppien_lkm||"0"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Profiilityypit"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.yhteenveto.eri_profiileja||"0"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Eri profiileja"})]})]})]}),r.huomiot&&r.huomiot.length>0&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-yellow-800 mb-3",children:"💡 Analyysitiedot"}),o.jsx("ul",{className:"space-y-2",children:r.huomiot.map((f,g)=>o.jsxs("li",{className:"text-sm text-yellow-700 flex items-start gap-2",children:[o.jsx("span",{className:"text-yellow-600 mt-1",children:"•"}),o.jsx("span",{children:f})]},g))})]})]})}function q_({data:r,editedData:s,onFieldSave:i}){const[l,c]=j.useState(null),[d,f]=j.useState({}),[g,m]=j.useState(!1),[p,v]=j.useState({profiili:"",kappalemaara:"",pituus_mm:""}),b=(s==null?void 0:s.materiaalilista)||(r==null?void 0:r.materiaalilista)||[];j.useEffect(()=>{b.length>0&&V(b)},[b,r,s]);const _=($,K)=>{c($),f({kappalemaara:K.kappalemaara||"",pituus_mm:K.pituus_mm||""})},k=$=>{const K=[...b],I=K[$];I.kappalemaara=parseInt(d.kappalemaara)||0,I.pituus_mm=parseInt(d.pituus_mm)||null,I.kappalemaara&&I.pituus_mm?I.yhteispituus_mm=I.kappalemaara*I.pituus_mm:I.yhteispituus_mm=null,i("materiaalilista",K),setTimeout(()=>{V(K)},10),c(null),f({})},R=()=>{c(null),f({})},z=()=>{if(!p.profiili.trim()){alert("Anna materiaalin nimi (esim. IPE200)");return}const $=parseInt(p.kappalemaara)||0,K=parseInt(p.pituus_mm)||null,I={profiili:p.profiili.trim().toUpperCase(),kappalemaara:$,pituus_mm:K,yhteispituus_mm:$&&K?$*K:null,pituus_varmuus:"manuaalinen",tunnistustapa:"Manuaalisesti lisätty"},ne=[...b,I];console.log("📦 Lisätään uusi materiaali:",I),console.log("📋 Päivitetty lista:",ne),i("materiaalilista",ne),setTimeout(()=>{V(ne)},10),v({profiili:"",kappalemaara:"",pituus_mm:""}),m(!1)},O=()=>{v({profiili:"",kappalemaara:"",pituus_mm:""}),m(!1)},q=$=>{if(confirm("Haluatko varmasti poistaa tämän materiaalin?")){const K=b.filter((I,ne)=>ne!==$);console.log("🗑️ Poistetaan materiaali indeksistä:",$),console.log("📋 Päivitetty lista poiston jälkeen:",K),i("materiaalilista",K),setTimeout(()=>{V(K)},10)}},V=$=>{const K={profiilityyppien_lkm:$.length,yhteensa_kappaleita:$.reduce((I,ne)=>I+(ne.kappalemaara||0),0),yhteispituus_metria:$.reduce((I,ne)=>{const Te=ne.yhteispituus_mm||0;return I+Te/1e3},0)};console.log("🔄 Päivitetään yhteenveto:",K),i("yhteenveto",K)},D=$=>{if($==="manuaalinen")return"text-blue-600 bg-blue-50";switch($){case"korkea":return"text-green-600 bg-green-50";case"keskitaso":return"text-yellow-600 bg-yellow-50";case"matala":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},Q=$=>{if($==="manuaalinen")return"Manuaalinen";switch($){case"korkea":return"Varma";case"keskitaso":return"Todennäköinen";case"matala":return"Epävarma";default:return"Ei tietoa"}},L={profiilityyppien_lkm:b.length,yhteensa_kappaleita:b.reduce(($,K)=>$+(K.kappalemaara||0),0),yhteispituus_metria:b.reduce(($,K)=>{const I=K.yhteispituus_mm||0;return $+I/1e3},0)};return j.useEffect(()=>{var $,K;console.log("📊 Materiaalilistan tila:",{data_materiaalilista:(($=r==null?void 0:r.materiaalilista)==null?void 0:$.length)||0,editedData_materiaalilista:((K=s==null?void 0:s.materiaalilista)==null?void 0:K.length)||0,active_materiaalilista:b.length,showAddForm:g,yhteenveto:L})},[b,r,s,g]),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200 p-6 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(Zt,{className:"h-5 w-5 text-blue-600"}),"Materiaalilista",o.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",b.length," materiaalia)"]})]}),o.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:[o.jsx(Qi,{className:"h-4 w-4"}),"Lisää materiaali"]})]})}),o.jsxs("div",{className:"p-6",children:[g&&o.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-md font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[o.jsx(Qi,{className:"h-4 w-4"}),"Lisää uusi materiaali"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profiili *"}),o.jsx("input",{type:"text",value:p.profiili,onChange:$=>v(K=>({...K,profiili:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"esim. IPE300, HEA200"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kappalemäärä"}),o.jsx("input",{type:"number",value:p.kappalemaara,onChange:$=>v(K=>({...K,kappalemaara:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"kpl"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pituus (mm)"}),o.jsx("input",{type:"number",value:p.pituus_mm,onChange:$=>v(K=>({...K,pituus_mm:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"mm"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Tc,{className:"h-4 w-4"}),"Lisää listaan"]}),o.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:[o.jsx(Zi,{className:"h-4 w-4"}),"Peruuta"]})]})]}),b.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Zt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"Ei materiaaleja löytynyt piirustuksesta"}),o.jsx("p",{className:"text-sm mt-1",children:'Klikkaa "Lisää materiaali" lisätäksesi manuaalisesti'})]}):o.jsx("div",{className:"space-y-4",children:b.map(($,K)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow relative",children:[$.tunnistustapa==="Manuaalisesti lisätty"&&o.jsx("button",{onClick:()=>q(K),className:"absolute top-2 right-2 p-1 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Poista materiaali",children:o.jsx(Xi,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:$.profiili}),$.pituus_varmuus&&o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${D($.pituus_varmuus)}`,children:Q($.pituus_varmuus)})]})}),o.jsxs("div",{className:"space-y-3",children:[l===K?o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kappalemäärä"}),o.jsx("input",{type:"number",value:d.kappalemaara,onChange:I=>f(ne=>({...ne,kappalemaara:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pituus (mm)"}),o.jsx("input",{type:"number",value:d.pituus_mm,onChange:I=>f(ne=>({...ne,pituus_mm:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Pituus mm"})]})]}):o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Kappalemäärä:"}),o.jsx("div",{className:"font-semibold",children:$.kappalemaara?`${$.kappalemaara} kpl`:"Ei määritelty"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Pituus:"}),o.jsx("div",{className:"font-semibold",children:$.pituus_mm?`${$.pituus_mm.toLocaleString()} mm`:"Ei tietoa"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Yhteispituus:"}),o.jsx("div",{className:"font-semibold",children:$.yhteispituus_mm?`${($.yhteispituus_mm/1e3).toFixed(1)} m`:"Lasketaan kun tiedot täytetty"})]})]}),$.tunnistustapa&&o.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Tunnistettu: ",$.tunnistustapa]}),(!$.kappalemaara||!$.pituus_mm)&&l!==K&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 text-sm text-yellow-800",children:"Puuttuvia tietoja - klikkaa muokkaa täydentääksesi"})]}),o.jsx("div",{className:"flex items-center gap-2 mt-3",children:l===K?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>k(K),className:"flex items-center gap-1 px-3 py-1 text-green-600 hover:bg-green-50 rounded-md transition-colors text-sm",children:[o.jsx(Tc,{className:"h-4 w-4"}),"Tallenna"]}),o.jsxs("button",{onClick:R,className:"flex items-center gap-1 px-3 py-1 text-gray-600 hover:bg-gray-50 rounded-md transition-colors text-sm",children:[o.jsx(Zi,{className:"h-4 w-4"}),"Peruuta"]})]}):o.jsxs("button",{onClick:()=>_(K,$),className:"flex items-center gap-1 px-3 py-1 text-blue-600 hover:bg-blue-50 rounded-md transition-colors text-sm",children:[o.jsx(Pc,{className:"h-4 w-4"}),"Muokkaa"]})})]},`material-${K}-${$.profiili}`))}),b.length>0&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),"Yhteenveto"]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Profiilityypit:"}),o.jsx("div",{className:"font-semibold text-blue-900",children:L.profiilityyppien_lkm||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Yhteensä kappaleita:"}),o.jsxs("div",{className:"font-semibold text-blue-900",children:[L.yhteensa_kappaleita||0," kpl"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Yhteispituus:"}),o.jsx("div",{className:"font-semibold text-blue-900",children:L.yhteispituus_metria?`${L.yhteispituus_metria.toFixed(1)} m`:"0 m"})]})]})]})]})]})}function $_({data:r}){const s=(r==null?void 0:r.materiaalilista)||[],i=j.useMemo(()=>({profiilityyppien_lkm:s.length,yhteensa_kappaleita:s.reduce((g,m)=>g+(m.kappalemaara||0),0),yhteispituus_metria:s.reduce((g,m)=>{const p=m.yhteispituus_mm||0;return g+p/1e3},0)}),[s]),l=j.useMemo(()=>s.map(m=>{if(!m.yhteispituus_mm)return null;const p=m.yhteispituus_mm/1e3,v=1+5/100,b=p*v;return{...m,yhteispituus_metria:p,ostettava_metria:b,hukka_metria:b-p}}).filter(Boolean),[s]),c=j.useMemo(()=>l.reduce((g,m)=>g+m.ostettava_metria,0),[l]),d=j.useMemo(()=>l.reduce((g,m)=>g+m.hukka_metria,0),[l]),f=()=>{const m=[["Profiili","Kappalemäärä","Pituus (mm)","Yhteispituus (m)","Ostettava (m)","Hukka (m)"],...l.map(_=>[_.profiili,_.kappalemaara,_.pituus_mm,_.yhteispituus_metria.toFixed(2),_.ostettava_metria.toFixed(2),_.hukka_metria.toFixed(2)])].map(_=>_.join(",")).join(`
`),p=new Blob([m],{type:"text/csv"}),v=URL.createObjectURL(p),b=document.createElement("a");b.href=v,b.download=`ostolista_${new Date().toISOString().split("T")[0]}.csv`,b.click(),URL.revokeObjectURL(v)};return o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-gray-200 p-6 pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(y_,{className:"h-5 w-5 text-green-600"}),"Ostolista",o.jsx("span",{className:"text-sm font-normal text-gray-600",children:"(+5% hukka)"})]}),l.length>0&&o.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[o.jsx(cg,{className:"h-4 w-4"}),"Lataa CSV"]})]})}),o.jsx("div",{className:"p-6",children:l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rs,{className:"h-12 w-12 mx-auto mb-3 text-yellow-400"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ei voida laskea ostolistaa"}),o.jsx("p",{className:"text-gray-600",children:"Täydennä materiaalilistan pituustiedot laskeaksesi ostotarpeet"}),s.length>0&&o.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Materiaaleja yhteensä: ",s.length,", puutteelliset tiedot: ",s.filter(g=>!g.yhteispituus_mm).length]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-3 mb-6",children:l.map((g,m)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:g.profiili}),o.jsxs("div",{className:"text-sm text-gray-600",children:[g.kappalemaara," kpl × ",(g.pituus_mm/1e3).toFixed(1),"m"]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Yhteispituus:"}),o.jsxs("div",{className:"font-medium text-blue-600",children:[g.yhteispituus_metria.toFixed(1)," m"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Ostettava:"}),o.jsxs("div",{className:"font-medium text-green-600",children:[g.ostettava_metria.toFixed(1)," m"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Hukka:"}),o.jsxs("div",{className:"font-medium text-orange-600",children:[g.hukka_metria.toFixed(1)," m"]})]})]})]},m))}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),"Ostolistan yhteenveto (päivittyy reaaliajassa)"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Materiaalit:"}),o.jsxs("div",{className:"font-semibold text-gray-900",children:[i.profiilityyppien_lkm||0," tyyppiä"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Kappaleet:"}),o.jsxs("div",{className:"font-semibold text-gray-900",children:[i.yhteensa_kappaleita||0," kpl"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Tarvitaan:"}),o.jsxs("div",{className:"font-semibold text-green-600",children:[i.yhteispituus_metria.toFixed(1)," m"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Ostettava:"}),o.jsxs("div",{className:"font-semibold text-blue-600",children:[c.toFixed(1)," m"]})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Kokonaishukka (+5%):"}),o.jsxs("div",{className:"font-semibold text-orange-600",children:[d.toFixed(1)," m"]})]})})]})]})})]})}function P_({data:r,editedData:s,onFieldSave:i}){const[l,c]=j.useState("maininnat"),d=r.materiaalilista||[],f=r.insinöörin_tarkistettavaa||[],g=[...d].sort((v,b)=>{var _;switch(l){case"maininnat":return(b.maininnat_kuvassa||0)-(v.maininnat_kuvassa||0);case"profiili":return((_=v.profiili)==null?void 0:_.localeCompare(b.profiili))||0;default:return 0}}),m=v=>{const b=v.selkeä_pituus_mm,_=v.maininnat_kuvassa||0;return b&&_>0?"border-green-200 bg-green-50":_>0?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"},p=v=>{const b=v.selkeä_pituus_mm,_=v.maininnat_kuvassa||0;return b&&_>0?o.jsx(q1,{className:"h-4 w-4 text-green-600"}):_>0?o.jsx(mg,{className:"h-4 w-4 text-yellow-600"}):o.jsx(Rs,{className:"h-4 w-4 text-red-600"})};return d.length===0?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Zt,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Materiaalien tunnistus"})]}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Ei materiaaleja tunnistettu analyysistä"})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zt,{className:"h-6 w-6 text-blue-600"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Materiaalien tunnistus"}),o.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded",children:[d.length," materiaalia"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Järjestä:"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[o.jsx("option",{value:"maininnat",children:"Mainintojen mukaan"}),o.jsx("option",{value:"profiili",children:"Profiilin mukaan"})]})]})]}),o.jsx("div",{className:"space-y-4",children:g.map((v,b)=>o.jsxs("div",{className:`border-2 rounded-xl p-6 ${m(v)}`,children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600 mb-1",children:v.profiili||"N/A"}),o.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[p(v),o.jsx("span",{className:"text-xs text-gray-500",children:v.selkeä_pituus_mm?"Pituus OK":"Tarkista pituus"})]})]}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Mainintoja kuvassa"}),o.jsx("div",{className:"font-bold text-2xl text-blue-600",children:v.maininnat_kuvassa||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"OCR-tunnistus"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Selkeä pituus"}),o.jsx("div",{className:"font-semibold text-lg",children:v.selkeä_pituus_mm?`${v.selkeä_pituus_mm} mm`:"Ei tiedossa"}),v.epävarma_pituus_mm&&o.jsxs("div",{className:"text-xs text-orange-600",children:["Epävarma: ",v.epävarma_pituus_mm," mm"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Sijainti"}),o.jsx("div",{className:"text-sm",children:v.sijainti_kuvassa||"Ei määritelty"})]})]})})]})}),v.huomiot&&o.jsxs("div",{className:"mt-3 p-3 bg-white/70 rounded-lg border",children:[o.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Huomiot:"}),o.jsx("div",{className:"text-sm text-gray-600",children:v.huomiot})]})]},b))}),r.yhteenveto&&o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 border border-gray-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"📊 Tunnistuksen yhteenveto"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.yhteenveto.profiilityyppien_lkm||d.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Profiilityypit"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.yhteenveto.yhteensä_mainintoja||d.reduce((v,b)=>v+(b.maininnat_kuvassa||0),0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Mainintoja yhteensä"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:d.filter(v=>v.selkeä_pituus_mm).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Selkeät pituudet"})]})]})]}),f.length>0&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[o.jsxs("h4",{className:"font-semibold text-yellow-800 mb-4 flex items-center gap-2",children:[o.jsx(Rs,{className:"h-5 w-5"}),"Insinöörin tarkistettavaa (",f.length," kohtaa)"]}),o.jsx("ul",{className:"space-y-2",children:f.map((v,b)=>o.jsxs("li",{className:"text-sm text-yellow-700 flex items-start gap-2",children:[o.jsx("span",{className:"text-yellow-600 mt-1",children:"•"}),o.jsx("span",{children:v})]},b))})]}),r.huomiot&&r.huomiot.length>0&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"💡 Analyysin huomiot"}),o.jsx("ul",{className:"space-y-2",children:r.huomiot.map((v,b)=>o.jsxs("li",{className:"text-sm text-blue-700 flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),o.jsx("span",{children:v})]},b))})]})]})}function G_({notes:r}){return!r||r.length===0?null:o.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border border-yellow-300 rounded-xl p-6 mt-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Rs,{className:"h-6 w-6 text-yellow-600 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-yellow-800 mb-3",children:"⚠️ Huomiot"}),o.jsx("ul",{className:"space-y-2",children:r.map((s,i)=>o.jsxs("li",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[o.jsx("span",{className:"text-yellow-600 mt-1",children:"•"}),o.jsx("span",{children:s})]},i))})]})]})})}function Y_({visible:r,manualArea:s,onChange:i,onSave:l,onClose:c}){return r?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-t-xl flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Syötä pinta-ala manuaalisesti"}),o.jsx("button",{onClick:c,className:"text-white",children:o.jsx(Zi,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("label",{htmlFor:"manualArea",className:"block text-base font-medium text-gray-900 mb-2",children:"Pinta-ala (cm²)"}),o.jsx("input",{id:"manualArea",type:"number",value:s,onChange:d=>i(d.target.value),placeholder:"Esim. 156.5",className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{onClick:c,className:"px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium rounded-lg transition-colors",children:"Peruuta"}),o.jsx("button",{onClick:l,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium rounded-lg transition-all duration-200",children:"Tallenna"})]})]})]})}):null}const V_=({isOpen:r,onClose:s,quoteData:i,customerData:l,organizationData:c,onSend:d,onEdit:f})=>{const[g,m]=j.useState(`Tarjous - ${(i==null?void 0:i.product_name)||"Tuote"}`),[p,v]=j.useState(`Hei,

Kiitos yhteydenotostanne. Liitteenä tarjouksemme tuotteelle ${(i==null?void 0:i.product_name)||"tuotteelle"}.

Tarjous sisältää:
• Materiaalikustannukset
• Pinnoituskäsittelyt  
• Työstökustannukset
• Toimitusajan arvion

Mikäli teillä on kysyttävää tarjouksesta, ottakaa rohkeasti yhteyttä.

Ystävällisin terveisin,
${(c==null?void 0:c.name)||"Tiimimme"}`),[b,_]=j.useState(l||{name:"",email:"jere@mantox.fi",company:"",phone:""}),[k,R]=j.useState(!1);if(!r)return null;const z=async()=>{if(!b.email){alert("Sähköpostiosoite on pakollinen");return}const O="jere@mantox.fi";R(!0);try{await d(O,g,p,b),s()}catch(q){console.error("Failed to send quote:",q),alert("Tarjouksen lähettäminen epäonnistui: "+q.message)}finally{R(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"📧 Tarjous - Esikatselu"}),o.jsx("p",{className:"text-gray-600",children:"Tarkista tiedot ja muokkaa viestiä ennen lähettämistä"})]}),o.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Zi,{className:"h-5 w-5 text-gray-500"})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(k_,{className:"h-4 w-4"}),"Vastaanottajan tiedot"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asiakkaan nimi:"}),o.jsx("input",{type:"text",value:(b==null?void 0:b.name)||"",onChange:O=>_(q=>({...q,name:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Asiakkaan nimi"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sähköposti: *"}),o.jsx("input",{type:"email",value:(b==null?void 0:b.email)||"",onChange:O=>_(q=>({...q,email:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"jere@mantox.fi"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yritys:"}),o.jsx("input",{type:"text",value:(b==null?void 0:b.company)||"",onChange:O=>_(q=>({...q,company:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Yrityksen nimi"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puhelin:"}),o.jsx("input",{type:"tel",value:(b==null?void 0:b.phone)||"",onChange:O=>_(q=>({...q,phone:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+358 40 123 4567"})]})]}),o.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:["⚠️ ",o.jsx("strong",{children:"Huomio:"})," Ilman custom domain:ia viestit voidaan lähettää vain osoitteeseen ",o.jsx("code",{children:"jere@mantox.fi"})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📧 Sähköpostin aihe:"}),o.jsx("input",{type:"text",value:g,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tarjouksen aihe..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"✍️ Saateviesti:"}),o.jsx("textarea",{value:p,onChange:O=>v(O.target.value),rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Kirjoita saateviesti..."}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Voit muokata viestiä tarpeidesi mukaan"})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4"}),"Tarjouksen yhteenveto"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Tuote:"}),o.jsx("p",{className:"font-medium",children:(i==null?void 0:i.product_name)||"Ei määritelty"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Tuotekoodi:"}),o.jsx("p",{className:"font-medium",children:(i==null?void 0:i.product_code)||"Ei määritelty"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Materiaali:"}),o.jsx("p",{className:"font-medium",children:(i==null?void 0:i.material)||"Ei määritelty"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Kokonaishinta:"}),o.jsx("p",{className:"font-bold text-lg text-blue-600",children:i!=null&&i.total_price?`${i.total_price.toFixed(2)} €`:"Ei määritelty"})]})]})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"📎 Liitteet"}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded border border-green-200",children:[o.jsx(nn,{className:"h-6 w-6 text-red-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Tarjous_",(i==null?void 0:i.product_code)||"tuote",".pdf"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"PDF-tarjous automaattisesti generoitu"})]})]})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[o.jsxs("button",{onClick:f,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors flex items-center gap-2 justify-center",children:[o.jsx(Pc,{className:"h-4 w-4"}),"Muokkaa tarjousta"]}),o.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Peruuta"}),o.jsx("button",{onClick:z,disabled:k,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center gap-2 justify-center font-medium",children:k?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Lähetetään..."]}):o.jsxs(o.Fragment,{children:[o.jsx(h_,{className:"h-4 w-4"}),"Lähetä tarjous (→ jere@mantox.fi)"]})})]}),o.jsx("p",{className:"text-yellow-600 text-sm mt-2 text-center",children:"💡 Demo-tilassa kaikki tarjoukset lähetetään osoitteeseen jere@mantox.fi"})]})]})})};function K_({onSaveProject:r,onGenerateQuote:s,disabledSave:i,disabledQuote:l,saving:c,saveSuccess:d,pricing:f,analysisData:g,organization:m}){var R,z,O,q,V,D,Q,L;const[p,v]=j.useState(!1),b={name:((R=g==null?void 0:g.perustiedot)==null?void 0:R.asiakasnimi)||"",email:((z=g==null?void 0:g.perustiedot)==null?void 0:z.asiakasemail)||"",company:((O=g==null?void 0:g.perustiedot)==null?void 0:O.asiakasyritys)||"",phone:((q=g==null?void 0:g.perustiedot)==null?void 0:q.asiakaspuhelin)||""},_=()=>{v(!0)},k=async($,K,I)=>{try{await s("jere@mantox.fi",$,K)}catch(ne){throw new Error("Tarjouksen lähettäminen epäonnistui: "+ne.message)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[o.jsxs("button",{onClick:r,disabled:i,className:`flex items-center justify-center gap-2 px-6 py-3 font-medium rounded-lg transition-all duration-200 shadow-sm ${d?"bg-green-100 text-green-800 border border-green-200 cursor-not-allowed":i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:[o.jsx(u_,{className:"h-4 w-4"}),c?"Tallennetaan...":d?"✅ Tallennettu":"Tallenna"]}),o.jsxs("button",{onClick:_,disabled:l,className:`flex items-center justify-center gap-2 px-6 py-3 font-semibold rounded-lg transition-all duration-200 shadow-lg ${l?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-blue-200"}`,children:[o.jsx(Or,{className:"h-4 w-4"}),"📧 Esikatsele & lähetä tarjous"]})]}),o.jsx(V_,{isOpen:p,onClose:()=>v(!1),quoteData:{product_name:((V=g==null?void 0:g.perustiedot)==null?void 0:V.tuotenimi)||((D=g==null?void 0:g.perustiedot)==null?void 0:D.tuotekoodi)||"Tuote",product_code:((Q=g==null?void 0:g.perustiedot)==null?void 0:Q.tuotekoodi)||"",material:((L=g==null?void 0:g.perustiedot)==null?void 0:L.materiaali)||"",total_price:(f==null?void 0:f.total)||0},customerData:b,organizationData:m,onSend:k,onEdit:()=>v(!1)})]})}function Q_({open:r,complete:s,onFinish:i,gif:l,message:c="Analysoidaan piirustusta…",finishDuration:d=600,schedule:f}){const g=j.useMemo(()=>[{to:.4,ms:15e3},{to:.63,ms:15e3},{to:.85,ms:3e4},{to:.93,ms:5e3}],[]),m=j.useRef(g);j.useEffect(()=>{m.current=Array.isArray(f)&&f.length?f:g},[f,g]);const[p,v]=j.useState(0),[b,_]=j.useState(!1),k=j.useRef(0),R=j.useRef(0),z=j.useRef(!1),O=j.useRef(0),q=V=>{var $;const D=m.current;let Q=0,L=0;for(const K of D){const I=Q,ne=Q+K.ms;if(V>=ne){L=K.to,Q=ne;continue}const Te=(V-I)/K.ms;return(L+(K.to-L)*Te)*100}return((($=D.at(-1))==null?void 0:$.to)??.93)*100};return j.useEffect(()=>{var Q;if(console.log("🔄 FakeProgressOverlay useEffect triggered:",{open:r,complete:s,finishDuration:d}),cancelAnimationFrame(k.current),!r){_(!1),v(0);return}b||(_(!0),v(0),R.current=performance.now(),z.current=!1);const V=(((Q=m.current.at(-1))==null?void 0:Q.to)??.93)*100,D=()=>{const L=performance.now(),$=L-R.current;if(z.current){const K=Math.min(1,(L-O.current)/d),I=1-Math.pow(1-K,3);if(v(V+(100-V)*I),K>=1){setTimeout(()=>{i==null||i(),_(!1),v(0)},80);return}}else{const K=Math.min(q($),V);v(I=>K>I?K:I),s&&K>=V-.01&&(z.current=!0,O.current=L)}k.current=requestAnimationFrame(D)};return k.current=requestAnimationFrame(D),()=>cancelAnimationFrame(k.current)},[r,s,d,b]),b?o.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/40 backdrop-blur-sm flex items-center justify-center",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-[560px] max-w-[92vw] p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[l?o.jsx("img",{src:l,alt:"loading",className:"w-20 h-20 object-contain select-none",draggable:!1}):o.jsx("div",{className:"w-20 h-20"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p<93?"Rakennetaan tulokset…":"Odotetaan palvelinta…"}),o.jsx("div",{className:"mt-4 h-3 w-full bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 transition-[width] duration-200 ease-out",style:{width:`${Math.round(p)}%`}})}),o.jsxs("div",{className:"mt-1 text-right text-xs text-gray-500",children:[Math.round(p),"%"]})]})]})})}):null}async function X_({to:r,cc:s=[],subject:i,html:l,replyTo:c}){const d={to:Array.isArray(r)?r:[r],cc:s,subject:i,html:l,reply_to:c};return yg.postJson("/quotes/send",d)}function Z_({pricing:r,data:s}){const i=(s==null?void 0:s.perustiedot)||{},l=i.tuotenimi||i.tuotekoodi||"Tuote",c=i.materiaali?` (${i.materiaali})`:"",d=`${r.surfaceAreaCm2} cm² (${r.surfaceAreaM2} m²)`,f=r!=null&&r.deliveryTime?`${r.deliveryTime.min}-${r.deliveryTime.max} päivää`:"7–14 päivää";return`
  <div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.5;color:#111;">
    <h2 style="margin:0 0 8px">Tarjous — ${l}${c}</h2>
    <p style="margin:0 0 16px">Hei! Tässä AI-analyysiin perustuva hinta-arvio.</p>

    <table cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;width:100%;max-width:560px">
      <tr>
        <td style="padding:8px 0;color:#555">Palvelu</td>
        <td style="padding:8px 0"><b>${r.coating} — ${r.variant}</b></td>
      </tr>
      <tr>
        <td style="padding:8px 0;color:#555">Pinta-ala</td>
        <td style="padding:8px 0">${d}</td>
      </tr>
      <tr>
        <td style="padding:8px 0;color:#555">Asetuskustannus</td>
        <td style="padding:8px 0">${r.setupCost.toFixed(2)} €</td>
      </tr>
      ${r.pretreatmentCost>0?`
      <tr>
        <td style="padding:8px 0;color:#555">Esikäsittelyt</td>
        <td style="padding:8px 0">${r.pretreatmentCost.toFixed(2)} €</td>
      </tr>`:""}
      <tr>
        <td style="padding:8px 0;color:#555">${r.coating}</td>
        <td style="padding:8px 0">${r.coatingCost.toFixed(2)} € (${r.coatingPricePerM2} €/m²)</td>
      </tr>
      <tr>
        <td style="padding:8px 0;border-top:1px solid #eee;color:#111"><b>Välisumma</b></td>
        <td style="padding:8px 0;border-top:1px solid #eee"><b>${r.subtotal.toFixed(2)} €</b></td>
      </tr>
      ${r.batchDiscount>0?`
      <tr>
        <td style="padding:8px 0;color:#0a7">Sarjakoko-alennus</td>
        <td style="padding:8px 0">-${r.batchDiscount.toFixed(2)} €</td>
      </tr>`:""}
      <tr>
        <td style="padding:8px 0;color:#555">ALV 24%</td>
        <td style="padding:8px 0">${r.vat.toFixed(2)} €</td>
      </tr>
      <tr>
        <td style="padding:10px 0;border-top:2px solid #111;color:#111"><b>Kokonaishinta</b></td>
        <td style="padding:10px 0;border-top:2px solid #111"><b>${r.total.toFixed(2)} €</b></td>
      </tr>
    </table>

    <p style="margin:16px 0 6px">Arvioitu toimitusaika: ${f}</p>
    <p style="margin:0 0 16px">Maksuehto: 14 pv netto • Tarjous voimassa 30 päivää</p>

    ${Array.isArray(s==null?void 0:s.huomiot)&&s.huomiot.length?`
      <p style="margin:0 0 6px"><b>Huomiot:</b></p>
      <ul style="margin:0 0 16px;padding-left:18px;color:#444">
        ${s.huomiot.map(g=>`<li>${String(g)}</li>`).join("")}
      </ul>
    `:""}

    <p style="margin:16px 0 0">Ystävällisin terveisin,<br/>Mantox Solutions</p>
  </div>
  `}const J_="/assets/ai-empty-D2TpplWj.svg";function j0(){const r=Ft(),[s,i]=j.useState(null),[l,c]=j.useState(null),[d,f]=j.useState(null),[g,m]=j.useState({}),[p,v]=j.useState(!1),[b,_]=j.useState(!1),[k,R]=j.useState(!1),[z,O]=j.useState(!1),[q,V]=j.useState(null),[D,Q]=j.useState("perustiedot"),[L,$]=j.useState(""),[K,I]=j.useState(!1),[ne,Te]=j.useState(!1),[De,Ze]=j.useState(null),[wt,oa]=j.useState(""),[$e,B]=j.useState(""),[Z,te]=j.useState(""),[ve,S]=j.useState("normaali"),[Y,J]=j.useState([]),[X,ee]=j.useState(null),{organization:M,user:le}=tl(),ct=Ar(M?M.industry_type:"coating"),Ae=ie=>({coating:"coating",steel:"steel",machining:"machining",pinnoitus:"coating",teräs:"steel",koneistus:"machining"})[ie]||"coating";j.useEffect(()=>{const ie=sessionStorage.getItem("loadProjectId");ie&&(sessionStorage.removeItem("loadProjectId"),It(ie))},[]);const It=async ie=>{try{v(!0);const{data:xe,error:oe}=await ht.from("drawings").select("*").eq("id",ie).single();if(oe)throw oe;xe.image_url&&(c(xe.image_url),i({name:xe.filename,fromDatabase:!0})),xe.gpt_analysis&&(f(xe.gpt_analysis),m(xe.gpt_analysis.perustiedot||{}),V(ie)),_(!0),setTimeout(()=>_(!1),4e3)}catch(xe){console.error("Project load failed:",xe),alert(`Projektin lataus epäonnistui: ${xe.message}`)}finally{v(!1)}};j.useEffect(()=>{var ie,xe,oe;if(wt&&$e&&((ie=d==null?void 0:d.pinta_ala_analyysi)!=null&&ie.pinta_ala_cm2)&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining"){const Le=b0[wt];if(!Le){ee(null);return}const ft=(xe=Le.variants)==null?void 0:xe.find(Pe=>Pe.id===$e);if(Le&&ft){const Pe=d.pinta_ala_analyysi.pinta_ala_cm2,Be=Pe/1e4,at=Le.basePrice*ft.priceMultiplier,Ce=Be*at,Ct=v1(Z),rn=x1(ve),on=b1(Y,Be),Gt=fc==null?void 0:fc.setupCost,Wt=Gt+Ce+on,ea=Wt*Ct,un=Wt-ea,Oa=un*(rn-1),Hs=un+Oa,qs=Hs*.24,sl=Hs+qs;ee({coating:Le.name,variant:ft.name,surfaceAreaCm2:Pe,surfaceAreaM2:Be,weight:((oe=d==null?void 0:d.perustiedot)==null?void 0:oe.paino_kg)||0,basePrice:at,coatingCost:Ce,coatingPricePerM2:at,setupCost:Gt,pretreatmentCost:on,batchDiscount:ea,batchDiscountPercent:Math.round(Ct*100),urgencyMultiplier:rn,urgencyAmount:Oa,subtotal:Wt,afterDiscountAndUrgency:Hs,vat:qs,total:sl,deliveryTime:_1(wt,ve,Z)})}}else ee(null)},[wt,$e,Z,ve,Y,d,M]);const zs=ie=>{ie.preventDefault();const xe=ie.dataTransfer.files;if(xe.length>0){const oe=xe[0];i(oe),c(URL.createObjectURL(oe))}},Cn=(ie,xe)=>{i(ie),c(xe);const oe=ie.type.startsWith("image/")?"image":ie.type==="application/pdf"?"pdf":"unknown";Ze(oe)},Ls=async()=>{if(!s||!M)return;const ie=new FormData;ie.append("file",s),ie.append("industry_type",Ae(M==null?void 0:M.industry_type)),v(!0),Te(!1);const xe=performance.now();try{await new Promise(requestAnimationFrame);const oe=await yg.post("/process",ie),Le=oe&&typeof oe=="object"?oe.result??oe:{};if(oe&&oe.success===!0||oe&&oe.ok===!0&&oe.result!=null||Le&&Object.keys(Le).length>0)f(Le),m(Le.perustiedot??{}),_(!0),setTimeout(()=>_(!1),4e3);else{const Pe=(oe==null?void 0:oe.error)||(oe==null?void 0:oe.detail)||"Analyysi epäonnistui";throw new Error(Pe)}}catch(oe){console.error("Upload error:",oe),oe.message.includes("Not authenticated")?(alert("Kirjautumisesi on vanhentunut. Kirjaudu uudelleen."),r("/login")):oe.message.includes("Access denied")?alert("Ei käyttöoikeutta organisaatioon"):oe.message.includes("401")?(alert("Autentikointi epäonnistui. Kirjaudu uudelleen."),r("/login")):alert(`Virhe analysoinnissa: ${oe.message}`),Te(!0)}finally{const Le=performance.now()-xe,ft=Math.max(0,3e3-Le);setTimeout(()=>Te(!0),ft)}};j.useEffect(()=>{p&&d&&!ne&&Te(!0)},[d,p,ne]);const Aa=(ie,xe)=>m(oe=>({...oe,[ie]:xe})),Bs=()=>{!isNaN(L)&&L&&(f(ie=>({...ie,pinta_ala_analyysi:{...ie==null?void 0:ie.pinta_ala_analyysi,pinta_ala_cm2:parseFloat(L),laskelma:"Manuaalisesti syötetty",varmuus:"manuaalinen"}})),I(!1),$(""))},Lr=(ie,xe)=>{J(oe=>xe?[...oe,ie]:oe.filter(Le=>Le!==ie))},Br=async(ie,xe,oe)=>{var Le,ft;if(!X)throw new Error("Valitse ensin palvelu hinnoittelua varten!");try{const Pe=Z_({pricing:X,data:d}),Be=ie||"jere@mantox.fi",at=xe||`Tarjous – ${((Le=d==null?void 0:d.perustiedot)==null?void 0:Le.tuotenimi)||((ft=d==null?void 0:d.perustiedot)==null?void 0:ft.tuotekoodi)||"Mantox"}`;let Ce=Pe;oe&&(Ce=`<div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.5;color:#111;white-space:pre-line;margin-bottom:24px;">${oe}</div>${Pe}`);const Ct=await X_({to:Be,cc:[],subject:at,html:Ce,replyTo:"jere@mantox.fi"});if(Ct!=null&&Ct.ok)alert(`Tarjous lähetetty: ${Ct.id}`);else throw new Error("Lähetys epäonnistui (tuntematon virhe).")}catch(Pe){throw console.error("Quote generation error:",Pe),Pe}},Rt=async()=>{var ie,xe,oe,Le,ft,Pe,Be,at;if(!d||!s||!M||!le){alert("Ei tallennettavaa dataa!");return}R(!0);try{const Ce=s.name.split(".").pop(),Ct=`${le.id}/${Date.now()}.${Ce}`,{error:rn}=await ht.storage.from("drawings").upload(Ct,s);if(rn)throw rn;const{data:on}=ht.storage.from("drawings").getPublicUrl(Ct);let Gt;M.industry_type==="steel"?Gt={filename:s.name,image_url:on.publicUrl,product_code:g.projekti_numero||((ie=d.perustiedot)==null?void 0:ie.projekti_numero)||null,product_name:g.rakenteen_nimi||((xe=d.perustiedot)==null?void 0:xe.rakenteen_nimi)||null,material:g.materiaaliluokka||((oe=d.perustiedot)==null?void 0:oe.materiaaliluokka)||null,weight_kg:null,surface_area_cm2:null,ocr_data:d.processing_info||{},gpt_analysis:d}:Gt={filename:s.name,image_url:on.publicUrl,product_code:g.tuotekoodi||((Le=d.perustiedot)==null?void 0:Le.tuotekoodi)||null,product_name:g.tuotenimi||((ft=d.perustiedot)==null?void 0:ft.tuotenimi)||null,material:g.materiaali||((Pe=d.perustiedot)==null?void 0:Pe.materiaali)||null,weight_kg:parseFloat(g.paino_kg||((Be=d.perustiedot)==null?void 0:Be.paino_kg))||null,surface_area_cm2:((at=d.pinta_ala_analyysi)==null?void 0:at.pinta_ala_cm2)||null,ocr_data:d.processing_info||{},gpt_analysis:d};const Wt=await _t.saveDrawing(M.id,le.id,Gt);V(Wt.id),O(!0),setTimeout(()=>O(!1),4e3)}catch(Ce){console.error(Ce),alert(`Tallennus epäonnistui: ${Ce.message}`)}finally{R(!1)}},Hr=ct.tabs.map(ie=>({...ie,icon:al(ie.id),enabled:nl(ie.id)}));function al(ie){return{perustiedot:Zt,mitat:Rr,"pinta-ala":pg,palvelu:fg,hinnoittelu:Dr,materiaalilista:nn,tarkistettavaa:Rs,ostolista:Or,toleranssit:Rr,operaatiot:Zt}[ie]||Zt}function nl(ie){switch(ie){case"perustiedot":return!!d;case"mitat":return!!(d!=null&&d.mitat)&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining";case"pinta-ala":return!!(d!=null&&d.pinta_ala_analyysi)&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining";case"palvelu":return!!d&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining";case"hinnoittelu":return!!X&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining";case"materiaalilista":return!!(d!=null&&d.materiaalilista)&&(M==null?void 0:M.industry_type)==="steel";case"tarkistettavaa":return!!(d!=null&&d.materiaalilista)&&(M==null?void 0:M.industry_type)==="steel";case"ostolista":return!!(d!=null&&d.materiaalilista)&&(M==null?void 0:M.industry_type)==="steel";case"toleranssit":return!!(d!=null&&d.toleranssit)&&(M==null?void 0:M.industry_type)==="machining";case"operaatiot":return!!(d!=null&&d.koneistusoperaatiot)&&(M==null?void 0:M.industry_type)==="machining";default:return!1}}return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[o.jsx(Ji,{}),o.jsx(A_,{}),o.jsxs("div",{className:"container mx-auto p-6 grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-8",children:[o.jsx("div",{className:"space-y-6",children:o.jsx(O_,{file:s,previewUrl:l,fileType:De,loading:p,onDrop:zs,onFileSelect:Cn,onAnalyze:Ls})}),o.jsx("div",{className:"space-y-6",children:d?o.jsxs(o.Fragment,{children:[o.jsx(R_,{success:d.success!==!1,filename:(s==null?void 0:s.name)||"Tuntematon",hasMeasurement:!!d.mitat,pricing:X}),o.jsx(C_,{tabs:Hr,activeTab:D,onChange:Q}),D==="perustiedot"&&((M==null?void 0:M.industry_type)==="steel"?o.jsx(H_,{data:d,editedData:g,onFieldSave:Aa}):o.jsx(U_,{data:d,editedData:g,onFieldSave:Aa})),D==="mitat"&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining"&&o.jsx(D_,{mitat:d.mitat}),D==="pinta-ala"&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining"&&o.jsx(z_,{pintaAla:d.pinta_ala_analyysi,pricing:X,onManualClick:()=>I(!0)}),D==="palvelu"&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining"&&o.jsx(L_,{COATING_OPTIONS:b0,selectedCoating:wt,onSelectCoating:oa,selectedVariant:$e,onSelectVariant:B,batchSize:Z,onSelectBatchSize:te,urgency:ve,onSelectUrgency:S,pretreatments:Y,onPretreatmentChange:Lr}),D==="hinnoittelu"&&(M==null?void 0:M.industry_type)!=="steel"&&(M==null?void 0:M.industry_type)!=="machining"&&o.jsx(B_,{pricing:X,urgency:ve}),D==="materiaalilista"&&(M==null?void 0:M.industry_type)==="steel"&&o.jsx(q_,{data:d,editedData:g,onFieldSave:Aa}),D==="tarkistettavaa"&&(M==null?void 0:M.industry_type)==="steel"&&o.jsx(P_,{data:d,editedData:g,onFieldSave:Aa}),D==="ostolista"&&(M==null?void 0:M.industry_type)==="steel"&&o.jsx($_,{data:d,materiaalilista:d==null?void 0:d.materiaalilista,yhteenveto:d==null?void 0:d.yhteenveto,liitokset:d==null?void 0:d.liitokset}),D==="toleranssit"&&(M==null?void 0:M.industry_type)==="machining"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Toleranssi-analyysi"}),o.jsx("p",{className:"text-gray-500",children:"Tulossa pian..."})]}),D==="operaatiot"&&(M==null?void 0:M.industry_type)==="machining"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Operaatio-analyysi"}),o.jsx("p",{className:"text-gray-500",children:"Tulossa pian..."})]}),o.jsx(G_,{notes:d.huomiot||d.notes}),o.jsx(K_,{onSaveProject:Rt,onGenerateQuote:Br,disabledSave:!d||!s||k,disabledQuote:!X,saving:k,saveSuccess:z,pricing:X,analysisData:d,organization:M}),z&&o.jsx("div",{className:"fixed top-20 right-6 z-50 animate-in slide-in-from-top-2",children:o.jsx(sn,{type:"success",text:"Projekti tallennettu!"})}),b&&o.jsx("div",{className:"fixed top-20 right-6 z-50 animate-in slide-in-from-top-2",children:o.jsx(sn,{type:"success",text:q?"Projekti ladattu!":"Analyysi valmis!"})})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center",children:[o.jsx("img",{src:J_,alt:"AI Analysis",className:"w-24 h-24 mx-auto mb-6 opacity-50"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:(M==null?void 0:M.industry_type)==="steel"?"Teräsrakenne-analyysi":(M==null?void 0:M.industry_type)==="machining"?"Koneistusanalyysi":"Pinnoitusanalyysi"}),o.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:(M==null?void 0:M.industry_type)==="steel"?"Lataa teräsrakennepiirustus analysoidaksesi materiaalilistan ja laskettava ostotarpeita.":(M==null?void 0:M.industry_type)==="machining"?"Lataa koneistuspiirustus analysoidaksesi toleranssit ja työoperaatiot.":"Lataa pinnoitettavan tuotteen piirustus saadaksesi tarkan pinta-ala-analyysin ja hintatarjouksen."})]})})]}),(p||!ne)&&o.jsx(Q_,{open:p,complete:!!d,onFinish:()=>v(!1),message:(M==null?void 0:M.industry_type)==="steel"?"Analysoidaan teräsrakennetta...":(M==null?void 0:M.industry_type)==="machining"?"Analysoidaan koneistuspiirustusta...":"Analysoidaan pinnoituspiirustusta..."}),K&&o.jsx(Y_,{value:L,onChange:$,onSave:Bs,onCancel:()=>I(!1)})]})}function F_(){const[r,s]=j.useState([]),[i,l]=j.useState([]),[c,d]=j.useState(!0),[f,g]=j.useState(""),[m,p]=j.useState("grid"),[v,b]=j.useState("created_at"),[_,k]=j.useState(null),R=Ft(),{organization:z,user:O}=tl();j.useEffect(()=>{q()},[]),j.useEffect(()=>{let L=r.filter($=>{var K,I,ne;return((K=$.product_name)==null?void 0:K.toLowerCase().includes(f.toLowerCase()))||((I=$.product_code)==null?void 0:I.toLowerCase().includes(f.toLowerCase()))||((ne=$.material)==null?void 0:ne.toLowerCase().includes(f.toLowerCase()))});L.sort(($,K)=>{switch(v){case"created_at":return new Date(K.created_at)-new Date($.created_at);case"product_name":return($.product_name||"").localeCompare(K.product_name||"");case"surface_area":return(K.surface_area_cm2||0)-($.surface_area_cm2||0);default:return 0}}),l(L)},[r,f,v]);const q=async()=>{if(!z||!O){d(!1);return}try{const L=await _t.getDrawings(z.id,O.id);s(L||[])}catch(L){console.error("Virhe haettaessa projekteja:",L),s([])}d(!1)},V=async L=>{console.log("🗑️ Deleting project:",L);const{error:$}=await ht.from("drawings").delete().eq("id",L);$?(console.error("Delete failed:",$),alert("Poisto epäonnistui: "+$.message)):(await q(),k(null))},D=L=>{sessionStorage.setItem("loadProjectId",L),R("/app")},Q=()=>{const L=["Tuotekoodi","Tuotenimi","Materiaali","Paino (kg)","Pinta-ala (cm²)","Päivämäärä"],$=i.map(De=>[De.product_code||"",De.product_name||"",De.material||"",De.weight_kg||"",De.surface_area_cm2||"",new Date(De.created_at).toLocaleDateString("fi-FI")]),K=[L.join(","),...$.map(De=>De.join(","))].join(`
`),I=new Blob([K],{type:"text/csv"}),ne=URL.createObjectURL(I),Te=document.createElement("a");Te.href=ne,Te.download=`projektit_${new Date().toISOString().split("T")[0]}.csv`,Te.click()};return c?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[o.jsx(Ji,{}),o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Ladataan projekteja..."})]})})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[o.jsx(Ji,{}),o.jsx("div",{className:"bg-white border-b shadow-sm",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Omat analyysit"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[i.length," ",i.length===1?"analyysi":"analyysia"," yhteensä"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("button",{onClick:()=>R("/app"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[o.jsx(Qi,{className:"h-4 w-4"}),"Uusi tarjous"]}),o.jsxs("div",{className:"relative",children:[o.jsx(mg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Hae projekteista...",value:f,onChange:L=>g(L.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("select",{value:v,onChange:L=>b(L.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"created_at",children:"Uusin ensin"}),o.jsx("option",{value:"product_name",children:"Nimen mukaan"}),o.jsx("option",{value:"surface_area",children:"Pinta-alan mukaan"})]}),o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>p("grid"),className:`p-2 rounded ${m==="grid"?"bg-white shadow-sm":""}`,title:"Ruudukkonäkymä",children:o.jsx(F1,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded ${m==="list"?"bg-white shadow-sm":""}`,title:"Listanäkymä",children:o.jsx(W1,{className:"h-4 w-4"})})]}),i.length>0&&o.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[o.jsx(cg,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Vie CSV"})]})]})]})})}),o.jsx("div",{className:"container mx-auto px-6 py-8",children:i.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Zt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:f?"Ei hakutuloksia":"Ei tallennettuja projekteja"}),o.jsx("p",{className:"text-gray-500 mb-6",children:f?"Kokeile eri hakusanoja":"Aloita lataamalla ja analysoimalla piirustus"}),!f&&o.jsx("button",{onClick:()=>R("/app"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:"Luo ensimmäinen tarjous"})]}):m==="grid"?o.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i.map(L=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[o.jsxs("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:[o.jsx("img",{src:L.image_url,alt:L.filename,className:"w-full h-full object-contain"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[o.jsx("button",{onClick:()=>D(L.id),className:"p-3 bg-white rounded-full hover:bg-blue-50 transition-colors",title:"Avaa analyysi",children:o.jsx(Or,{className:"h-5 w-5 text-blue-600"})}),o.jsx("button",{onClick:()=>k(L.id),className:"p-3 bg-white rounded-full hover:bg-red-50 transition-colors",title:"Poista analyysi",children:o.jsx(Xi,{className:"h-5 w-5 text-red-600"})})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",title:L.product_name,children:L.product_name||"Nimetön tuote"}),o.jsx("p",{className:"text-sm text-gray-500 mb-3",children:L.product_code||"Ei tuotekoodia"}),o.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[L.material&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"h-3 w-3"}),o.jsx("span",{className:"truncate",children:L.material})]}),L.surface_area_cm2&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"h-3 w-3"}),o.jsxs("span",{children:[L.surface_area_cm2," cm²"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U1,{className:"h-3 w-3"}),o.jsx("span",{children:new Date(L.created_at).toLocaleDateString("fi-FI")})]})]})]})]},L.id))}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kuva"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tuote"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materiaali"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pinta-ala"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Päivämäärä"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Toiminnot"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("img",{src:L.image_url,alt:L.filename,className:"h-12 w-12 object-contain rounded bg-gray-100"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.product_name||"Nimetön"}),o.jsx("div",{className:"text-sm text-gray-500",children:L.product_code||"-"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L.material||"-"}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L.surface_area_cm2?`${L.surface_area_cm2} cm²`:"-"}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(L.created_at).toLocaleDateString("fi-FI")}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>D(L.id),className:"text-blue-600 hover:text-blue-800 p-1",title:"Avaa analyysi",children:o.jsx(Or,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>k(L.id),className:"text-red-600 hover:text-red-800 p-1",title:"Poista analyysi",children:o.jsx(Xi,{className:"h-4 w-4"})})]})})]},L.id))})]})})})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Poista projekti?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Tätä toimintoa ei voi perua. Projekti poistetaan pysyvästi."}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Peruuta"}),o.jsx("button",{onClick:()=>V(_),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Poista"})]})]})})]})}function S0(){const r=Ft(),[s,i]=j.useState(""),[l,c]=j.useState(""),[d,f]=j.useState(""),[g,m]=j.useState(!0),[p,v]=j.useState(!1),b=async _=>{_.preventDefault(),f(""),v(!0);let k;if(g){if(k=await ht.auth.signInWithPassword({email:s,password:l}),k.error){f(k.error.message),v(!1);return}setTimeout(()=>{window.location.href="/app"},500)}else{if(k=await ht.auth.signUp({email:s,password:l}),k.error){f(k.error.message),v(!1);return}if(k.data.user&&!k.data.user.confirmed_at){alert("Rekisteröinti onnistui! Tarkista sähköpostisi ja vahvista tilisi."),v(!1);return}setTimeout(()=>{r("/app")},500)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("form",{onSubmit:b,className:"bg-gradient-to-br from-[#999] via-[#777] to-[#555] text-white w-full max-w-md min-w-[320px] rounded-xl shadow-lg p-10 space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4",children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/60 to-transparent rounded-md blur-sm"}),o.jsx("img",{src:"/src/assets/mantox-logo-musta.png",alt:"Mantox Logo",className:"relative h-14"})]}),o.jsx("div",{className:"w-full h-[2px] bg-[#ff5757] rounded mt-3"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-white/90",children:"Sähköposti"}),o.jsx("input",{type:"email",required:!0,value:s,onChange:_=>i(_.target.value),className:"w-full border border-white/30 bg-white/10 text-white placeholder-white/60 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-white",placeholder:"nimi@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-white/90",children:"Salasana"}),o.jsx("input",{type:"password",required:!0,value:l,onChange:_=>c(_.target.value),className:"w-full border border-white/30 bg-white/10 text-white placeholder-white/60 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-white",placeholder:"********"})]}),d&&o.jsx("div",{className:"bg-[#ffe5e5] text-[#ff5757] text-sm px-3 py-2 rounded",children:d}),o.jsx("button",{type:"submit",disabled:p,className:"w-full py-2 px-4 bg-white text-[#737373] font-semibold rounded-md hover:bg-[#ff5757]/90 transition disabled:opacity-50",children:p?"Kirjaudutaan...":g?"Kirjaudu":"Rekisteröidy"}),o.jsx("p",{className:"text-sm text-center text-white/80 hover:text-[#ff5757] underline cursor-pointer transition",onClick:()=>m(!g),children:g?"Eikö sinulla ole tunnusta? Rekisteröidy":"Onko sinulla tunnus? Kirjaudu sisään"})]})})}function I_(){const[r,s]=j.useState(!0),[i,l]=j.useState(null),[c,d]=j.useState(!0),[f,g]=j.useState("organizations"),m=Ft();j.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:{user:v},error:b}=await ht.auth.getUser();if(b||!v){m("/login");return}const{data:_,error:k}=await ht.from("platform_admins").select("user_id").eq("user_id",v.id).single();if(k||!_){alert("Access denied: Platform admin required"),m("/");return}console.log("✅ Platform admin verified:",v.email),l(v)}catch(v){console.error("Admin auth check failed:",v),m("/login")}finally{s(!1),d(!1)}};return r||c?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Checking admin access..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Admin"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Pic2Data Platform Management"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Settings"}),o.jsx("button",{onClick:()=>m("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Back to Main"})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsx("div",{className:"border-b border-gray-200 mb-6",children:o.jsx("nav",{className:"flex space-x-8",children:[{id:"organizations",name:"Organizations",icon:A1},{id:"users",name:"Users",icon:zr},{id:"analytics",name:"Analytics",icon:rg},{id:"settings",name:"Settings",icon:gg}].map(v=>o.jsxs("button",{onClick:()=>g(v.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${f===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(v.icon,{className:"h-4 w-4"}),v.name]},v.id))})}),f==="organizations"&&o.jsx(ew,{}),f==="users"&&o.jsx(tw,{}),f==="analytics"&&o.jsx(aw,{}),f==="settings"&&o.jsx(nw,{})]})]})}const W_=({isOpen:r,onClose:s,onSuccess:i})=>{const[l,c]=j.useState({name:"",slug:"",industry_type:"pinnoitus",contact_email:"",subscription_plan:"trial"}),[d,f]=j.useState(!1),g=async v=>{v.preventDefault(),f(!0);try{await _t.createOrganization(l),i(),s(),c({name:"",slug:"",industry_type:"pinnoitus",contact_email:"",subscription_plan:"trial"})}catch(b){alert("Failed to create organization: "+b.message)}finally{f(!1)}},m=v=>v.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),p=v=>{c(b=>({...b,name:v,slug:m(v)}))};return r?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Organization"}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),o.jsx("input",{type:"text",required:!0,value:l.name,onChange:v=>p(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Teräs Oy"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (subdomain)"}),o.jsx("input",{type:"text",required:!0,value:l.slug,onChange:v=>c(b=>({...b,slug:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. steeltech"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will be accessible at: ",l.slug,".pic2data.local"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry / Teollisuus"}),o.jsxs("select",{value:l.industry_type,onChange:v=>c(b=>({...b,industry_type:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"coating",children:"Pinnoitusteollisuus"}),o.jsx("option",{value:"steel",children:"Teräsrakentaminen"}),o.jsx("option",{value:"machining",children:"Koneistusteollisuus"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Määrittää AI-analyysin tyypin ja käyttöliittymän"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),o.jsx("input",{type:"email",required:!0,value:l.contact_email,onChange:v=>c(b=>({...b,contact_email:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"contact@company.com"})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:d?"Creating...":"Create Organization"})]})]})]})}):null},ew=()=>{const[r,s]=j.useState([]),[i,l]=j.useState(!0),[c,d]=j.useState(!1);j.useEffect(()=>{f()},[]);const f=async()=>{try{const m=await _t.getAllOrganizations();s(m)}catch(m){console.error("Failed to load organizations:",m)}finally{l(!1)}},g=()=>{f()};return i?o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsx("div",{className:"animate-pulse",children:"Loading organizations..."})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:["Organizations (",r.length,")"]}),o.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[o.jsx(Qi,{className:"h-4 w-4"}),"Add Organization"]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Slug"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Industry"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Users"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Projects"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:m.name}),o.jsx("div",{className:"text-sm text-gray-500",children:m.contact_email})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.slug}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.industry_type}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.subscription_plan==="enterprise"?"bg-purple-100 text-purple-800":m.subscription_plan==="professional"?"bg-blue-100 text-blue-800":m.subscription_plan==="starter"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.subscription_plan})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.user_count||0}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.project_count||0}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(m.created_at).toLocaleDateString("fi-FI")})]},m.id))})]})})]}),o.jsx(W_,{isOpen:c,onClose:()=>d(!1),onSuccess:g})]})},tw=()=>o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Users"}),o.jsx("p",{className:"text-gray-600",children:"User management coming soon..."})]}),aw=()=>o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Analytics"}),o.jsx("p",{className:"text-gray-600",children:"Platform analytics coming soon..."})]}),nw=()=>o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"System Settings"}),o.jsx("p",{className:"text-gray-600",children:"System settings coming soon..."})]}),wr=({children:r})=>{const[s,i]=j.useState(null),[l,c]=j.useState(!0);return j.useEffect(()=>{ht.auth.getSession().then(({data:d})=>{i(d.session),c(!1)})},[]),l?o.jsx("div",{children:"Ladataan..."}):s?r:o.jsx($i,{to:"/"})};function sw(){const{organization:r,user:s}=tl(),i=Ft(),[l,c]=j.useState("members"),[d,f]=j.useState([]),[g,m]=j.useState([]),[p,v]=j.useState(!0),[b,_]=j.useState(!1);j.useEffect(()=>{!r||!s||k()},[r,s]);const k=async()=>{try{const z=await _t.getUsersInOrganization(r.id);f(z);const O=await _t.getInvitations(r.id);m(O)}catch(z){console.error("Failed to load team data:",z)}finally{v(!1)}},R=()=>{_(!1),k()};return!r||r.type==="PLATFORM_ADMIN"||r.userRole!=="owner"?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Only organization owners can access team management."}),o.jsx("button",{onClick:()=>i("/app"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Back to App"})]})}):p?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Ji,{}),o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading team data..."})]})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Ji,{}),o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[r.name," - Team"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your team members and invitations"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>_(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[o.jsx(S_,{className:"h-4 w-4"}),"Invite Member"]}),o.jsx("button",{onClick:()=>i("/app"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to App"})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"border-b border-gray-200 mb-8",children:o.jsx("nav",{className:"flex space-x-8",children:[{id:"members",name:"Team Members",icon:zr,count:d.length},{id:"invitations",name:"Pending Invitations",icon:hg,count:g.filter(z=>z.status==="pending").length},{id:"settings",name:"Settings",icon:gg,count:null}].map(z=>o.jsxs("button",{onClick:()=>c(z.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${l===z.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(z.icon,{className:"h-4 w-4"}),z.name,z.count!==null&&o.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:z.count})]},z.id))})}),l==="members"&&o.jsx(lw,{members:d,onRefresh:k}),l==="invitations"&&o.jsx(rw,{invitations:g,onRefresh:k}),l==="settings"&&o.jsx(ow,{organization:r})]}),b&&o.jsx(iw,{organization:r,currentUser:s,onClose:()=>_(!1),onSuccess:R})]})}const iw=({organization:r,currentUser:s,onClose:i,onSuccess:l})=>{const[c,d]=j.useState(""),[f,g]=j.useState("user"),[m,p]=j.useState(!1),[v,b]=j.useState(""),[_,k]=j.useState(""),[R,z]=j.useState(!1),O=async D=>{D.preventDefault(),b(""),p(!0);try{if(!c||!c.includes("@"))throw new Error("Anna validi sähköpostiosoite");const Q=await _t.createInvitation(r.id,c,f,s.id),$=`${window.location.origin}/join?token=${Q.token}`;k($),z(!0),d(""),g("user")}catch(Q){console.error("Failed to create invitation:",Q),b(Q.message)}finally{p(!1)}},q=()=>{navigator.clipboard.writeText(_),alert("Invite link copied to clipboard!")},V=()=>{z(!1),k(""),i(),R&&l()};return R?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:o.jsx(Tc,{className:"h-6 w-6 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Invitation Sent!"}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Invitation created for ",o.jsx("strong",{children:c})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invite Link:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:_,readOnly:!0,className:"flex-1 text-sm bg-white border border-gray-300 rounded px-3 py-2"}),o.jsxs("button",{onClick:q,className:"flex items-center gap-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm",children:[o.jsx(ug,{className:"h-4 w-4"}),"Copy"]})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Share this link with the new team member. Link expires in 7 days."})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{onClick:V,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg",children:"Done"})})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invite Team Member"}),o.jsxs("form",{onSubmit:O,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:c,onChange:D=>d(D.target.value),placeholder:"colleague@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:m})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:f,onChange:D=>g(D.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:m,children:[o.jsx("option",{value:"user",children:"User - Can create and view projects"}),o.jsx("option",{value:"admin",children:"Admin - Can manage team members"})]})]}),v&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:v})}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:m,children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:m||!c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:[m&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),m?"Creating...":"Send Invitation"]})]})]})]})})},lw=({members:r,onRefresh:s})=>{var g;const[i,l]=j.useState(null),c=async(m,p)=>{var v;try{await _t.removeUserFromOrganization(m,(v=r[0])==null?void 0:v.organization_id),s(),l(null),alert(`${p} removed from team`)}catch(b){console.error("Failed to remove member:",b),alert("Failed to remove member: "+b.message)}},d=m=>{const p={owner:{label:"Owner",color:"bg-purple-100 text-purple-800"},admin:{label:"Admin",color:"bg-blue-100 text-blue-800"},user:{label:"User",color:"bg-gray-100 text-gray-800"}};return p[m]||p.user},f=m=>new Date(m).toLocaleDateString("fi-FI",{year:"numeric",month:"short",day:"numeric"});return r.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(zr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members"}),o.jsx("p",{className:"text-gray-500",children:"Start by inviting your first team member."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Team Members (",r.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(m=>{var v,b,_,k,R,z;const p=d(m.role);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium text-sm",children:((b=(v=m.user)==null?void 0:v.email)==null?void 0:b.charAt(0).toUpperCase())||((_=m.user_id)==null?void 0:_.charAt(0).toUpperCase())||"?"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:((k=m.user)==null?void 0:k.email)||`User ${(R=m.user_id)==null?void 0:R.slice(0,8)}`}),o.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",(z=m.user_id)==null?void 0:z.slice(0,8),"..."]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.color}`,children:p.label})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f(m.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.role!=="owner"?o.jsxs("button",{onClick:()=>l(m),className:"text-red-600 hover:text-red-800 flex items-center gap-1",children:[o.jsx(Xi,{className:"h-4 w-4"}),"Remove"]}):o.jsxs("span",{className:"text-gray-400 flex items-center gap-1",children:[o.jsx(g_,{className:"h-4 w-4"}),"Owner"]})})]},m.id)})})]})})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Remove Team Member?"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to remove ",o.jsx("strong",{children:((g=i.user)==null?void 0:g.email)||i.user_id})," from the team? They will lose access to all organization projects."]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>{var m;return c(i.user_id,((m=i.user)==null?void 0:m.email)||i.user_id)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove Member"})]})]})})]})},rw=({invitations:r,onRefresh:s})=>{const[i,l]=j.useState(null),c=async m=>{try{await _t.deleteInvitation(m),s(),l(null),alert("Invitation deleted")}catch(p){console.error("Failed to delete invitation:",p),alert("Failed to delete invitation: "+p.message)}},d=m=>new Date(m).toLocaleDateString("fi-FI",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=m=>{const p={pending:"bg-yellow-100 text-yellow-800",accepted:"bg-green-100 text-green-800",expired:"bg-red-100 text-red-800"};return p[m]||p.pending},g=m=>{const v=`${window.location.origin}/join?token=${m}`;navigator.clipboard.writeText(v),alert("Invite link copied to clipboard!")};return r.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(hg,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pending invitations"}),o.jsx("p",{className:"text-gray-500",children:"Invite new team members to get started."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pending Invitations (",r.filter(m=>m.status==="pending").length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invited"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(m=>{const p=new Date(m.expires_at)<new Date,v=p?"expired":m.status;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 font-medium text-xs",children:m.email_address.charAt(0).toUpperCase()})})}),o.jsx("div",{className:"ml-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.email_address})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:m.role.charAt(0).toUpperCase()+m.role.slice(1)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(v)}`,children:v.charAt(0).toUpperCase()+v.slice(1)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(m.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(m.expires_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[m.status==="pending"&&!p&&o.jsxs("button",{onClick:()=>g(m.token),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[o.jsx(ug,{className:"h-4 w-4"}),"Copy Link"]}),o.jsxs("button",{onClick:()=>l(m),className:"text-red-600 hover:text-red-800 flex items-center gap-1",children:[o.jsx(Xi,{className:"h-4 w-4"}),"Delete"]})]})})]},m.id)})})]})})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Invitation?"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete the invitation for ",o.jsx("strong",{children:i.email_address}),"? This action cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>c(i.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete Invitation"})]})]})})]})},ow=({organization:r})=>o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Organization Settings"}),o.jsx("p",{className:"text-gray-600",children:"Settings coming soon..."})]});function uw(){var R,z;const[r]=ix();Ft();const s=r.get("token"),[i,l]=j.useState(!0),[c,d]=j.useState(null),[f,g]=j.useState(""),[m,p]=j.useState(!1),[v,b]=j.useState({email:"",password:"",confirmPassword:""});j.useEffect(()=>{if(console.log(" URL search params:",r.toString()),console.log(" Token from URL:",s),console.log(" Token type:",typeof s),console.log(" Token length:",s==null?void 0:s.length),!s){g("Invalid invitation link"),l(!1);return}_()},[s]);const _=async()=>{try{const O=await _t.getInvitationByToken(s);if(!O){g("Invitation not found or expired");return}d(O),b(q=>({...q,email:O.email_address}))}catch(O){console.error("Failed to load invitation:",O),g("Failed to load invitation")}finally{l(!1)}},k=async O=>{if(O.preventDefault(),g(""),v.password!==v.confirmPassword){g("Passwords do not match");return}if(v.password.length<6){g("Password must be at least 6 characters");return}p(!0);try{const{data:q,error:V}=await ht.auth.signUp({email:v.email,password:v.password});if(V)throw V;const D=q.user;if(!D)throw new Error("Registration failed");console.log(" User registered:",D.id);const{data:Q,error:L}=await ht.auth.signInWithPassword({email:v.email,password:v.password});if(L)throw L;console.log(" User signed in:",Q.user.id),await _t.acceptInvitation(s,D.id);const K=`http://${c.organization.slug}.pic2data.local:5173/app`;setTimeout(()=>{window.location.href=K},2e3),g(""),alert("Registration successful! Redirecting to your organization...")}catch(q){console.error("Registration failed:",q),g(q.message)}finally{p(!1)}};return i?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})}):f&&!c?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[o.jsx(B1,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Invalid Invitation"}),o.jsx("p",{className:"text-gray-600 mb-6",children:f}),o.jsx("a",{href:"/",className:"text-blue-600 hover:text-blue-800",children:"Go to main site"})]})}):o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full p-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:o.jsx(zr,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Join ",(R=c==null?void 0:c.organization)==null?void 0:R.name]}),o.jsxs("p",{className:"text-gray-600",children:["You've been invited to join the team as a ",o.jsx("strong",{children:c==null?void 0:c.role})]})]}),o.jsxs("form",{onSubmit:k,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:v.email,readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 text-gray-600"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{type:"password",value:v.password,onChange:O=>b(q=>({...q,password:O.target.value})),placeholder:"Choose a password (min. 6 characters)",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:6,disabled:m})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:v.confirmPassword,onChange:O=>b(q=>({...q,confirmPassword:O.target.value})),placeholder:"Confirm your password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:m})]}),f&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:f})}),o.jsxs("button",{type:"submit",disabled:m||!v.password||!v.confirmPassword,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[m&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),m?"Creating Account...":"Join Team"]})]}),o.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:o.jsxs("p",{children:["By joining, you agree to access ",(z=c==null?void 0:c.organization)==null?void 0:z.name,"'s projects and data."]})})]})})}const cw=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to Pic2Data"}),o.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Transform your technical drawings into actionable data"}),o.jsxs("div",{className:"space-x-4",children:[o.jsx("button",{onClick:()=>window.location.href="/app",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium",children:"Get Started"}),o.jsx("button",{onClick:()=>window.location.href="/admin",className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium",children:"Admin Login"})]})]})});function dw(){const{organization:r,loading:s}=tl(),[i,l]=j.useState(null);return j.useEffect(()=>{const c=window.location.hostname,d=Tr(c),f=window.location.pathname;if(s)return;let g=null;d==="admin"?g="ADMIN":d&&f==="/login"?g="ORGANIZATION_LOGIN":d&&r&&r.type!=="PLATFORM_ADMIN"||d&&!r?g="ORGANIZATION":d?g="NOT_FOUND":g="MAIN_SITE",g!==i&&(console.log("🔄 Routing mode change:",i,"→",g),l(g))},[r,s,i]),s||!i?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Pic2Data..."})]})}):i==="MAIN_SITE"?(console.log("🌐 Routing to: Main Site"),o.jsxs(gr,{children:[o.jsx(Ot,{path:"/",element:o.jsx(cw,{})}),o.jsx(Ot,{path:"/login",element:o.jsx(S0,{})}),o.jsx(Ot,{path:"/join",element:o.jsx(uw,{})}),o.jsx(Ot,{path:"/app",element:o.jsx(wr,{children:o.jsx(j0,{})})})]})):i==="ADMIN"?(console.log("👑 Routing mode: ADMIN detected"),o.jsx(gr,{children:o.jsx(Ot,{path:"*",element:o.jsx(I_,{})})})):i==="ORGANIZATION_LOGIN"?o.jsxs(gr,{children:[o.jsx(Ot,{path:"/login",element:o.jsx(S0,{})}),o.jsx(Ot,{path:"*",element:o.jsx($i,{to:"/login",replace:!0})})]}):i==="ORGANIZATION"?r?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r.name}),o.jsx("span",{className:"ml-3 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:r.industry_type})]}),o.jsxs("nav",{className:"flex space-x-4",children:[o.jsx("a",{href:"/app",className:"text-blue-600 hover:text-blue-800",children:"Analytiikka"}),o.jsx("a",{href:"/projektit",className:"text-gray-600 hover:text-gray-800",children:"Tarjoukset"}),console.log("🔍 Navigation debug:",{organization:r,userRole:r==null?void 0:r.userRole,shouldShowTeam:(r==null?void 0:r.userRole)==="owner"}),(r==null?void 0:r.userRole)==="owner"&&o.jsx("a",{href:"/team",className:"text-gray-600 hover:text-gray-800",children:"Team"})]})]})})}),o.jsxs(gr,{children:[o.jsx(Ot,{path:"/",element:o.jsx($i,{to:"/app",replace:!0})}),o.jsx(Ot,{path:"/app",element:o.jsx(wr,{children:o.jsx(j0,{})})}),o.jsx(Ot,{path:"/projektit",element:o.jsx(wr,{children:o.jsx(F_,{})})}),o.jsx(Ot,{path:"/team",element:o.jsx(wr,{children:o.jsx(sw,{})})}),o.jsx(Ot,{path:"*",element:o.jsx($i,{to:"/app",replace:!0})})]})]}):o.jsx($i,{to:"/login",replace:!0}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"The subdomain you're looking for doesn't exist."}),o.jsx("a",{href:"http://pic2data.local:5173",className:"text-blue-600 hover:text-blue-800",children:"Go to main site"})]})})}function hw(){return o.jsx(ex,{children:o.jsx(y1,{children:o.jsx(dw,{})})})}$y.createRoot(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx(hw,{})}));
